/**
 * @license
 * The AssemblyScript compiler
 * Copyright 2022 Daniel Wirtz / The AssemblyScript Authors
 * SPDX-License-Identifier: Apache-2.0
 */
var To=Object.defineProperty;var Qu=Object.getOwnPropertyDescriptor;var wd=Object.getOwnPropertyNames;var Md=Object.prototype.hasOwnProperty;var bo=(t,n)=>{for(var e in n)To(t,e,{get:n[e],enumerable:!0})},qu=(t,n,e,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of wd(n))!Md.call(t,i)&&i!==e&&To(t,i,{get:()=>n[i],enumerable:!(r=Qu(n,i))||r.enumerable});return t},Io=(t,n,e)=>(qu(t,n,"default"),e&&qu(e,n,"default"));var Zu=(t,n,e,r)=>{for(var i=r>1?void 0:r?Qu(n,e):n,s=t.length-1,a;s>=0;s--)(a=t[s])&&(i=(r?a(n,e,i):a(i))||i);return r&&i&&To(n,e,i),i};var Xu={};bo(Xu,{ASTBuilder:()=>$n,ArrayLiteralExpression:()=>ys,ArrowKind:()=>Bi,AssertionExpression:()=>gs,AssertionKind:()=>Zr,AtomicRMWOp:()=>Mu,BinaryExpression:()=>Ts,BinaryModule:()=>mo,BinaryOp:()=>oi,BlockStatement:()=>qs,BrOnOp:()=>e_,BreakStatement:()=>Qs,CallExpression:()=>bs,Class:()=>$r,ClassDeclaration:()=>Mi,ClassExpression:()=>Is,ClassPrototype:()=>An,CommaExpression:()=>vs,CommentKind:()=>Bo,CommentNode:()=>Es,CommonFlags:()=>Me,CommonNames:()=>w,CompiledExpression:()=>Xs,Compiler:()=>gr,ConditionKind:()=>Vl,ConstantValueKind:()=>Ql,Constraints:()=>tu,ConstructorExpression:()=>xs,ContinueStatement:()=>Zs,DEFAULT_STACK_SIZE:()=>TS,DeclarationStatement:()=>Ge,DeclaredElement:()=>vt,DecoratorFlags:()=>j,DecoratorKind:()=>Tt,DecoratorNode:()=>ds,DiagnosticCategory:()=>ps,DiagnosticCode:()=>nt,DiagnosticEmitter:()=>Ue,DiagnosticMessage:()=>Xr,DoStatement:()=>js,Element:()=>vn,ElementAccessExpression:()=>Ss,ElementKind:()=>J,EmptyStatement:()=>Js,Enum:()=>Ha,EnumDeclaration:()=>$s,EnumValue:()=>Xa,EnumValueDeclaration:()=>ea,ExportDefaultStatement:()=>na,ExportImportStatement:()=>ta,ExportMember:()=>ra,ExportNames:()=>Fn,ExportStatement:()=>ia,Expression:()=>_e,ExpressionId:()=>cr,ExpressionRunnerFlags:()=>uo,ExpressionStatement:()=>sa,ExternalKind:()=>$l,FEATURE_BULK_MEMORY:()=>RS,FEATURE_EXCEPTION_HANDLING:()=>LS,FEATURE_EXTENDED_CONST:()=>US,FEATURE_FUNCTION_REFERENCES:()=>wS,FEATURE_GC:()=>PS,FEATURE_MEMORY64:()=>OS,FEATURE_MULTI_VALUE:()=>kS,FEATURE_MUTABLE_GLOBALS:()=>xS,FEATURE_NONTRAPPING_F2I:()=>SS,FEATURE_REFERENCE_TYPES:()=>FS,FEATURE_RELAXED_SIMD:()=>MS,FEATURE_SIGN_EXTENSION:()=>vS,FEATURE_SIMD:()=>AS,FEATURE_TAIL_CALLS:()=>CS,FEATURE_THREADS:()=>NS,FalseExpression:()=>Ws,Feature:()=>Ut,FeatureFlags:()=>iu,Field:()=>zi,FieldDeclaration:()=>aa,FieldFlags:()=>Gl,FieldPrototype:()=>Ka,File:()=>Sn,FloatLiteralExpression:()=>Rs,Flow:()=>Pe,FlowFlags:()=>Va,ForOfStatement:()=>la,ForStatement:()=>oa,Function:()=>Xe,FunctionDeclaration:()=>ur,FunctionExpression:()=>As,FunctionPrototype:()=>We,FunctionTypeNode:()=>fs,GETTER_PREFIX:()=>is,Global:()=>dr,INDEX_SUFFIX:()=>Ce,INNER_DELIMITER:()=>Co,INSTANCE_DELIMITER:()=>Ci,IdentifierExpression:()=>$e,IdentifierHandling:()=>Go,IfStatement:()=>ua,ImportDeclaration:()=>pa,ImportStatement:()=>Ui,IndexSignature:()=>Yi,IndexSignatureNode:()=>Ks,InstanceOfExpression:()=>Ns,IntegerLiteralExpression:()=>Ls,Interface:()=>Hi,InterfaceDeclaration:()=>ca,InterfacePrototype:()=>qa,JSBuilder:()=>er,LIBRARY_PREFIX:()=>Je,LIBRARY_SUBST:()=>ss,LiteralExpression:()=>at,LiteralKind:()=>De,Local:()=>Oe,LocalFlags:()=>za,MemorySegment:()=>_i,MethodDeclaration:()=>_a,Module:()=>tt,ModuleDeclaration:()=>ga,NamedTypeNode:()=>Oi,Namespace:()=>Rn,NamespaceDeclaration:()=>fa,NewExpression:()=>Cs,Node:()=>O,NodeKind:()=>gt,NullExpression:()=>Fs,ObjectLiteralExpression:()=>ks,OmittedExpression:()=>Ps,OperatorKind:()=>Fe,Options:()=>kn,PARENT_SUBST:()=>jd,PATH_DELIMITER:()=>je,Parameter:()=>ql,ParameterKind:()=>Qr,ParameterNode:()=>ms,ParenthesizedExpression:()=>Os,Parser:()=>bn,Precedence:()=>he,Program:()=>In,Property:()=>Wi,PropertyAccessExpression:()=>ws,PropertyPrototype:()=>Er,Range:()=>se,RefAsOp:()=>$c,RefIsOp:()=>lo,RegexpLiteralExpression:()=>Ms,Relooper:()=>gi,ReportMode:()=>Ra,Resolver:()=>Vi,ReturnStatement:()=>ha,Runtime:()=>rs,RuntimeFeatures:()=>ru,SETTER_PREFIX:()=>ns,SIMDExtractOp:()=>Uu,SIMDLoadOp:()=>Gu,SIMDLoadStoreLaneOp:()=>Vu,SIMDReplaceOp:()=>Bu,SIMDShiftOp:()=>Du,SIMDTernaryOp:()=>zu,STATIC_DELIMITER:()=>Fi,STUB_DELIMITER:()=>Fo,SideEffects:()=>On,Signature:()=>ge,Source:()=>lr,SourceKind:()=>jr,State:()=>Sa,Statement:()=>ue,StringLiteralExpression:()=>Bs,SuperExpression:()=>Ds,SwitchBuilder:()=>Pn,SwitchCase:()=>ma,SwitchStatement:()=>da,TSDBuilder:()=>tr,Target:()=>Wr,TemplateLiteralExpression:()=>Gs,TernaryExpression:()=>Us,ThisExpression:()=>Vs,ThrowStatement:()=>Ea,Token:()=>Jr,Tokenizer:()=>Gi,TrueExpression:()=>zs,TryStatement:()=>ya,Type:()=>u,TypeDeclaration:()=>Ta,TypeDefinition:()=>ct,TypeFlags:()=>Bt,TypeKind:()=>or,TypeName:()=>_s,TypeNode:()=>Pi,TypeParameterNode:()=>hs,TypeRef:()=>F,TypedElement:()=>xt,Typeinfo:()=>Yr,TypeinfoFlags:()=>Li,UnaryExpression:()=>wi,UnaryOp:()=>mn,UnaryPostfixExpression:()=>Ys,UnaryPrefixExpression:()=>Hs,VariableDeclaration:()=>ba,VariableLikeDeclarationStatement:()=>qr,VariableLikeElement:()=>Wt,VariableStatement:()=>Ia,VoidStatement:()=>va,WhileStatement:()=>xa,addGlobalAlias:()=>hS,allocPtrArray:()=>me,buildJS:()=>pR,buildTSD:()=>uR,compile:()=>lR,createType:()=>Be,diagnosticCategoryToColor:()=>ip,diagnosticCategoryToString:()=>us,diagnosticCodeToString:()=>es,disableFeature:()=>DS,enableFeature:()=>BS,expandType:()=>eu,featureToString:()=>zr,findDecorator:()=>bt,findUsedLocals:()=>lt,formatDiagnostic:()=>np,formatDiagnosticMessage:()=>np,getBinaryLeft:()=>Ve,getBinaryOp:()=>ai,getBinaryRight:()=>Re,getBinaryenModuleRef:()=>cR,getBlockChildAt:()=>gn,getBlockChildCount:()=>yn,getBlockName:()=>En,getBreakCondition:()=>L2,getBreakName:()=>N2,getCallOperandAt:()=>ke,getCallOperandCount:()=>ut,getCallTarget:()=>hn,getConstValueF32:()=>Ke,getConstValueF64:()=>qe,getConstValueI32:()=>ie,getConstValueI64High:()=>rt,getConstValueI64Low:()=>ze,getConstValueV128:()=>nu,getDefaultParameterName:()=>Fc,getDependee:()=>aR,getDiagnosticCategory:()=>KS,getDiagnosticCode:()=>XS,getDiagnosticMessage:()=>qS,getDiagnosticRange:()=>QS,getDiagnosticRelatedRange:()=>ZS,getDropValue:()=>F2,getExpressionId:()=>te,getExpressionType:()=>oe,getFunctionBody:()=>O2,getFunctionName:()=>w2,getFunctionParams:()=>M2,getFunctionResults:()=>U2,getFunctionVars:()=>B2,getGlobalGetName:()=>dn,getGlobalInit:()=>V2,getGlobalName:()=>D2,getGlobalType:()=>G2,getIfCondition:()=>Ga,getIfFalse:()=>si,getIfTrue:()=>fn,getLoadBytes:()=>zl,getLoadOffset:()=>T2,getLoadPtr:()=>b2,getLocalGetIndex:()=>pt,getLocalSetIndex:()=>Ba,getLocalSetValue:()=>mr,getLoopBody:()=>A2,getLoopName:()=>R2,getMemoryGrowDelta:()=>P2,getRangeEnd:()=>JS,getRangeSource:()=>$S,getRangeStart:()=>jS,getReturnValue:()=>k2,getSelectCondition:()=>C2,getSelectElse:()=>Hl,getSelectThen:()=>Yl,getSideEffects:()=>fi,getSource:()=>HS,getSourceNormalizedPath:()=>eR,getStoreBytes:()=>I2,getStoreOffset:()=>v2,getStorePtr:()=>x2,getStoreValue:()=>S2,getTagName:()=>z2,getTagParams:()=>W2,getTagResults:()=>Y2,getUnaryOp:()=>_n,getUnaryValue:()=>Da,initializeProgram:()=>oR,isConstNonZero:()=>et,isConstZero:()=>be,isDeclaredElement:()=>xn,isError:()=>iR,isGlobalMutable:()=>su,isIllegalVariableIdentifier:()=>Vo,isInfo:()=>tR,isLoadSigned:()=>Wl,isLocalTee:()=>cn,isTypeOmitted:()=>Se,isTypedElement:()=>zo,isWarning:()=>rR,mangleInternalName:()=>Ie,mangleInternalPath:()=>Di,mustPreserveSideEffects:()=>fo,needsExplicitUnreachable:()=>po,newOptions:()=>eS,newProgram:()=>WS,nextDiagnostic:()=>YS,nextFile:()=>sR,operatorTokenToString:()=>Te,optimize:()=>fR,parse:()=>nR,readString:()=>He,removeGlobalAlias:()=>mS,setBasenameHint:()=>VS,setBundleVersion:()=>IS,setExportMemory:()=>nS,setExportRuntime:()=>gS,setExportStart:()=>dS,setExportTable:()=>pS,setImportMemory:()=>sS,setImportTable:()=>uS,setInitialMemory:()=>aS,setLowMemoryLimit:()=>yS,setMaximumMemory:()=>oS,setMemoryBase:()=>_S,setNoAssert:()=>iS,setNoUnsafe:()=>ES,setOptimizeLevelHints:()=>GS,setPedantic:()=>zS,setRuntime:()=>rS,setSharedMemory:()=>lS,setSourceMap:()=>cS,setStackSize:()=>bS,setTableBase:()=>fS,setTarget:()=>tS,tokenFromKeyword:()=>sp,tokenIsAlsoIdentifier:()=>ap,typesToRefs:()=>Kr,typesToString:()=>cs,util:()=>Uo,validate:()=>_R});var Q=typeof window<"u"&&window||typeof global<"u"&&global||self;if(typeof Q.ASC_TARGET>"u"){let t=function(){Error.captureStackTrace?Error.captureStackTrace(this,t):this.stack=this.name+": "+this.message+`
`+new Error().stack},n=function(i){this.message=i||"assertion failed",Error.captureStackTrace?Error.captureStackTrace(this,n):this.stack=this.name+": "+this.message+`
`+new Error().stack},e=function(i,s){if(i==s){if(i!=0)return 0;i=1/i,s=1/s}else{var a=i!=i,o=s!=s;if(a|o)return a-o;i==null&&(i=String(i)),s==null&&(s=String(s))}return i>s?1:-1};Q.ASC_TARGET=0,Q.ASC_RUNTIME=0,Q.ASC_NO_ASSERT=!1,Q.ASC_MEMORY_BASE=0,Q.ASC_OPTIMIZE_LEVEL=3,Q.ASC_SHRINK_LEVEL=0,Q.ASC_FEATURE_MUTABLE_GLOBAL=!1,Q.ASC_FEATURE_SIGN_EXTENSION=!1,Q.ASC_FEATURE_BULK_MEMORY=!1,Q.ASC_FEATURE_SIMD=!1,Q.ASC_FEATURE_THREADS=!1,vo=new Float64Array(1),ju=new Uint32Array(vo.buffer),Object.defineProperties(Q.i8=function(s){return s<<24>>24},{MIN_VALUE:{value:-128},MAX_VALUE:{value:127}}),Object.defineProperties(Q.i16=function(s){return s<<16>>16},{MIN_VALUE:{value:-32768},MAX_VALUE:{value:32767}}),Object.defineProperties(Q.i32=Q.isize=function(s){return s|0},{MIN_VALUE:{value:-2147483648},MAX_VALUE:{value:2147483647}}),Object.defineProperties(Q.u8=function(s){return s&255},{MIN_VALUE:{value:0},MAX_VALUE:{value:255}}),Object.defineProperties(Q.u16=function(s){return s&65535},{MIN_VALUE:{value:0},MAX_VALUE:{value:65535}}),Object.defineProperties(Q.u32=Q.usize=function(s){return s>>>0},{MIN_VALUE:{value:0},MAX_VALUE:{value:4294967295}}),Object.defineProperties(Q.bool=function(s){return!!s},{MIN_VALUE:{value:!1},MAX_VALUE:{value:!0}}),Object.defineProperties(Q.f32=function(s){return Math.fround(s)},{EPSILON:{value:11920928955078125e-23},MIN_VALUE:{value:1401298464324817e-60},MAX_VALUE:{value:34028234663852886e22},MIN_NORMAL_VALUE:{value:11754943508222875e-54},MIN_SAFE_INTEGER:{value:-16777215},MAX_SAFE_INTEGER:{value:16777215},POSITIVE_INFINITY:{value:1/0},NEGATIVE_INFINITY:{value:-1/0},NaN:{value:NaN}}),Object.defineProperties(Q.f64=function(s){return+s},{EPSILON:{value:2220446049250313e-31},MIN_VALUE:{value:5e-324},MAX_VALUE:{value:17976931348623157e292},MIN_NORMAL_VALUE:{value:22250738585072014e-324},MIN_SAFE_INTEGER:{value:-9007199254740991},MAX_SAFE_INTEGER:{value:9007199254740991},POSITIVE_INFINITY:{value:1/0},NEGATIVE_INFINITY:{value:-1/0},NaN:{value:NaN}}),Q.clz=Math.clz32,Q.ctz=function(s){return 32-Math.clz32(~s&s-1)},Q.popcnt=function(s){return s-=s>>>1&1431655765,s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24},Q.rotl=function(s,a){return a&=31,s<<a|s>>>32-a},Q.rotr=function(s,a){return a&=31,s>>>a|s<<32-a},Q.abs=Math.abs,Q.max=Math.max,Q.min=Math.min,Q.ceil=Math.ceil,Q.floor=Math.floor,Q.nearest=function(s){let o=Math.abs(s);return o<4503599627370496?Math.abs(o+4503599627370496-4503599627370496)*Math.sign(s):s},Q.select=function(s,a,o){return o?s:a},Q.sqrt=Math.sqrt,Q.trunc=Math.trunc,Q.copysign=function(s,a){return Math.abs(s)*Math.sign(a)},Q.bswap=function(s){var a=s>>8&16711935,o=(s&16711935)<<8;return s=a|o,a=s>>16&65535,o=(s&65535)<<16,a|o},Q.bswap16=function(s){return s<<8&65280|s>>8&255|s&4294901760},t.prototype=Object.create(Error.prototype),t.prototype.name="UnreachableError",t.prototype.message="unreachable",Q.unreachable=function(){throw new t},n.prototype=Object.create(Error.prototype),n.prototype.name="AssertionError",Q.assert=function(s,a){if(s)return s;throw new n(a)},Q.changetype=function(s){return s},String.fromCharCodes=function(s){let o=s.length;if(o<=8192)return String.fromCharCode.apply(String,s);let l=0,p="";for(;l<o;)p+=String.fromCharCode.apply(String,s.slice(l,Math.min(l+8192,o))),l+=8192;return p},String.fromCodePoints=function(s){let o=s.length;if(o<=8192)return String.fromCodePoint.apply(String,s);let l=0,p="";for(;l<o;)p+=String.fromCodePoint.apply(String,s.slice(l,Math.min(l+8192,o))),l+=8192;return p},String.prototype.at||Object.defineProperty(String.prototype,"at",{value:function(s){return this.charAt(s>=0?s:s+this.length)},configurable:!0}),String.prototype.replaceAll||Object.defineProperty(String.prototype,"replaceAll",{value:function(s,a){var o=this.split(s).join(a);return s.length||(o=a+o+a),o},configurable:!0});let r=Array.prototype.sort;Array.prototype.sort=function(s){return r.call(this,s||e)},[Array,Uint8ClampedArray,Uint8Array,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array,Float32Array,Float64Array].forEach(i=>{i.prototype.at||Object.defineProperty(i.prototype,"at",{value:function(a){return this[a>=0?a:a+this.length]},configurable:!0}),i.prototype.findLastIndex||Object.defineProperty(i.prototype,"findLastIndex",{value:function(a){for(let o=this.length-1;o>=0;--o)if(a(this[o],o,this))return o;return-1},configurable:!0}),i!=Array&&Object.defineProperty(i,"wrap",{value:function(a,o,l){return new i(a,o,l)},configurable:!0})}),Q.isInteger=Number.isInteger,Q.isFloat=function(s){return typeof s=="number"},Q.isNullable=function(s){return!0},Q.isReference=function(s){return typeof s=="object"||typeof s=="string"},Q.isFunction=function(s){return typeof s=="function"},Q.isString=function(s){return typeof s=="string"||s instanceof String},Q.isArray=Array.isArray,Q.isArrayLike=function(s){return s&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&Math.trunc(s.length)===s.length},Q.isDefined=function(s){return typeof s<"u"},Q.isConstant=function(s){return!1},Q.unchecked=function(s){return s},Q.fmod=function(s,a){return s%a},Q.fmodf=function(s,a){return Math.fround(s%a)},Q.JSMath=Math,Object.defineProperties(Q.JSMath,{sincos_sin:{value:0,writable:!0},sincos_cos:{value:0,writable:!0},signbit:{value:function(s){return vo[0]=s,Boolean(ju[1]>>>31)}},sincos:{value:function(s){this.sincos_sin=Math.sin(s),this.sincos_cos=Math.cos(s)}},exp2:{value:function(s){return Math.pow(2,s)}}}),Q.unmanaged=function(){},Q.trace=function(i,s){s&&(i+=Array.prototype.slice.call(arguments,2,2+s)),console.error("trace: "+i)}}else console.warn("compiler mismatch: std/portable included twice");var vo,ju;var Si={};bo(Si,{default:()=>Ri});Io(Si,nC);import*as nC from"binaryen";import{default as Ri}from"binaryen";var nt=(x=>(x[x.Not_implemented_0=100]="Not_implemented_0",x[x.Operation_is_unsafe=101]="Operation_is_unsafe",x[x.User_defined_0=102]="User_defined_0",x[x.Feature_0_is_not_enabled=103]="Feature_0_is_not_enabled",x[x.Low_memory_limit_exceeded_by_static_data_0_1=104]="Low_memory_limit_exceeded_by_static_data_0_1",x[x.Module_requires_at_least_0_pages_of_initial_memory=105]="Module_requires_at_least_0_pages_of_initial_memory",x[x.Module_requires_at_least_0_pages_of_maximum_memory=106]="Module_requires_at_least_0_pages_of_maximum_memory",x[x.Shared_memory_requires_maximum_memory_to_be_defined=107]="Shared_memory_requires_maximum_memory_to_be_defined",x[x.Shared_memory_requires_feature_threads_to_be_enabled=108]="Shared_memory_requires_feature_threads_to_be_enabled",x[x.Transform_0_1=109]="Transform_0_1",x[x.Start_function_name_0_is_invalid_or_conflicts_with_another_export=110]="Start_function_name_0_is_invalid_or_conflicts_with_another_export",x[x.Element_0_not_found=111]="Element_0_not_found",x[x.Conversion_from_type_0_to_1_requires_an_explicit_cast=200]="Conversion_from_type_0_to_1_requires_an_explicit_cast",x[x.Conversion_from_type_0_to_1_will_require_an_explicit_cast_when_switching_between_32_64_bit=201]="Conversion_from_type_0_to_1_will_require_an_explicit_cast_when_switching_between_32_64_bit",x[x.Type_0_cannot_be_changed_to_type_1=202]="Type_0_cannot_be_changed_to_type_1",x[x.Operation_0_cannot_be_applied_to_type_1=203]="Operation_0_cannot_be_applied_to_type_1",x[x.Type_0_cannot_be_nullable=204]="Type_0_cannot_be_nullable",x[x.Mutable_value_cannot_be_inlined=206]="Mutable_value_cannot_be_inlined",x[x.Unmanaged_classes_cannot_extend_managed_classes_and_vice_versa=207]="Unmanaged_classes_cannot_extend_managed_classes_and_vice_versa",x[x.Unmanaged_classes_cannot_implement_interfaces=208]="Unmanaged_classes_cannot_implement_interfaces",x[x.Invalid_regular_expression_flags=209]="Invalid_regular_expression_flags",x[x.Expression_is_never_null=210]="Expression_is_never_null",x[x.Class_0_is_final_and_cannot_be_extended=211]="Class_0_is_final_and_cannot_be_extended",x[x.Decorator_0_is_not_valid_here=212]="Decorator_0_is_not_valid_here",x[x.Duplicate_decorator=213]="Duplicate_decorator",x[x.Type_0_is_illegal_in_this_context=214]="Type_0_is_illegal_in_this_context",x[x.Optional_parameter_must_have_an_initializer=215]="Optional_parameter_must_have_an_initializer",x[x.Class_0_cannot_declare_a_constructor_when_instantiated_from_an_object_literal=216]="Class_0_cannot_declare_a_constructor_when_instantiated_from_an_object_literal",x[x.Function_0_cannot_be_inlined_into_itself=217]="Function_0_cannot_be_inlined_into_itself",x[x.Cannot_access_method_0_without_calling_it_as_it_requires_this_to_be_set=218]="Cannot_access_method_0_without_calling_it_as_it_requires_this_to_be_set",x[x.Optional_properties_are_not_supported=219]="Optional_properties_are_not_supported",x[x.Expression_must_be_a_compile_time_constant=220]="Expression_must_be_a_compile_time_constant",x[x.Type_0_is_not_a_function_index_or_function_reference=221]="Type_0_is_not_a_function_index_or_function_reference",x[x._0_must_be_a_value_between_1_and_2_inclusive=222]="_0_must_be_a_value_between_1_and_2_inclusive",x[x._0_must_be_a_power_of_two=223]="_0_must_be_a_power_of_two",x[x._0_is_not_a_valid_operator=224]="_0_is_not_a_valid_operator",x[x.Expression_cannot_be_represented_by_a_type=225]="Expression_cannot_be_represented_by_a_type",x[x.Expression_resolves_to_unusual_type_0=226]="Expression_resolves_to_unusual_type_0",x[x.Array_literal_expected=227]="Array_literal_expected",x[x.Function_0_is_virtual_and_will_not_be_inlined=228]="Function_0_is_virtual_and_will_not_be_inlined",x[x.Property_0_only_has_a_setter_and_is_missing_a_getter=229]="Property_0_only_has_a_setter_and_is_missing_a_getter",x[x._0_keyword_cannot_be_used_here=230]="_0_keyword_cannot_be_used_here",x[x.A_class_with_a_constructor_explicitly_returning_something_else_than_this_must_be_final=231]="A_class_with_a_constructor_explicitly_returning_something_else_than_this_must_be_final",x[x.Property_0_is_always_assigned_before_being_used=233]="Property_0_is_always_assigned_before_being_used",x[x.Expression_does_not_compile_to_a_value_at_runtime=234]="Expression_does_not_compile_to_a_value_at_runtime",x[x.Only_variables_functions_and_enums_become_WebAssembly_module_exports=235]="Only_variables_functions_and_enums_become_WebAssembly_module_exports",x[x.Importing_the_table_disables_some_indirect_call_optimizations=901]="Importing_the_table_disables_some_indirect_call_optimizations",x[x.Exporting_the_table_disables_some_indirect_call_optimizations=902]="Exporting_the_table_disables_some_indirect_call_optimizations",x[x.Expression_compiles_to_a_dynamic_check_at_runtime=903]="Expression_compiles_to_a_dynamic_check_at_runtime",x[x.Indexed_access_may_involve_bounds_checking=904]="Indexed_access_may_involve_bounds_checking",x[x.Explicitly_returning_constructor_drops_this_allocation=905]="Explicitly_returning_constructor_drops_this_allocation",x[x.Unnecessary_definite_assignment=906]="Unnecessary_definite_assignment",x[x.Unterminated_string_literal=1002]="Unterminated_string_literal",x[x.Identifier_expected=1003]="Identifier_expected",x[x._0_expected=1005]="_0_expected",x[x.A_file_cannot_have_a_reference_to_itself=1006]="A_file_cannot_have_a_reference_to_itself",x[x.Trailing_comma_not_allowed=1009]="Trailing_comma_not_allowed",x[x.Unexpected_token=1012]="Unexpected_token",x[x.A_rest_parameter_must_be_last_in_a_parameter_list=1014]="A_rest_parameter_must_be_last_in_a_parameter_list",x[x.Parameter_cannot_have_question_mark_and_initializer=1015]="Parameter_cannot_have_question_mark_and_initializer",x[x.A_required_parameter_cannot_follow_an_optional_parameter=1016]="A_required_parameter_cannot_follow_an_optional_parameter",x[x._0_modifier_cannot_appear_on_class_elements_of_this_kind=1031]="_0_modifier_cannot_appear_on_class_elements_of_this_kind",x[x.Statements_are_not_allowed_in_ambient_contexts=1036]="Statements_are_not_allowed_in_ambient_contexts",x[x.Initializers_are_not_allowed_in_ambient_contexts=1039]="Initializers_are_not_allowed_in_ambient_contexts",x[x._0_modifier_cannot_be_used_here=1042]="_0_modifier_cannot_be_used_here",x[x.A_rest_parameter_cannot_be_optional=1047]="A_rest_parameter_cannot_be_optional",x[x.A_rest_parameter_cannot_have_an_initializer=1048]="A_rest_parameter_cannot_have_an_initializer",x[x.A_set_accessor_must_have_exactly_one_parameter=1049]="A_set_accessor_must_have_exactly_one_parameter",x[x.A_set_accessor_parameter_cannot_have_an_initializer=1052]="A_set_accessor_parameter_cannot_have_an_initializer",x[x.A_get_accessor_cannot_have_parameters=1054]="A_get_accessor_cannot_have_parameters",x[x.Enum_member_must_have_initializer=1061]="Enum_member_must_have_initializer",x[x.Type_parameters_cannot_appear_on_a_constructor_declaration=1092]="Type_parameters_cannot_appear_on_a_constructor_declaration",x[x.Type_annotation_cannot_appear_on_a_constructor_declaration=1093]="Type_annotation_cannot_appear_on_a_constructor_declaration",x[x.An_accessor_cannot_have_type_parameters=1094]="An_accessor_cannot_have_type_parameters",x[x.A_set_accessor_cannot_have_a_return_type_annotation=1095]="A_set_accessor_cannot_have_a_return_type_annotation",x[x.Type_parameter_list_cannot_be_empty=1098]="Type_parameter_list_cannot_be_empty",x[x.Type_argument_list_cannot_be_empty=1099]="Type_argument_list_cannot_be_empty",x[x.A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement=1104]="A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement",x[x.A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement=1105]="A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement",x[x.A_return_statement_can_only_be_used_within_a_function_body=1108]="A_return_statement_can_only_be_used_within_a_function_body",x[x.Expression_expected=1109]="Expression_expected",x[x.Type_expected=1110]="Type_expected",x[x.A_default_clause_cannot_appear_more_than_once_in_a_switch_statement=1113]="A_default_clause_cannot_appear_more_than_once_in_a_switch_statement",x[x.Duplicate_label_0=1114]="Duplicate_label_0",x[x.An_export_assignment_cannot_have_modifiers=1120]="An_export_assignment_cannot_have_modifiers",x[x.Octal_literals_are_not_allowed_in_strict_mode=1121]="Octal_literals_are_not_allowed_in_strict_mode",x[x.Digit_expected=1124]="Digit_expected",x[x.Hexadecimal_digit_expected=1125]="Hexadecimal_digit_expected",x[x.Unexpected_end_of_text=1126]="Unexpected_end_of_text",x[x.Invalid_character=1127]="Invalid_character",x[x._case_or_default_expected=1130]="_case_or_default_expected",x[x._super_must_be_followed_by_an_argument_list_or_member_access=1034]="_super_must_be_followed_by_an_argument_list_or_member_access",x[x.A_declare_modifier_cannot_be_used_in_an_already_ambient_context=1038]="A_declare_modifier_cannot_be_used_in_an_already_ambient_context",x[x.Type_argument_expected=1140]="Type_argument_expected",x[x.String_literal_expected=1141]="String_literal_expected",x[x.Line_break_not_permitted_here=1142]="Line_break_not_permitted_here",x[x.Declaration_expected=1146]="Declaration_expected",x[x._const_declarations_must_be_initialized=1155]="_const_declarations_must_be_initialized",x[x.Unterminated_regular_expression_literal=1161]="Unterminated_regular_expression_literal",x[x.Interface_declaration_cannot_have_implements_clause=1176]="Interface_declaration_cannot_have_implements_clause",x[x.Binary_digit_expected=1177]="Binary_digit_expected",x[x.Octal_digit_expected=1178]="Octal_digit_expected",x[x.An_implementation_cannot_be_declared_in_ambient_contexts=1183]="An_implementation_cannot_be_declared_in_ambient_contexts",x[x.The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer=1190]="The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer",x[x.An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive=1198]="An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive",x[x.Unterminated_Unicode_escape_sequence=1199]="Unterminated_Unicode_escape_sequence",x[x.Decorators_are_not_valid_here=1206]="Decorators_are_not_valid_here",x[x._abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration=1242]="_abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration",x[x.Method_0_cannot_have_an_implementation_because_it_is_marked_abstract=1245]="Method_0_cannot_have_an_implementation_because_it_is_marked_abstract",x[x.A_definite_assignment_assertion_is_not_permitted_in_this_context=1255]="A_definite_assignment_assertion_is_not_permitted_in_this_context",x[x.A_class_may_only_extend_another_class=1311]="A_class_may_only_extend_another_class",x[x.A_parameter_property_cannot_be_declared_using_a_rest_parameter=1317]="A_parameter_property_cannot_be_declared_using_a_rest_parameter",x[x.An_identifier_or_keyword_cannot_immediately_follow_a_numeric_literal=1351]="An_identifier_or_keyword_cannot_immediately_follow_a_numeric_literal",x[x.Duplicate_identifier_0=2300]="Duplicate_identifier_0",x[x.Cannot_find_name_0=2304]="Cannot_find_name_0",x[x.Module_0_has_no_exported_member_1=2305]="Module_0_has_no_exported_member_1",x[x.An_interface_can_only_extend_an_interface=2312]="An_interface_can_only_extend_an_interface",x[x.Generic_type_0_requires_1_type_argument_s=2314]="Generic_type_0_requires_1_type_argument_s",x[x.Type_0_is_not_generic=2315]="Type_0_is_not_generic",x[x.Type_0_is_not_assignable_to_type_1=2322]="Type_0_is_not_assignable_to_type_1",x[x.Property_0_is_private_in_type_1_but_not_in_type_2=2325]="Property_0_is_private_in_type_1_but_not_in_type_2",x[x.Index_signature_is_missing_in_type_0=2329]="Index_signature_is_missing_in_type_0",x[x._this_cannot_be_referenced_in_current_location=2332]="_this_cannot_be_referenced_in_current_location",x[x._this_cannot_be_referenced_in_constructor_arguments=2333]="_this_cannot_be_referenced_in_constructor_arguments",x[x._super_can_only_be_referenced_in_a_derived_class=2335]="_super_can_only_be_referenced_in_a_derived_class",x[x._super_cannot_be_referenced_in_constructor_arguments=2336]="_super_cannot_be_referenced_in_constructor_arguments",x[x.Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors=2337]="Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors",x[x.Property_0_does_not_exist_on_type_1=2339]="Property_0_does_not_exist_on_type_1",x[x.Property_0_is_private_and_only_accessible_within_class_1=2341]="Property_0_is_private_and_only_accessible_within_class_1",x[x.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatures=2349]="Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatures",x[x.This_expression_is_not_constructable=2351]="This_expression_is_not_constructable",x[x.A_function_whose_declared_type_is_not_void_must_return_a_value=2355]="A_function_whose_declared_type_is_not_void_must_return_a_value",x[x.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access=2357]="The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access",x[x.The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access=2364]="The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access",x[x.Operator_0_cannot_be_applied_to_types_1_and_2=2365]="Operator_0_cannot_be_applied_to_types_1_and_2",x[x.A_super_call_must_be_the_first_statement_in_the_constructor=2376]="A_super_call_must_be_the_first_statement_in_the_constructor",x[x.Constructors_for_derived_classes_must_contain_a_super_call=2377]="Constructors_for_derived_classes_must_contain_a_super_call",x[x.Getter_and_setter_accessors_do_not_agree_in_visibility=2379]="Getter_and_setter_accessors_do_not_agree_in_visibility",x[x._get_and_set_accessor_must_have_the_same_type=2380]="_get_and_set_accessor_must_have_the_same_type",x[x.Overload_signatures_must_all_be_public_private_or_protected=2385]="Overload_signatures_must_all_be_public_private_or_protected",x[x.Constructor_implementation_is_missing=2390]="Constructor_implementation_is_missing",x[x.Function_implementation_is_missing_or_not_immediately_following_the_declaration=2391]="Function_implementation_is_missing_or_not_immediately_following_the_declaration",x[x.Multiple_constructor_implementations_are_not_allowed=2392]="Multiple_constructor_implementations_are_not_allowed",x[x.Duplicate_function_implementation=2393]="Duplicate_function_implementation",x[x.This_overload_signature_is_not_compatible_with_its_implementation_signature=2394]="This_overload_signature_is_not_compatible_with_its_implementation_signature",x[x.Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local=2395]="Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local",x[x.Property_0_in_type_1_is_not_assignable_to_the_same_property_in_base_type_2=2416]="Property_0_in_type_1_is_not_assignable_to_the_same_property_in_base_type_2",x[x.A_class_can_only_implement_an_interface=2422]="A_class_can_only_implement_an_interface",x[x.A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged=2434]="A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged",x[x.Types_have_separate_declarations_of_a_private_property_0=2442]="Types_have_separate_declarations_of_a_private_property_0",x[x.Property_0_is_protected_in_type_1_but_public_in_type_2=2444]="Property_0_is_protected_in_type_1_but_public_in_type_2",x[x.Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses=2445]="Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses",x[x.Variable_0_used_before_its_declaration=2448]="Variable_0_used_before_its_declaration",x[x.Cannot_redeclare_block_scoped_variable_0=2451]="Cannot_redeclare_block_scoped_variable_0",x[x.The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_type_arguments_explicitly=2453]="The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_type_arguments_explicitly",x[x.Type_0_has_no_property_1=2460]="Type_0_has_no_property_1",x[x.The_0_operator_cannot_be_applied_to_type_1=2469]="The_0_operator_cannot_be_applied_to_type_1",x[x.In_const_enum_declarations_member_initializer_must_be_constant_expression=2474]="In_const_enum_declarations_member_initializer_must_be_constant_expression",x[x.Export_declaration_conflicts_with_exported_declaration_of_0=2484]="Export_declaration_conflicts_with_exported_declaration_of_0",x[x._0_is_referenced_directly_or_indirectly_in_its_own_base_expression=2506]="_0_is_referenced_directly_or_indirectly_in_its_own_base_expression",x[x.Cannot_create_an_instance_of_an_abstract_class=2511]="Cannot_create_an_instance_of_an_abstract_class",x[x.Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_2=2515]="Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_2",x[x.Object_is_possibly_null=2531]="Object_is_possibly_null",x[x.Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property=2540]="Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property",x[x.The_target_of_an_assignment_must_be_a_variable_or_a_property_access=2541]="The_target_of_an_assignment_must_be_a_variable_or_a_property_access",x[x.Index_signature_in_type_0_only_permits_reading=2542]="Index_signature_in_type_0_only_permits_reading",x[x.Expected_0_arguments_but_got_1=2554]="Expected_0_arguments_but_got_1",x[x.Expected_at_least_0_arguments_but_got_1=2555]="Expected_at_least_0_arguments_but_got_1",x[x.Expected_0_type_arguments_but_got_1=2558]="Expected_0_type_arguments_but_got_1",x[x.Property_0_has_no_initializer_and_is_not_assigned_in_the_constructor_before_this_is_used_or_returned=2564]="Property_0_has_no_initializer_and_is_not_assigned_in_the_constructor_before_this_is_used_or_returned",x[x.Property_0_is_used_before_being_assigned=2565]="Property_0_is_used_before_being_assigned",x[x.A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums=2651]="A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums",x[x.Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration=2673]="Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration",x[x.Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration=2674]="Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration",x[x.The_this_types_of_each_signature_are_incompatible=2685]="The_this_types_of_each_signature_are_incompatible",x[x.Namespace_0_has_no_exported_member_1=2694]="Namespace_0_has_no_exported_member_1",x[x.Required_type_parameters_may_not_follow_optional_type_parameters=2706]="Required_type_parameters_may_not_follow_optional_type_parameters",x[x.Duplicate_property_0=2718]="Duplicate_property_0",x[x.Property_0_is_missing_in_type_1_but_required_in_type_2=2741]="Property_0_is_missing_in_type_1_but_required_in_type_2",x[x.Type_0_has_no_call_signatures=2757]="Type_0_has_no_call_signatures",x[x.File_0_not_found=6054]="File_0_not_found",x[x.Numeric_separators_are_not_allowed_here=6188]="Numeric_separators_are_not_allowed_here",x[x.Multiple_consecutive_numeric_separators_are_not_permitted=6189]="Multiple_consecutive_numeric_separators_are_not_permitted",x[x._super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class=17009]="_super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class",x[x._super_must_be_called_before_accessing_a_property_of_super_in_the_constructor_of_a_derived_class=17011]="_super_must_be_called_before_accessing_a_property_of_super_in_the_constructor_of_a_derived_class",x))(nt||{});function es(t){switch(t){case 100:return"Not implemented: {0}";case 101:return"Operation is unsafe.";case 102:return"User-defined: {0}";case 103:return"Feature '{0}' is not enabled.";case 104:return"Low memory limit exceeded by static data: {0} > {1}";case 105:return"Module requires at least '{0}' pages of initial memory.";case 106:return"Module requires at least '{0}' pages of maximum memory.";case 107:return"Shared memory requires maximum memory to be defined.";case 108:return"Shared memory requires feature 'threads' to be enabled.";case 109:return"Transform '{0}': {1}";case 110:return"Start function name '{0}' is invalid or conflicts with another export.";case 111:return"Element '{0}' not found.";case 200:return"Conversion from type '{0}' to '{1}' requires an explicit cast.";case 201:return"Conversion from type '{0}' to '{1}' will require an explicit cast when switching between 32/64-bit.";case 202:return"Type '{0}' cannot be changed to type '{1}'.";case 203:return"Operation '{0}' cannot be applied to type '{1}'.";case 204:return"Type '{0}' cannot be nullable.";case 206:return"Mutable value cannot be inlined.";case 207:return"Unmanaged classes cannot extend managed classes and vice-versa.";case 208:return"Unmanaged classes cannot implement interfaces.";case 209:return"Invalid regular expression flags.";case 210:return"Expression is never 'null'.";case 211:return"Class '{0}' is final and cannot be extended.";case 212:return"Decorator '{0}' is not valid here.";case 213:return"Duplicate decorator.";case 214:return"Type '{0}' is illegal in this context.";case 215:return"Optional parameter must have an initializer.";case 216:return"Class '{0}' cannot declare a constructor when instantiated from an object literal.";case 217:return"Function '{0}' cannot be inlined into itself.";case 218:return"Cannot access method '{0}' without calling it as it requires 'this' to be set.";case 219:return"Optional properties are not supported.";case 220:return"Expression must be a compile-time constant.";case 221:return"Type '{0}' is not a function index or function reference.";case 222:return"'{0}' must be a value between '{1}' and '{2}' inclusive.";case 223:return"'{0}' must be a power of two.";case 224:return"'{0}' is not a valid operator.";case 225:return"Expression cannot be represented by a type.";case 226:return"Expression resolves to unusual type '{0}'.";case 227:return"Array literal expected.";case 228:return"Function '{0}' is virtual and will not be inlined.";case 229:return"Property '{0}' only has a setter and is missing a getter.";case 230:return"'{0}' keyword cannot be used here.";case 231:return"A class with a constructor explicitly returning something else than 'this' must be '@final'.";case 233:return"Property '{0}' is always assigned before being used.";case 234:return"Expression does not compile to a value at runtime.";case 235:return"Only variables, functions and enums become WebAssembly module exports.";case 901:return"Importing the table disables some indirect call optimizations.";case 902:return"Exporting the table disables some indirect call optimizations.";case 903:return"Expression compiles to a dynamic check at runtime.";case 904:return"Indexed access may involve bounds checking.";case 905:return"Explicitly returning constructor drops 'this' allocation.";case 906:return"Unnecessary definite assignment.";case 1002:return"Unterminated string literal.";case 1003:return"Identifier expected.";case 1005:return"'{0}' expected.";case 1006:return"A file cannot have a reference to itself.";case 1009:return"Trailing comma not allowed.";case 1012:return"Unexpected token.";case 1014:return"A rest parameter must be last in a parameter list.";case 1015:return"Parameter cannot have question mark and initializer.";case 1016:return"A required parameter cannot follow an optional parameter.";case 1031:return"'{0}' modifier cannot appear on class elements of this kind.";case 1036:return"Statements are not allowed in ambient contexts.";case 1039:return"Initializers are not allowed in ambient contexts.";case 1042:return"'{0}' modifier cannot be used here.";case 1047:return"A rest parameter cannot be optional.";case 1048:return"A rest parameter cannot have an initializer.";case 1049:return"A 'set' accessor must have exactly one parameter.";case 1052:return"A 'set' accessor parameter cannot have an initializer.";case 1054:return"A 'get' accessor cannot have parameters.";case 1061:return"Enum member must have initializer.";case 1092:return"Type parameters cannot appear on a constructor declaration.";case 1093:return"Type annotation cannot appear on a constructor declaration.";case 1094:return"An accessor cannot have type parameters.";case 1095:return"A 'set' accessor cannot have a return type annotation.";case 1098:return"Type parameter list cannot be empty.";case 1099:return"Type argument list cannot be empty.";case 1104:return"A 'continue' statement can only be used within an enclosing iteration statement.";case 1105:return"A 'break' statement can only be used within an enclosing iteration or switch statement.";case 1108:return"A 'return' statement can only be used within a function body.";case 1109:return"Expression expected.";case 1110:return"Type expected.";case 1113:return"A 'default' clause cannot appear more than once in a 'switch' statement.";case 1114:return"Duplicate label '{0}'.";case 1120:return"An export assignment cannot have modifiers.";case 1121:return"Octal literals are not allowed in strict mode.";case 1124:return"Digit expected.";case 1125:return"Hexadecimal digit expected.";case 1126:return"Unexpected end of text.";case 1127:return"Invalid character.";case 1130:return"'case' or 'default' expected.";case 1034:return"'super' must be followed by an argument list or member access.";case 1038:return"A 'declare' modifier cannot be used in an already ambient context.";case 1140:return"Type argument expected.";case 1141:return"String literal expected.";case 1142:return"Line break not permitted here.";case 1146:return"Declaration expected.";case 1155:return"'const' declarations must be initialized.";case 1161:return"Unterminated regular expression literal.";case 1176:return"Interface declaration cannot have 'implements' clause.";case 1177:return"Binary digit expected.";case 1178:return"Octal digit expected.";case 1183:return"An implementation cannot be declared in ambient contexts.";case 1190:return"The variable declaration of a 'for...of' statement cannot have an initializer.";case 1198:return"An extended Unicode escape value must be between 0x0 and 0x10FFFF inclusive.";case 1199:return"Unterminated Unicode escape sequence.";case 1206:return"Decorators are not valid here.";case 1242:return"'abstract' modifier can only appear on a class, method, or property declaration.";case 1245:return"Method '{0}' cannot have an implementation because it is marked abstract.";case 1255:return"A definite assignment assertion '!' is not permitted in this context.";case 1311:return"A class may only extend another class.";case 1317:return"A parameter property cannot be declared using a rest parameter.";case 1351:return"An identifier or keyword cannot immediately follow a numeric literal.";case 2300:return"Duplicate identifier '{0}'.";case 2304:return"Cannot find name '{0}'.";case 2305:return"Module '{0}' has no exported member '{1}'.";case 2312:return"An interface can only extend an interface.";case 2314:return"Generic type '{0}' requires {1} type argument(s).";case 2315:return"Type '{0}' is not generic.";case 2322:return"Type '{0}' is not assignable to type '{1}'.";case 2325:return"Property '{0}' is private in type '{1}' but not in type '{2}'.";case 2329:return"Index signature is missing in type '{0}'.";case 2332:return"'this' cannot be referenced in current location.";case 2333:return"'this' cannot be referenced in constructor arguments.";case 2335:return"'super' can only be referenced in a derived class.";case 2336:return"'super' cannot be referenced in constructor arguments.";case 2337:return"Super calls are not permitted outside constructors or in nested functions inside constructors.";case 2339:return"Property '{0}' does not exist on type '{1}'.";case 2341:return"Property '{0}' is private and only accessible within class '{1}'.";case 2349:return"Cannot invoke an expression whose type lacks a call signature. Type '{0}' has no compatible call signatures.";case 2351:return"This expression is not constructable.";case 2355:return"A function whose declared type is not 'void' must return a value.";case 2357:return"The operand of an increment or decrement operator must be a variable or a property access.";case 2364:return"The left-hand side of an assignment expression must be a variable or a property access.";case 2365:return"Operator '{0}' cannot be applied to types '{1}' and '{2}'.";case 2376:return"A 'super' call must be the first statement in the constructor.";case 2377:return"Constructors for derived classes must contain a 'super' call.";case 2379:return"Getter and setter accessors do not agree in visibility.";case 2380:return"'get' and 'set' accessor must have the same type.";case 2385:return"Overload signatures must all be public, private or protected.";case 2390:return"Constructor implementation is missing.";case 2391:return"Function implementation is missing or not immediately following the declaration.";case 2392:return"Multiple constructor implementations are not allowed.";case 2393:return"Duplicate function implementation.";case 2394:return"This overload signature is not compatible with its implementation signature.";case 2395:return"Individual declarations in merged declaration '{0}' must be all exported or all local.";case 2416:return"Property '{0}' in type '{1}' is not assignable to the same property in base type '{2}'.";case 2422:return"A class can only implement an interface.";case 2434:return"A namespace declaration cannot be located prior to a class or function with which it is merged.";case 2442:return"Types have separate declarations of a private property '{0}'.";case 2444:return"Property '{0}' is protected in type '{1}' but public in type '{2}'.";case 2445:return"Property '{0}' is protected and only accessible within class '{1}' and its subclasses.";case 2448:return"Variable '{0}' used before its declaration.";case 2451:return"Cannot redeclare block-scoped variable '{0}'";case 2453:return"The type argument for type parameter '{0}' cannot be inferred from the usage. Consider specifying the type arguments explicitly.";case 2460:return"Type '{0}' has no property '{1}'.";case 2469:return"The '{0}' operator cannot be applied to type '{1}'.";case 2474:return"In 'const' enum declarations member initializer must be constant expression.";case 2484:return"Export declaration conflicts with exported declaration of '{0}'.";case 2506:return"'{0}' is referenced directly or indirectly in its own base expression.";case 2511:return"Cannot create an instance of an abstract class.";case 2515:return"Non-abstract class '{0}' does not implement inherited abstract member '{1}' from '{2}'.";case 2531:return"Object is possibly 'null'.";case 2540:return"Cannot assign to '{0}' because it is a constant or a read-only property.";case 2541:return"The target of an assignment must be a variable or a property access.";case 2542:return"Index signature in type '{0}' only permits reading.";case 2554:return"Expected {0} arguments, but got {1}.";case 2555:return"Expected at least {0} arguments, but got {1}.";case 2558:return"Expected {0} type arguments, but got {1}.";case 2564:return"Property '{0}' has no initializer and is not assigned in the constructor before 'this' is used or returned.";case 2565:return"Property '{0}' is used before being assigned.";case 2651:return"A member initializer in a enum declaration cannot reference members declared after it, including members defined in other enums.";case 2673:return"Constructor of class '{0}' is private and only accessible within the class declaration.";case 2674:return"Constructor of class '{0}' is protected and only accessible within the class declaration.";case 2685:return"The 'this' types of each signature are incompatible.";case 2694:return"Namespace '{0}' has no exported member '{1}'.";case 2706:return"Required type parameters may not follow optional type parameters.";case 2718:return"Duplicate property '{0}'.";case 2741:return"Property '{0}' is missing in type '{1}' but required in type '{2}'.";case 2757:return"Type '{0}' has no call signatures.";case 6054:return"File '{0}' not found.";case 6188:return"Numeric separators are not allowed here.";case 6189:return"Multiple consecutive numeric separators are not permitted.";case 17009:return"'super' must be called before accessing 'this' in the constructor of a derived class.";case 17011:return"'super' must be called before accessing a property of 'super' in the constructor of a derived class.";default:return""}}var Uo={};bo(Uo,{COLOR_BLUE:()=>eE,COLOR_CYAN:()=>Oo,COLOR_GRAY:()=>Jd,COLOR_GREEN:()=>$d,COLOR_MAGENTA:()=>Po,COLOR_RED:()=>os,COLOR_RESET:()=>ki,COLOR_WHITE:()=>tE,COLOR_YELLOW:()=>ko,CharCode:()=>st,SURROGATE_HIGH:()=>Ai,SURROGATE_LOW:()=>Br,colorize:()=>rE,combineSurrogates:()=>Ao,dirname:()=>tp,escapeString:()=>de,indent:()=>z,isAlpha:()=>No,isAlphaOrDecimal:()=>$u,isColorsEnabled:()=>Hr,isDecimal:()=>Mt,isHex:()=>Hd,isHighSurrogate:()=>Dr,isIdentifier:()=>we,isIdentifierPart:()=>Vr,isIdentifierStart:()=>Ni,isLineBreak:()=>yt,isLowSurrogate:()=>Gr,isOctal:()=>Lo,isPowerOf2:()=>Et,isSurrogate:()=>zd,isSurrogateHigh:()=>Wd,isSurrogateLow:()=>Yd,isWhiteSpace:()=>Ro,normalizePath:()=>ar,readF32:()=>Dd,readF64:()=>Gd,readI16:()=>Bd,readI32:()=>Mr,readI64:()=>Ju,readI8:()=>Ud,readV128:()=>Vd,resolvePath:()=>as,setColorsEnabled:()=>ls,uniqueMap:()=>re,v128_zero:()=>Mo,writeF32:()=>ir,writeF64:()=>nr,writeI16:()=>wt,writeI32:()=>ce,writeI32AsI64:()=>ts,writeI64:()=>Ur,writeI64AsI32:()=>xo,writeI8:()=>pe,writeV128:()=>So});function Ud(t,n){return t[n]}function pe(t,n,e){n[e]=t}function Bd(t,n){return i32(t[n])|i32(t[n+1])<<8}function wt(t,n,e){n[e]=t,n[e+1]=t>>>8}function Mr(t,n){return i32(t[n])|i32(t[n+1])<<8|i32(t[n+2])<<16|i32(t[n+3])<<24}function ce(t,n,e){n[e]=t,n[e+1]=t>>>8,n[e+2]=t>>>16,n[e+3]=t>>>24}function ts(t,n,e,r=!1){ce(t,n,e),ce(r||t>=0?0:-1,n,e+4)}function Ju(t,n){var e=Mr(t,n),r=Mr(t,n+4);return i64_new(e,r)}function Ur(t,n,e){ce(i64_low(t),n,e),ce(i64_high(t),n,e+4)}function xo(t,n,e,r=!1){assert(r?i64_is_u32(t):i64_is_i32(t)),ce(i64_low(t),n,e)}function Dd(t,n){return i32_as_f32(Mr(t,n))}function ir(t,n,e){ce(f32_as_i32(t),n,e)}function Gd(t,n){return i64_as_f64(Ju(t,n))}function nr(t,n,e){var r=f64_as_i64(t);ce(i64_low(r),n,e),ce(i64_high(r),n,e+4)}function Vd(t,n){return t.slice(n,n+16)}function So(t,n,e){assert(t.length==16),n.set(t,e)}function re(t=null,n=null){var e=new Map;if(t)for(let r=Map_keys(t),i=0,s=r.length;i<s;++i){let a=unchecked(r[i]),o=assert(t.get(a));e.set(a,o)}if(n)for(let r=Map_keys(n),i=0,s=r.length;i<s;++i){let a=unchecked(r[i]),o=assert(n.get(a));e.set(a,o)}return e}function Et(t){return t!=0&&(t&t-1)==0}var st=(L=>(L[L.NULL=0]="NULL",L[L.LINEFEED=10]="LINEFEED",L[L.CARRIAGERETURN=13]="CARRIAGERETURN",L[L.LINESEPARATOR=8232]="LINESEPARATOR",L[L.PARAGRAPHSEPARATOR=8233]="PARAGRAPHSEPARATOR",L[L.NEXTLINE=133]="NEXTLINE",L[L.SPACE=32]="SPACE",L[L.NONBREAKINGSPACE=160]="NONBREAKINGSPACE",L[L.ENQUAD=8192]="ENQUAD",L[L.EMQUAD=8193]="EMQUAD",L[L.ENSPACE=8194]="ENSPACE",L[L.EMSPACE=8195]="EMSPACE",L[L.THREEPEREMSPACE=8196]="THREEPEREMSPACE",L[L.FOURPEREMSPACE=8197]="FOURPEREMSPACE",L[L.SIXPEREMSPACE=8198]="SIXPEREMSPACE",L[L.FIGURESPACE=8199]="FIGURESPACE",L[L.PUNCTUATIONSPACE=8200]="PUNCTUATIONSPACE",L[L.THINSPACE=8201]="THINSPACE",L[L.HAIRSPACE=8202]="HAIRSPACE",L[L.ZEROWIDTHSPACE=8203]="ZEROWIDTHSPACE",L[L.NARROWNOBREAKSPACE=8239]="NARROWNOBREAKSPACE",L[L.IDEOGRAPHICSPACE=12288]="IDEOGRAPHICSPACE",L[L.MATHEMATICALSPACE=8287]="MATHEMATICALSPACE",L[L.OGHAM=5760]="OGHAM",L[L._=95]="_",L[L._0=48]="_0",L[L._1=49]="_1",L[L._2=50]="_2",L[L._3=51]="_3",L[L._4=52]="_4",L[L._5=53]="_5",L[L._6=54]="_6",L[L._7=55]="_7",L[L._8=56]="_8",L[L._9=57]="_9",L[L.a=97]="a",L[L.b=98]="b",L[L.c=99]="c",L[L.d=100]="d",L[L.e=101]="e",L[L.f=102]="f",L[L.g=103]="g",L[L.h=104]="h",L[L.i=105]="i",L[L.j=106]="j",L[L.k=107]="k",L[L.l=108]="l",L[L.m=109]="m",L[L.n=110]="n",L[L.o=111]="o",L[L.p=112]="p",L[L.q=113]="q",L[L.r=114]="r",L[L.s=115]="s",L[L.t=116]="t",L[L.u=117]="u",L[L.v=118]="v",L[L.w=119]="w",L[L.x=120]="x",L[L.y=121]="y",L[L.z=122]="z",L[L.A=65]="A",L[L.B=66]="B",L[L.C=67]="C",L[L.D=68]="D",L[L.E=69]="E",L[L.F=70]="F",L[L.G=71]="G",L[L.H=72]="H",L[L.I=73]="I",L[L.J=74]="J",L[L.K=75]="K",L[L.L=76]="L",L[L.M=77]="M",L[L.N=78]="N",L[L.O=79]="O",L[L.P=80]="P",L[L.Q=81]="Q",L[L.R=82]="R",L[L.S=83]="S",L[L.T=84]="T",L[L.U=85]="U",L[L.V=86]="V",L[L.W=87]="W",L[L.X=88]="X",L[L.Y=89]="Y",L[L.Z=90]="Z",L[L.AMPERSAND=38]="AMPERSAND",L[L.ASTERISK=42]="ASTERISK",L[L.AT=64]="AT",L[L.BACKSLASH=92]="BACKSLASH",L[L.BACKTICK=96]="BACKTICK",L[L.BAR=124]="BAR",L[L.CARET=94]="CARET",L[L.CLOSEBRACE=125]="CLOSEBRACE",L[L.CLOSEBRACKET=93]="CLOSEBRACKET",L[L.CLOSEPAREN=41]="CLOSEPAREN",L[L.COLON=58]="COLON",L[L.COMMA=44]="COMMA",L[L.DOLLAR=36]="DOLLAR",L[L.DOT=46]="DOT",L[L.DOUBLEQUOTE=34]="DOUBLEQUOTE",L[L.EQUALS=61]="EQUALS",L[L.EXCLAMATION=33]="EXCLAMATION",L[L.GREATERTHAN=62]="GREATERTHAN",L[L.HASH=35]="HASH",L[L.LESSTHAN=60]="LESSTHAN",L[L.MINUS=45]="MINUS",L[L.OPENBRACE=123]="OPENBRACE",L[L.OPENBRACKET=91]="OPENBRACKET",L[L.OPENPAREN=40]="OPENPAREN",L[L.PERCENT=37]="PERCENT",L[L.PLUS=43]="PLUS",L[L.QUESTION=63]="QUESTION",L[L.SEMICOLON=59]="SEMICOLON",L[L.SINGLEQUOTE=39]="SINGLEQUOTE",L[L.SLASH=47]="SLASH",L[L.TILDE=126]="TILDE",L[L.BACKSPACE=8]="BACKSPACE",L[L.FORMFEED=12]="FORMFEED",L[L.BYTEORDERMARK=65279]="BYTEORDERMARK",L[L.TAB=9]="TAB",L[L.VERTICALTAB=11]="VERTICALTAB",L))(st||{});function yt(t){switch(t){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function Ro(t){switch(t){case 32:case 9:case 11:case 12:case 160:case 133:case 5760:case 8239:case 8287:case 12288:case 65279:return!0;default:return t>=8192&&t<=8203}}var Ai=55296,Br=56320;function zd(t){return(t&63488)==Ai}function Wd(t){return t<Br}function Yd(t){return t>=Br}function Dr(t){return(t&64512)==Ai}function Gr(t){return(t&64512)==Br}function Ao(t,n){return 65536+((t&1023)<<10)|n&1023}function No(t){let n=t|32;return n>=97&&n<=122}function Mt(t){return t>=48&&t<=57}function Lo(t){return t>=48&&t<=55}function Hd(t){let n=t|32;return Mt(t)||n>=97&&n<=102}function $u(t){return No(t)||Mt(t)}function Ni(t){return No(t)||t==95||t==36||t>=170&&t<=65500&&ep(t,Xd)}function Vr(t){return $u(t)||t==95||t==36||t>=170&&t<=65500&&ep(t,Kd)}function we(t){var n=t.length;if(!n||!Ni(t.charCodeAt(0)))return!1;for(let e=1;e<n;++e)if(!Vr(t.charCodeAt(e)))return!1;return!0}var Xd=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],Kd=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500];function ep(t,n){for(var e=0,r=n.length,i,s;e+1<r;){if(i=e+(r-e>>>1),i-=i&1,s=n[i],s<=t&&t<=n[i+1])return!0;t<s?r=i:e=i+2}return!1}var qd="  ",Qd="    ",Zd="        ";function z(t,n){for(;n>=4;)t.push(Zd),n-=4;n>=2&&(t.push(Qd),n-=2),n&&t.push(qd)}function de(t,n){var e=new Array,r=0,i=0;for(let s=t.length;i<s;)switch(t.charCodeAt(i)){case 0:{i>r&&e.push(t.substring(r,r=i+1)),e.push("\\0"),r=++i;break}case 8:{i>r&&e.push(t.substring(r,i)),r=++i,e.push("\\b");break}case 9:{i>r&&e.push(t.substring(r,i)),r=++i,e.push("\\t");break}case 10:{i>r&&e.push(t.substring(r,i)),r=++i,e.push("\\n");break}case 11:{i>r&&e.push(t.substring(r,i)),r=++i,e.push("\\v");break}case 12:{i>r&&e.push(t.substring(r,i)),r=++i,e.push("\\f");break}case 13:{i>r&&e.push(t.substring(r,i)),e.push("\\r"),r=++i;break}case 34:{n==34?(i>r&&e.push(t.substring(r,i)),e.push('\\"'),r=++i):++i;break}case 39:{n==39?(i>r&&e.push(t.substring(r,i)),e.push("\\'"),r=++i):++i;break}case 92:{i>r&&e.push(t.substring(r,i)),e.push("\\\\"),r=++i;break}case 96:{n==96?(i>r&&e.push(t.substring(r,i)),e.push("\\`"),r=++i):++i;break}default:{++i;break}}return i>r&&e.push(t.substring(r,i)),e.join("")}var Ut=(v=>(v[v.NONE=0]="NONE",v[v.SIGN_EXTENSION=1]="SIGN_EXTENSION",v[v.MUTABLE_GLOBALS=2]="MUTABLE_GLOBALS",v[v.NONTRAPPING_F2I=4]="NONTRAPPING_F2I",v[v.BULK_MEMORY=8]="BULK_MEMORY",v[v.SIMD=16]="SIMD",v[v.THREADS=32]="THREADS",v[v.EXCEPTION_HANDLING=64]="EXCEPTION_HANDLING",v[v.TAIL_CALLS=128]="TAIL_CALLS",v[v.REFERENCE_TYPES=256]="REFERENCE_TYPES",v[v.MULTI_VALUE=512]="MULTI_VALUE",v[v.GC=1024]="GC",v[v.MEMORY64=2048]="MEMORY64",v[v.FUNCTION_REFERENCES=4096]="FUNCTION_REFERENCES",v[v.RELAXED_SIMD=8192]="RELAXED_SIMD",v[v.EXTENDED_CONST=16384]="EXTENDED_CONST",v))(Ut||{});function zr(t){switch(t){case 1:return"sign-extension";case 2:return"mutable-globals";case 4:return"nontrapping-f2i";case 8:return"bulk-memory";case 16:return"simd";case 32:return"threads";case 64:return"exception-handling";case 128:return"tail-calls";case 256:return"reference-types";case 512:return"multi-value";case 1024:return"gc";case 2048:return"memory64"}return assert(!1),""}var Wr=(r=>(r[r.JS=0]="JS",r[r.WASM32=1]="WASM32",r[r.WASM64=2]="WASM64",r))(Wr||{});var rs=(r=>(r[r.Stub=0]="Stub",r[r.Minimal=1]="Minimal",r[r.Incremental=2]="Incremental",r))(rs||{});var Yr=class{constructor(){this.flags=Li.NONE;this.base=0}};Yr=Zu([unmanaged],Yr);var Li=(V=>(V[V.NONE=0]="NONE",V[V.ARRAYBUFFERVIEW=1]="ARRAYBUFFERVIEW",V[V.ARRAY=2]="ARRAY",V[V.STATICARRAY=4]="STATICARRAY",V[V.SET=8]="SET",V[V.MAP=16]="MAP",V[V.POINTERFREE=32]="POINTERFREE",V[V.VALUE_ALIGN_0=64]="VALUE_ALIGN_0",V[V.VALUE_ALIGN_1=128]="VALUE_ALIGN_1",V[V.VALUE_ALIGN_2=256]="VALUE_ALIGN_2",V[V.VALUE_ALIGN_3=512]="VALUE_ALIGN_3",V[V.VALUE_ALIGN_4=1024]="VALUE_ALIGN_4",V[V.VALUE_SIGNED=2048]="VALUE_SIGNED",V[V.VALUE_FLOAT=4096]="VALUE_FLOAT",V[V.VALUE_NULLABLE=8192]="VALUE_NULLABLE",V[V.VALUE_MANAGED=16384]="VALUE_MANAGED",V[V.KEY_ALIGN_0=32768]="KEY_ALIGN_0",V[V.KEY_ALIGN_1=65536]="KEY_ALIGN_1",V[V.KEY_ALIGN_2=131072]="KEY_ALIGN_2",V[V.KEY_ALIGN_3=262144]="KEY_ALIGN_3",V[V.KEY_ALIGN_4=524288]="KEY_ALIGN_4",V[V.KEY_SIGNED=1048576]="KEY_SIGNED",V[V.KEY_FLOAT=2097152]="KEY_FLOAT",V[V.KEY_NULLABLE=4194304]="KEY_NULLABLE",V[V.KEY_MANAGED=8388608]="KEY_MANAGED",V))(Li||{});var Me=(M=>(M[M.NONE=0]="NONE",M[M.IMPORT=1]="IMPORT",M[M.EXPORT=2]="EXPORT",M[M.DECLARE=4]="DECLARE",M[M.CONST=8]="CONST",M[M.LET=16]="LET",M[M.STATIC=32]="STATIC",M[M.READONLY=64]="READONLY",M[M.ABSTRACT=128]="ABSTRACT",M[M.PUBLIC=256]="PUBLIC",M[M.PRIVATE=512]="PRIVATE",M[M.PROTECTED=1024]="PROTECTED",M[M.GET=2048]="GET",M[M.SET=4096]="SET",M[M.DEFINITELY_ASSIGNED=8192]="DEFINITELY_ASSIGNED",M[M.AMBIENT=16384]="AMBIENT",M[M.GENERIC=32768]="GENERIC",M[M.GENERIC_CONTEXT=65536]="GENERIC_CONTEXT",M[M.INSTANCE=131072]="INSTANCE",M[M.CONSTRUCTOR=262144]="CONSTRUCTOR",M[M.MODULE_EXPORT=524288]="MODULE_EXPORT",M[M.MODULE_IMPORT=1048576]="MODULE_IMPORT",M[M.RESOLVED=2097152]="RESOLVED",M[M.COMPILED=4194304]="COMPILED",M[M.ERRORED=8388608]="ERRORED",M[M.INLINED=16777216]="INLINED",M[M.SCOPED=33554432]="SCOPED",M[M.STUB=67108864]="STUB",M[M.VIRTUAL=134217728]="VIRTUAL",M[M.CLOSURE=268435456]="CLOSURE",M[M.QUOTED=536870912]="QUOTED",M))(Me||{}),je="/",jd="..",is="get:",ns="set:",Ci="#",Fi=".",Co="~",ss="~lib",Je=ss+je,Ce=je+"index",Fo="@",w;(D=>(D.EMPTY="",D.i8="i8",D.i16="i16",D.i32="i32",D.i64="i64",D.isize="isize",D.u8="u8",D.u16="u16",D.u32="u32",D.u64="u64",D.usize="usize",D.bool="bool",D.f32="f32",D.f64="f64",D.v128="v128",D.funcref="funcref",D.externref="externref",D.anyref="anyref",D.eqref="eqref",D.i31ref="i31ref",D.dataref="dataref",D.i8x16="i8x16",D.u8x16="u8x16",D.i16x8="i16x8",D.u16x8="u16x8",D.i32x4="i32x4",D.u32x4="u32x4",D.i64x2="i64x2",D.u64x2="u64x2",D.f32x4="f32x4",D.f64x2="f64x2",D.void_="void",D.number="number",D.boolean="boolean",D.string="string",D.native="native",D.indexof="indexof",D.valueof="valueof",D.returnof="returnof",D.nonnull="nonnull",D.null_="null",D.true_="true",D.false_="false",D.this_="this",D.super_="super",D.constructor="constructor",D.ASC_TARGET="ASC_TARGET",D.ASC_RUNTIME="ASC_RUNTIME",D.ASC_NO_ASSERT="ASC_NO_ASSERT",D.ASC_MEMORY_BASE="ASC_MEMORY_BASE",D.ASC_TABLE_BASE="ASC_TABLE_BASE",D.ASC_OPTIMIZE_LEVEL="ASC_OPTIMIZE_LEVEL",D.ASC_SHRINK_LEVEL="ASC_SHRINK_LEVEL",D.ASC_LOW_MEMORY_LIMIT="ASC_LOW_MEMORY_LIMIT",D.ASC_EXPORT_RUNTIME="ASC_EXPORT_RUNTIME",D.ASC_WASI="ASC_WASI",D.ASC_FEATURE_SIGN_EXTENSION="ASC_FEATURE_SIGN_EXTENSION",D.ASC_FEATURE_MUTABLE_GLOBALS="ASC_FEATURE_MUTABLE_GLOBALS",D.ASC_FEATURE_NONTRAPPING_F2I="ASC_FEATURE_NONTRAPPING_F2I",D.ASC_FEATURE_BULK_MEMORY="ASC_FEATURE_BULK_MEMORY",D.ASC_FEATURE_SIMD="ASC_FEATURE_SIMD",D.ASC_FEATURE_THREADS="ASC_FEATURE_THREADS",D.ASC_FEATURE_EXCEPTION_HANDLING="ASC_FEATURE_EXCEPTION_HANDLING",D.ASC_FEATURE_TAIL_CALLS="ASC_FEATURE_TAIL_CALLS",D.ASC_FEATURE_REFERENCE_TYPES="ASC_FEATURE_REFERENCE_TYPES",D.ASC_FEATURE_MULTI_VALUE="ASC_FEATURE_MULTI_VALUE",D.ASC_FEATURE_GC="ASC_FEATURE_GC",D.ASC_FEATURE_MEMORY64="ASC_FEATURE_MEMORY64",D.ASC_FEATURE_FUNCTION_REFERENCES="ASC_FEATURE_FUNCTION_REFERENCES",D.ASC_FEATURE_RELAXED_SIMD="ASC_FEATURE_RELAXED_SIMD",D.ASC_FEATURE_EXTENDED_CONST="ASC_FEATURE_EXTENDED_CONST",D.ASC_VERSION_MAJOR="ASC_VERSION_MAJOR",D.ASC_VERSION_MINOR="ASC_VERSION_MINOR",D.ASC_VERSION_PATCH="ASC_VERSION_PATCH",D.I8="I8",D.I16="I16",D.I32="I32",D.I64="I64",D.Isize="Isize",D.U8="U8",D.U16="U16",D.U32="U32",D.U64="U64",D.Usize="Usize",D.Bool="Bool",D.F32="F32",D.F64="F64",D.V128="V128",D.Funcref="Funcref",D.Externref="Externref",D.Anyref="Anyref",D.Eqref="Eqref",D.I31ref="I31ref",D.Dataref="Dataref",D.String="String",D.Object="Object",D.Array="Array",D.StaticArray="StaticArray",D.Set="Set",D.Map="Map",D.Function="Function",D.ArrayBufferView="ArrayBufferView",D.ArrayBuffer="ArrayBuffer",D.Math="Math",D.Mathf="Mathf",D.NativeMath="NativeMath",D.NativeMathf="NativeMathf",D.Int8Array="Int8Array",D.Int16Array="Int16Array",D.Int32Array="Int32Array",D.Int64Array="Int64Array",D.Uint8Array="Uint8Array",D.Uint8ClampedArray="Uint8ClampedArray",D.Uint16Array="Uint16Array",D.Uint32Array="Uint32Array",D.Uint64Array="Uint64Array",D.Float32Array="Float32Array",D.Float64Array="Float64Array",D.TemplateStringsArray="TemplateStringsArray",D.Error="Error",D.abort="abort",D.trace="trace",D.seed="seed",D.pow="pow",D.ipow32="ipow32",D.ipow64="ipow64",D.mod="mod",D.alloc="__alloc",D.realloc="__realloc",D.free="__free",D.new_="__new",D.renew="__renew",D.link="__link",D.collect="__collect",D.typeinfo="__typeinfo",D.instanceof_="__instanceof",D.visit="__visit",D.newBuffer="__newBuffer",D.newArray="__newArray",D.BLOCK="~lib/rt/common/BLOCK",D.OBJECT="~lib/rt/common/OBJECT"))(w||={});var sr=47;function ar(t){for(var n=0,e=t.length;n+1<e&&t.charCodeAt(n)==46&&t.charCodeAt(n+1)==sr;)n+=2;(n>0||e<t.length)&&(t=t.substring(n,e),e-=n,n=0);for(var r;n+1<e;){if(r=!1,t.charCodeAt(n)==sr&&t.charCodeAt(n+1)==46){if(r=n+2==e,r||n+2<e&&t.charCodeAt(n+2)==sr){t=r?t.substring(0,n):t.substring(0,n)+t.substring(n+2),e-=2;continue}if(r=n+3==e,r&&t.charCodeAt(n+2)==46||n+3<e&&t.charCodeAt(n+2)==46&&t.charCodeAt(n+3)==sr){let i=n;for(;--i>=0;)if(t.charCodeAt(i)==sr){(n-i!=3||t.charCodeAt(i+1)!=46||t.charCodeAt(i+2)!=46)&&(t=r?t.substring(0,i):t.substring(0,i)+t.substring(n+3),e-=n+3-i,n=i-1);break}if(i<0&&n>0&&(n!=2||t.charCodeAt(0)!=46||t.charCodeAt(1)!=46)){t=t.substring(n+4),e=t.length;continue}}}n++}return e>0?t:"."}function as(t,n){return t.startsWith("std/")?t:ar(tp(n)+je+t)}function tp(t){var n=t.length;if(n<=1){if(n==0)return".";if(t.charCodeAt(0)==sr)return t}for(;--n>0;)if(t.charCodeAt(n)==sr)return t.substring(0,n);return"."}var Jd="\x1B[90m",os="\x1B[91m",$d="\x1B[92m",ko="\x1B[93m",eE="\x1B[94m",Po="\x1B[95m",Oo="\x1B[96m",tE="\x1B[97m",ki="\x1B[0m",wo=!0;function Hr(){return wo}function ls(t){var n=t;return wo=t,n}function rE(t,n){return wo?n+t+ki:t}var Mo=new Uint8Array(16);var ps=(i=>(i[i.PEDANTIC=0]="PEDANTIC",i[i.INFO=1]="INFO",i[i.WARNING=2]="WARNING",i[i.ERROR=3]="ERROR",i))(ps||{});function us(t){switch(t){case 0:return"PEDANTIC";case 1:return"INFO";case 2:return"WARNING";case 3:return"ERROR";default:return assert(!1),""}}function ip(t){switch(t){case 0:return Po;case 1:return Oo;case 2:return ko;case 3:return os;default:return assert(!1),""}}var Xr=class{constructor(n,e,r){this.range=null;this.relatedRange=null;this.code=n,this.category=e,this.message=r}static create(n,e,r=null,i=null,s=null){var a=es(n);return r!=null&&(a=a.replace("{0}",r)),i!=null&&(a=a.replace("{1}",i)),s!=null&&(a=a.replace("{2}",s)),new Xr(n,e,a)}equals(n){if(this.code!=n.code)return!1;var e=this.range,r=n.range;if(e){if(!r||!e.equals(r))return!1}else if(r)return!1;var i=this.relatedRange,s=n.relatedRange;if(i){if(!s||!i.equals(s))return!1}else if(s)return!1;return this.message==n.message}withRange(n){return this.range=n,this}withRelatedRange(n){return this.relatedRange=n,this}toString(){var n=this.range;if(n){let e=n.source;return us(this.category)+" "+this.code.toString()+': "'+this.message+'" in '+e.normalizedPath+"("+e.lineAt(n.start).toString()+","+e.columnAt().toString()+"+"+(n.end-n.start).toString()+")"}return us(this.category)+" "+this.code.toString()+": "+this.message}};function np(t,n=!1,e=!1){var r=ls(n),i=[];Hr()&&i.push(ip(t.category)),i.push(us(t.category)),Hr()&&i.push(ki),i.push(t.code<1e3?" AS":" TS"),i.push(t.code.toString()),i.push(": "),i.push(t.message);var s=t.range;if(s){let a=s.source;e&&(i.push(`
`),i.push(rp(s))),i.push(`
`),i.push(" in "),i.push(a.normalizedPath),i.push("("),i.push(a.lineAt(s.start).toString()),i.push(","),i.push(a.columnAt().toString()),i.push(")");let o=t.relatedRange;if(o){let l=o.source;e&&(i.push(`
`),i.push(rp(o))),i.push(`
`),i.push(" in "),i.push(l.normalizedPath),i.push("("),i.push(l.lineAt(o.start).toString()),i.push(","),i.push(l.columnAt().toString()),i.push(")")}}return ls(r),i.join("")}function rp(t){for(var n=t.source.text,e=n.length,r=t.start,i=t.end;r>0&&!yt(n.charCodeAt(r-1));)r--;for(;i<e&&!yt(n.charCodeAt(i));)i++;for(var s=[`
 `,n.substring(r,i),`
 `];r<t.start;)s.push(" "),r++;if(Hr()&&s.push(os),t.start==t.end)s.push("^");else for(;r++<t.end;){if(yt(n.charCodeAt(r))){s.push(r==t.start+1?"^":"~");break}s.push("~")}return Hr()&&s.push(ki),s.join("")}var Ue=class{constructor(n=null){this.seen=new Map;n||(n=[]),this.diagnostics=n}emitDiagnostic(n,e,r,i,s=null,a=null,o=null){var l=Xr.create(n,e,s,a,o);if(r&&(l=l.withRange(r)),i&&(l.relatedRange=i),r){let p=this.seen;if(p.has(r.source)){let c=assert(p.get(r.source));if(c.has(r.start)){let _=assert(c.get(r.start));for(let f=0,d=_.length;f<d;++f)if(_[f].equals(l))return;_.push(l)}else c.set(r.start,[l])}else{let c=new Map;c.set(r.start,[l]),p.set(r.source,c)}}this.diagnostics.push(l)}pedantic(n,e,r=null,i=null,s=null){this.emitDiagnostic(n,0,e,null,r,i,s)}pedanticRelated(n,e,r,i=null,s=null,a=null){this.emitDiagnostic(n,0,e,r,i,s,a)}info(n,e,r=null,i=null,s=null){this.emitDiagnostic(n,1,e,null,r,i,s)}infoRelated(n,e,r,i=null,s=null,a=null){this.emitDiagnostic(n,1,e,r,i,s,a)}warning(n,e,r=null,i=null,s=null){this.emitDiagnostic(n,2,e,null,r,i,s)}warningRelated(n,e,r,i=null,s=null,a=null){this.emitDiagnostic(n,2,e,r,i,s,a)}error(n,e,r=null,i=null,s=null){this.emitDiagnostic(n,3,e,null,r,i,s)}errorRelated(n,e,r,i=null,s=null,a=null){this.emitDiagnostic(n,3,e,r,i,s,a)}};var or=(P=>(P[P.I8=0]="I8",P[P.I16=1]="I16",P[P.I32=2]="I32",P[P.I64=3]="I64",P[P.ISIZE=4]="ISIZE",P[P.U8=5]="U8",P[P.U16=6]="U16",P[P.U32=7]="U32",P[P.U64=8]="U64",P[P.USIZE=9]="USIZE",P[P.BOOL=10]="BOOL",P[P.F32=11]="F32",P[P.F64=12]="F64",P[P.V128=13]="V128",P[P.FUNCREF=14]="FUNCREF",P[P.EXTERNREF=15]="EXTERNREF",P[P.ANYREF=16]="ANYREF",P[P.EQREF=17]="EQREF",P[P.I31REF=18]="I31REF",P[P.DATAREF=19]="DATAREF",P[P.VOID=20]="VOID",P))(or||{}),Bt=(T=>(T[T.NONE=0]="NONE",T[T.SIGNED=1]="SIGNED",T[T.UNSIGNED=2]="UNSIGNED",T[T.INTEGER=4]="INTEGER",T[T.FLOAT=8]="FLOAT",T[T.VARYING=16]="VARYING",T[T.SHORT=32]="SHORT",T[T.LONG=64]="LONG",T[T.VALUE=128]="VALUE",T[T.REFERENCE=256]="REFERENCE",T[T.NULLABLE=512]="NULLABLE",T[T.VECTOR=1024]="VECTOR",T[T.EXTERNAL=2048]="EXTERNAL",T[T.CLASS=4096]="CLASS",T[T.FUNCTION=8192]="FUNCTION",T))(Bt||{}),$=class{constructor(n,e,r){this._nonNullableType=null;this._nullableType=null;this.kind=n,this.flags=e,this.size=r,this.byteSize=ceil(r/8),this.classReference=null,this.signatureReference=null,e&512?this._nullableType=this:this._nonNullableType=this}get intType(){if(this==$.auto)return this;switch(this.kind){case 0:return $.i8;case 1:return $.i16;case 11:case 2:return $.i32;case 12:case 3:return $.i64;case 4:return this.size==64?$.isize64:$.isize32;case 5:return $.u8;case 6:return $.u16;case 7:return $.u32;case 8:return $.u64;case 9:return this.size==64?$.usize64:$.usize32;case 10:default:return $.i32}}get exceptVoid(){return this.kind==20?$.auto:this}get alignLog2(){return 31-clz(this.byteSize)}get isValue(){return this.is(128)}get isIntegerValue(){return this.is(132)}get isShortIntegerValue(){return this.is(164)}get isLongIntegerValue(){return this.is(196)}get isSignedIntegerValue(){return this.is(133)}get isUnsignedIntegerValue(){return this.is(134)}get isVaryingIntegerValue(){return this.is(148)}get isIntegerInclReference(){return this.is(4)}get isFloatValue(){return this.is(136)}get isNumericValue(){return this.isIntegerValue||this.isFloatValue}get isBooleanValue(){return this==$.bool}get isVectorValue(){return this.is(1152)}get isReference(){return this.is(256)}get isNullableReference(){return this.is(768)}get isInternalReference(){return this.is(260)}get isExternalReference(){return this.is(2304)}get isClass(){return this.isInternalReference?this.classReference!=null:!1}getClass(){return this.isInternalReference?this.classReference:null}getClassOrWrapper(n){let e=this.getClass();if(e)return e;{let r=this.getSignature();if(r){let i=r.type,s=assert(n.resolver.resolveClass(n.functionPrototype,[i]));return s.wrappedType=i,s}else{let i=n.wrapperClasses;if(i.has(this))return assert(i.get(this))}}return null}get isFunction(){return this.isInternalReference?this.signatureReference!=null:!1}getSignature(){return this.isInternalReference?this.signatureReference:null}get isManaged(){if(this.isInternalReference){let n=this.classReference;return n?!n.hasDecorator(16):this.signatureReference!=null}return!1}get isUnmanaged(){var n=this.classReference;return n!=null&&n.hasDecorator(16)}get nonNullableType(){return this.isExternalReference?this:assert(this._nonNullableType)}get nullableType(){return this._nullableType}computeSmallIntegerShift(n){return n.size-this.size}computeSmallIntegerMask(n){var e=this.is(2)?this.size:this.size-1;return-1>>>n.size-e}is(n){return(this.flags&n)==n}isAny(n){return(this.flags&n)!=0}asNullable(){assert(this.isInternalReference);var n=this._nullableType;return n||(assert(!this.isNullableReference),this._nullableType=n=new $(this.kind,this.flags|512,this.size),n.classReference=this.classReference,n.signatureReference=this.signatureReference,n._nonNullableType=this),n}equals(n){return this.kind!=n.kind?!1:this.isReference?this.classReference==n.classReference&&this.signatureReference==n.signatureReference&&this.isNullableReference==n.isNullableReference:!0}isAssignableTo(n,e=!1){var r,i,s,a;if(this.isReference){if(n.isReference&&(!this.isNullableReference||n.isNullableReference)){if(r=this.getClass()){if(i=n.getClass())return r.isAssignableTo(i)}else if(s=this.getSignature()){if(a=n.getSignature())return s.isAssignableTo(a)}else if(this.isExternalReference&&(this.kind==n.kind||n.kind==16&&this.kind!=15))return!0}}else if(!n.isReference){if(this.isIntegerValue)if(n.isIntegerValue){if(!e||this.isBooleanValue||this.isSignedIntegerValue==n.isSignedIntegerValue)return this.size<=n.size}else{if(n.kind==11)return this.size<=23;if(n.kind==12)return this.size<=52}else if(this.isFloatValue){if(n.isFloatValue)return this.size<=n.size}else if(this.isVectorValue&&n.isVectorValue)return this.size==n.size}return!1}isStrictlyAssignableTo(n,e=!1){return this.isReference?this.isAssignableTo(n):n.isReference?!1:this.isIntegerValue?n.isIntegerValue&&n.size==this.size&&(!e||this.isSignedIntegerValue==n.isSignedIntegerValue):this.kind==n.kind}isChangeableTo(n){if(this.is(4)&&n.is(4)){let e=this.size;return e==n.size&&(e>=32||this.is(1)==n.is(1))}return this.kind==n.kind}static commonDenominator(n,e,r){return e.isAssignableTo(n,r)?n:n.isAssignableTo(e,r)?e:null}toString(n=!1){let e=n?"|null":" | null";if(this.isReference){let r=this.getClass();if(r)return this.isNullableReference?r.internalName+e:r.internalName;{let i=this.getSignature();if(i)return this.isNullableReference?"("+i.toString(n)+")"+e:i.toString(n)}}switch(this.kind){case 0:return"i8";case 1:return"i16";case 2:return"i32";case 3:return"i64";case 4:return"isize";case 5:return"u8";case 6:return"u16";case 7:return"u32";case 8:return"u64";case 9:return"usize";case 10:return"bool";case 11:return"f32";case 12:return"f64";case 13:return"v128";case 14:return"funcref";case 15:return"externref";case 16:return"anyref";case 17:return"eqref";case 18:return"i31ref";case 19:return"dataref";default:assert(!1);case 20:return"void"}}toRef(){switch(this.kind){default:assert(!1);case 0:case 1:case 2:case 5:case 6:case 7:case 10:return F.I32;case 4:case 9:if(this.size!=64)return F.I32;case 3:case 8:return F.I64;case 11:return F.F32;case 12:return F.F64;case 13:return F.V128;case 14:return F.Funcref;case 15:return F.Externref;case 16:return F.Anyref;case 17:return F.Eqref;case 18:return F.I31ref;case 19:return F.Dataref;case 20:return F.None}}},u=$;u.i8=new $(0,165,8),u.i16=new $(1,165,16),u.i32=new $(2,133,32),u.i64=new $(3,197,64),u.isize32=new $(4,149,32),u.isize64=new $(4,213,64),u.u8=new $(5,166,8),u.u16=new $(6,166,16),u.u32=new $(7,134,32),u.u64=new $(8,198,64),u.usize32=new $(9,150,32),u.usize64=new $(9,214,64),u.bool=new $(10,166,1),u.f32=new $(11,137,32),u.f64=new $(12,201,64),u.v128=new $(13,1152,128),u.funcref=new $(14,2816,0),u.externref=new $(15,2816,0),u.anyref=new $(16,2816,0),u.eqref=new $(17,2816,0),u.i31ref=new $(18,2304,0),u.dataref=new $(19,2816,0),u.void=new $(20,0,0),u.auto=new $($.i32.kind,$.i32.flags,$.i32.size);function Kr(t){var n=t.length,e=new Array(n);for(let r=0;r<n;++r)e[r]=t[r].toRef();return e}function cs(t){var n=t.length;if(!n)return"";var e=new Array(n);for(let r=0;r<n;++r)e[r]=t[r].toString(!0);return e.join(",")}var ge=class{constructor(n,e=null,r=null,i=null){this.id=0;this.parameterTypes=e||[],this.requiredParameters=0,this.returnType=r||u.void,this.thisType=i,this.program=n,this.hasRest=!1;var s=n.options.usizeType,a=new u(s.kind,s.flags&-129|256,s.size);this.type=a,a.signatureReference=this;var o=n.uniqueSignatures,l=o.length;for(let p=0;p<l;p++){let c=o[p];if(this.equals(c))return this.id=c.id,this}this.id=n.nextSignatureId++,n.uniqueSignatures.push(this)}get paramRefs(){var n=this.thisType,e=this.parameterTypes,r=e.length;if(!r)return n?n.toRef():F.None;if(n){let i=new Array(1+r);i[0]=n.toRef();for(let s=0;s<r;++s)i[s+1]=e[s].toRef();return Be(i)}return Be(Kr(e))}get resultRefs(){return this.returnType.toRef()}equals(n){var e=this.thisType,r=n.thisType;if(e){if(!r||!e.equals(r))return!1}else if(r)return!1;if(this.hasRest!=n.hasRest)return!1;var i=this.parameterTypes,s=n.parameterTypes,a=i.length;if(a!=s.length)return!1;for(let o=0;o<a;++o)if(!i[o].equals(s[o]))return!1;return this.returnType.equals(n.returnType)}isAssignableTo(n,e=!1){var r=this.thisType,i=n.thisType;if(r){if(!i||!r.isAssignableTo(i))return!1}else if(i)return!1;if(this.hasRest!=n.hasRest)return!1;var s=this.parameterTypes,a=n.parameterTypes,o=s.length;if(o!=a.length)return!1;for(let c=0;c<o;++c){let _=s[c],f=a[c];if(!_.isAssignableTo(f))return!1}var l=this.returnType,p=n.returnType;return l==p||l.isAssignableTo(p)}get hasManagedOperands(){var n=this.thisType;if(n&&n.isManaged)return!0;var e=this.parameterTypes;for(let r=0,i=e.length;r<i;++r)if(e[r].isManaged)return!0;return!1}getManagedOperandIndices(){var n=new Array,e=0,r=this.thisType;r&&(r.isManaged&&n.push(e),++e);var i=this.parameterTypes;for(let s=0,a=i.length;s<a;++s)i[s].isManaged&&n.push(e),++e;return n}toString(n=!1){var e=new Array;e.push(n?"%28":"(");var r=0,i=this.thisType;i&&(e.push(n?"this:":"this: "),assert(!i.signatureReference),e.push(i.toString(n)),r=1);var s=this.parameterTypes,a=s.length;if(a){let o=this.requiredParameters,l=this.hasRest?a-1:-1;for(let p=0;p<a;++p,++r)r&&e.push(n?"%2C":", "),p==l&&e.push("..."),e.push(s[p].toString(n)),p>=o&&p!=l&&e.push("?")}return e.push(n?"%29=>":") => "),e.push(this.returnType.toString(n)),e.join("")}clone(){var n=this.parameterTypes,e=n.length,r=new Array(e);for(let i=0;i<e;++i)r[i]=n[i];return new ge(this.program,r,this.returnType,this.thisType)}};var gt=(G=>(G[G.SOURCE=0]="SOURCE",G[G.NAMEDTYPE=1]="NAMEDTYPE",G[G.FUNCTIONTYPE=2]="FUNCTIONTYPE",G[G.TYPENAME=3]="TYPENAME",G[G.TYPEPARAMETER=4]="TYPEPARAMETER",G[G.PARAMETER=5]="PARAMETER",G[G.IDENTIFIER=6]="IDENTIFIER",G[G.ASSERTION=7]="ASSERTION",G[G.BINARY=8]="BINARY",G[G.CALL=9]="CALL",G[G.CLASS=10]="CLASS",G[G.COMMA=11]="COMMA",G[G.ELEMENTACCESS=12]="ELEMENTACCESS",G[G.FALSE=13]="FALSE",G[G.FUNCTION=14]="FUNCTION",G[G.INSTANCEOF=15]="INSTANCEOF",G[G.LITERAL=16]="LITERAL",G[G.NEW=17]="NEW",G[G.NULL=18]="NULL",G[G.OMITTED=19]="OMITTED",G[G.PARENTHESIZED=20]="PARENTHESIZED",G[G.PROPERTYACCESS=21]="PROPERTYACCESS",G[G.TERNARY=22]="TERNARY",G[G.SUPER=23]="SUPER",G[G.THIS=24]="THIS",G[G.TRUE=25]="TRUE",G[G.CONSTRUCTOR=26]="CONSTRUCTOR",G[G.UNARYPOSTFIX=27]="UNARYPOSTFIX",G[G.UNARYPREFIX=28]="UNARYPREFIX",G[G.COMPILED=29]="COMPILED",G[G.BLOCK=30]="BLOCK",G[G.BREAK=31]="BREAK",G[G.CONTINUE=32]="CONTINUE",G[G.DO=33]="DO",G[G.EMPTY=34]="EMPTY",G[G.EXPORT=35]="EXPORT",G[G.EXPORTDEFAULT=36]="EXPORTDEFAULT",G[G.EXPORTIMPORT=37]="EXPORTIMPORT",G[G.EXPRESSION=38]="EXPRESSION",G[G.FOR=39]="FOR",G[G.FOROF=40]="FOROF",G[G.IF=41]="IF",G[G.IMPORT=42]="IMPORT",G[G.RETURN=43]="RETURN",G[G.SWITCH=44]="SWITCH",G[G.THROW=45]="THROW",G[G.TRY=46]="TRY",G[G.VARIABLE=47]="VARIABLE",G[G.VOID=48]="VOID",G[G.WHILE=49]="WHILE",G[G.MODULE=50]="MODULE",G[G.CLASSDECLARATION=51]="CLASSDECLARATION",G[G.ENUMDECLARATION=52]="ENUMDECLARATION",G[G.ENUMVALUEDECLARATION=53]="ENUMVALUEDECLARATION",G[G.FIELDDECLARATION=54]="FIELDDECLARATION",G[G.FUNCTIONDECLARATION=55]="FUNCTIONDECLARATION",G[G.IMPORTDECLARATION=56]="IMPORTDECLARATION",G[G.INTERFACEDECLARATION=57]="INTERFACEDECLARATION",G[G.METHODDECLARATION=58]="METHODDECLARATION",G[G.NAMESPACEDECLARATION=59]="NAMESPACEDECLARATION",G[G.TYPEDECLARATION=60]="TYPEDECLARATION",G[G.VARIABLEDECLARATION=61]="VARIABLEDECLARATION",G[G.DECORATOR=62]="DECORATOR",G[G.EXPORTMEMBER=63]="EXPORTMEMBER",G[G.SWITCHCASE=64]="SWITCHCASE",G[G.INDEXSIGNATURE=65]="INDEXSIGNATURE",G[G.COMMENT=66]="COMMENT",G))(gt||{}),O=class{constructor(n,e){this.kind=n;this.range=e}static createSimpleTypeName(n,e){return new _s(O.createIdentifierExpression(n,e),null,e)}static createNamedType(n,e,r,i){return new Oi(n,e,r,i)}static createFunctionType(n,e,r,i,s){return new fs(n,e,r,i,s)}static createOmittedType(n){return new Oi(O.createSimpleTypeName("",n),null,!1,n)}static createTypeParameter(n,e,r,i){return new hs(n,e,r,i)}static createParameter(n,e,r,i,s){return new ms(n,e,r,i,s)}static createDecorator(n,e,r){return new ds(Tt.fromNode(n),n,e,r)}static createComment(n,e,r){return new Es(n,e,r)}static createIdentifierExpression(n,e,r=!1){return new $e(n,r,e)}static createEmptyIdentifierExpression(n){return new $e("",!1,n)}static createArrayLiteralExpression(n,e){return new ys(n,e)}static createAssertionExpression(n,e,r,i){return new gs(n,e,r,i)}static createBinaryExpression(n,e,r,i){return new Ts(n,e,r,i)}static createCallExpression(n,e,r,i){return new bs(n,e,r,i)}static createClassExpression(n){return new Is(n)}static createCommaExpression(n,e){return new vs(n,e)}static createConstructorExpression(n){return new xs(n)}static createElementAccessExpression(n,e,r){return new Ss(n,e,r)}static createFalseExpression(n){return new Ws(n)}static createFloatLiteralExpression(n,e){return new Rs(n,e)}static createFunctionExpression(n){return new As(n)}static createInstanceOfExpression(n,e,r){return new Ns(n,e,r)}static createIntegerLiteralExpression(n,e){return new Ls(n,e)}static createNewExpression(n,e,r,i){return new Cs(n,e,r,i)}static createNullExpression(n){return new Fs(n)}static createObjectLiteralExpression(n,e,r){return new ks(n,e,r)}static createOmittedExpression(n){return new Ps(n)}static createParenthesizedExpression(n,e){return new Os(n,e)}static createPropertyAccessExpression(n,e,r){return new ws(n,e,r)}static createRegexpLiteralExpression(n,e,r){return new Ms(n,e,r)}static createTernaryExpression(n,e,r,i){return new Us(n,e,r,i)}static createStringLiteralExpression(n,e){return new Bs(n,e)}static createSuperExpression(n){return new Ds(n)}static createTemplateLiteralExpression(n,e,r,i,s){return new Gs(n,e,r,i,s)}static createThisExpression(n){return new Vs(n)}static createTrueExpression(n){return new zs(n)}static createUnaryPostfixExpression(n,e,r){return new Ys(n,e,r)}static createUnaryPrefixExpression(n,e,r){return new Hs(n,e,r)}static createCompiledExpression(n,e,r){return new Xs(n,e,r)}static createBlockStatement(n,e){return new qs(n,e)}static createBreakStatement(n,e){return new Qs(n,e)}static createClassDeclaration(n,e,r,i,s,a,o,l){return new Mi(n,e,r,i,s,a,o,l)}static createContinueStatement(n,e){return new Zs(n,e)}static createDoStatement(n,e,r){return new js(n,e,r)}static createEmptyStatement(n){return new Js(n)}static createEnumDeclaration(n,e,r,i,s){return new $s(n,e,r,i,s)}static createEnumValueDeclaration(n,e,r,i){return new ea(n,e,r,i)}static createExportStatement(n,e,r,i){return new ia(n,e,r,i)}static createExportDefaultStatement(n,e){return new na(n,e)}static createExportImportStatement(n,e,r){return new ta(n,e,r)}static createExportMember(n,e,r){return e||(e=n),new ra(n,e,r)}static createExpressionStatement(n){return new sa(n)}static createIfStatement(n,e,r,i){return new ua(n,e,r,i)}static createImportStatement(n,e,r){return new Ui(n,null,e,r)}static createWildcardImportStatement(n,e,r){return new Ui(null,n,e,r)}static createImportDeclaration(n,e,r){return e||(e=n),new pa(e,n,r)}static createInterfaceDeclaration(n,e,r,i,s,a,o,l){return new ca(n,e,r,i,s,a,o,l)}static createFieldDeclaration(n,e,r,i,s,a){return new aa(n,e,r,i,s,-1,a)}static createForStatement(n,e,r,i,s){return new oa(n,e,r,i,s)}static createForOfStatement(n,e,r,i){return new la(n,e,r,i)}static createFunctionDeclaration(n,e,r,i,s,a,o,l){return new ur(n,e,r,i,s,a,o,l)}static createIndexSignature(n,e,r,i){return new Ks(n,e,r,i)}static createMethodDeclaration(n,e,r,i,s,a,o){return new _a(n,e,r,i,s,a,o)}static createNamespaceDeclaration(n,e,r,i,s){return new fa(n,e,r,i,s)}static createReturnStatement(n,e){return new ha(n,e)}static createSwitchStatement(n,e,r){return new da(n,e,r)}static createSwitchCase(n,e,r){return new ma(n,e,r)}static createThrowStatement(n,e){return new Ea(n,e)}static createTryStatement(n,e,r,i,s){return new ya(n,e,r,i,s)}static createTypeDeclaration(n,e,r,i,s,a){return new Ta(n,e,r,i,s,a)}static createModuleDeclaration(n,e,r){return new ga(n,e,r)}static createVariableStatement(n,e,r){return new Ia(n,e,r)}static createVariableDeclaration(n,e,r,i,s,a){return new ba(n,e,r,i,s,a)}static createVoidStatement(n,e){return new va(n,e)}static createWhileStatement(n,e,r){return new xa(n,e,r)}isLiteralKind(n){return this.kind==16&&changetype(this).literalKind==n}get isNumericLiteral(){if(this.kind==16)switch(changetype(this).literalKind){case De.FLOAT:case De.INTEGER:return!0}return!1}get compilesToConst(){switch(this.kind){case 16:{switch(changetype(this).literalKind){case De.FLOAT:case De.INTEGER:case De.STRING:return!0}break}case 18:case 25:case 13:return!0}return!1}isAccessOn(n){let e=changetype(this);return e.kind==9&&(e=e.expression),e.kind==21&&e.expression.kind==n}get isAccessOnThis(){return this.isAccessOn(24)}get isAccessOnSuper(){return this.isAccessOn(23)}},Pi=class extends O{constructor(e,r,i){super(e,i);this.isNullable=r}hasGenericComponent(e){if(this.kind==1){let r=changetype(this);if(!r.name.next){let i=r.typeArguments;if(i&&i.length>0){for(let s=0,a=i.length;s<a;++s)if(i[s].hasGenericComponent(e))return!0}else{let s=r.name.identifier.text;for(let a=0,o=e.length;a<o;++a)if(e[a].name.text==s)return!0}}}else if(this.kind==2){let r=changetype(this),i=r.parameters;for(let a=0,o=i.length;a<o;++a)if(i[a].type.hasGenericComponent(e))return!0;if(r.returnType.hasGenericComponent(e))return!0;let s=r.explicitThisType;if(s&&s.hasGenericComponent(e))return!0}else assert(!1);return!1}},_s=class extends O{constructor(e,r,i){super(3,i);this.identifier=e;this.next=r}},Oi=class extends Pi{constructor(e,r,i,s){super(1,i,s);this.name=e;this.typeArguments=r}get hasTypeArguments(){var e=this.typeArguments;return e!=null&&e.length>0}},fs=class extends Pi{constructor(e,r,i,s,a){super(2,s,a);this.parameters=e;this.returnType=r;this.explicitThisType=i}},hs=class extends O{constructor(e,r,i,s){super(4,s);this.name=e;this.extendsType=r;this.defaultType=i}},Qr=(r=>(r[r.DEFAULT=0]="DEFAULT",r[r.OPTIONAL=1]="OPTIONAL",r[r.REST=2]="REST",r))(Qr||{}),ms=class extends O{constructor(e,r,i,s,a){super(5,a);this.parameterKind=e;this.name=r;this.type=i;this.initializer=s;this.implicitFieldDeclaration=null;this.flags=0}is(e){return(this.flags&e)==e}isAny(e){return(this.flags&e)!=0}set(e){this.flags|=e}},Tt=(y=>(y[y.CUSTOM=0]="CUSTOM",y[y.GLOBAL=1]="GLOBAL",y[y.OPERATOR=2]="OPERATOR",y[y.OPERATOR_BINARY=3]="OPERATOR_BINARY",y[y.OPERATOR_PREFIX=4]="OPERATOR_PREFIX",y[y.OPERATOR_POSTFIX=5]="OPERATOR_POSTFIX",y[y.UNMANAGED=6]="UNMANAGED",y[y.FINAL=7]="FINAL",y[y.INLINE=8]="INLINE",y[y.EXTERNAL=9]="EXTERNAL",y[y.EXTERNAL_JS=10]="EXTERNAL_JS",y[y.BUILTIN=11]="BUILTIN",y[y.LAZY=12]="LAZY",y[y.UNSAFE=13]="UNSAFE",y))(Tt||{});(n=>{function t(e){if(e.kind==6){let r=e.text;switch(assert(r.length),r.charCodeAt(0)){case 98:{if(r=="builtin")return 11;break}case 101:{if(r=="external")return 9;break}case 102:{if(r=="final")return 7;break}case 103:{if(r=="global")return 1;break}case 105:{if(r=="inline")return 8;break}case 108:{if(r=="lazy")return 12;break}case 111:{if(r=="operator")return 2;break}case 117:{if(r=="unmanaged")return 6;if(r=="unsafe")return 13;break}}}else if(e.kind==21){let r=e,i=r.expression;if(i.kind==6){let s=i.text;assert(s.length);let a=r.property.text;if(assert(a.length),s=="operator")switch(a.charCodeAt(0)){case 98:{if(a=="binary")return 3;break}case 112:{if(a=="prefix")return 4;if(a=="postfix")return 5;break}}else if(s=="external")switch(a.charCodeAt(0)){case 106:{if(a=="js")return 10;break}}}}return 0}n.fromNode=t})(Tt||={});var ds=class extends O{constructor(e,r,i,s){super(62,s);this.decoratorKind=e;this.name=r;this.args=i}},Bo=(r=>(r[r.LINE=0]="LINE",r[r.TRIPLE=1]="TRIPLE",r[r.BLOCK=2]="BLOCK",r))(Bo||{}),Es=class extends O{constructor(e,r,i){super(66,i);this.commentKind=e;this.text=r}},_e=class extends O{},$e=class extends _e{constructor(e,r,i){super(6,i);this.text=e;this.isQuoted=r}},De=(o=>(o[o.FLOAT=0]="FLOAT",o[o.INTEGER=1]="INTEGER",o[o.STRING=2]="STRING",o[o.TEMPLATE=3]="TEMPLATE",o[o.REGEXP=4]="REGEXP",o[o.ARRAY=5]="ARRAY",o[o.OBJECT=6]="OBJECT",o))(De||{}),at=class extends _e{constructor(e,r){super(16,r);this.literalKind=e}},ys=class extends at{constructor(e,r){super(5,r);this.elementExpressions=e}},Zr=(i=>(i[i.PREFIX=0]="PREFIX",i[i.AS=1]="AS",i[i.NONNULL=2]="NONNULL",i[i.CONST=3]="CONST",i))(Zr||{}),gs=class extends _e{constructor(e,r,i,s){super(7,s);this.assertionKind=e;this.expression=r;this.toType=i}},Ts=class extends _e{constructor(e,r,i,s){super(8,s);this.operator=e;this.left=r;this.right=i}},bs=class extends _e{constructor(e,r,i,s){super(9,s);this.expression=e;this.typeArguments=r;this.args=i}get typeArgumentsRange(){var e=this.typeArguments,r;return e&&(r=e.length)?se.join(e[0].range,e[r-1].range):this.expression.range}get argumentsRange(){var e=this.args,r=e.length;return r?se.join(e[0].range,e[r-1].range):this.expression.range}},Is=class extends _e{constructor(e){super(10,e.range);this.declaration=e}},vs=class extends _e{constructor(e,r){super(11,r);this.expressions=e}},xs=class extends $e{constructor(n){super("constructor",!1,n),this.kind=26}},Ss=class extends _e{constructor(e,r,i){super(12,i);this.expression=e;this.elementExpression=r}},Rs=class extends at{constructor(e,r){super(0,r);this.value=e}},As=class extends _e{constructor(e){super(14,e.range);this.declaration=e}},Ns=class extends _e{constructor(e,r,i){super(15,i);this.expression=e;this.isType=r}},Ls=class extends at{constructor(e,r){super(1,r);this.value=e}},Cs=class extends _e{constructor(e,r,i,s){super(17,s);this.typeName=e;this.typeArguments=r;this.args=i}get typeArgumentsRange(){var e=this.typeArguments,r;return e&&(r=e.length)>0?se.join(e[0].range,e[r-1].range):this.typeName.range}get argumentsRange(){var e=this.args,r=e.length;return r?se.join(e[0].range,e[r-1].range):this.typeName.range}},Fs=class extends $e{constructor(n){super("null",!1,n),this.kind=18}},ks=class extends at{constructor(e,r,i){super(6,i);this.names=e;this.values=r}},Ps=class extends _e{constructor(n){super(19,n)}},Os=class extends _e{constructor(e,r){super(20,r);this.expression=e}},ws=class extends _e{constructor(e,r,i){super(21,i);this.expression=e;this.property=r}},Ms=class extends at{constructor(e,r,i){super(4,i);this.pattern=e;this.patternFlags=r}},Us=class extends _e{constructor(e,r,i,s){super(22,s);this.condition=e;this.ifThen=r;this.ifElse=i}},Bs=class extends at{constructor(e,r){super(2,r);this.value=e}},Ds=class extends $e{constructor(n){super("super",!1,n),this.kind=23}},Gs=class extends at{constructor(e,r,i,s,a){super(3,a);this.tag=e;this.parts=r;this.rawParts=i;this.expressions=s}},Vs=class extends $e{constructor(n){super("this",!1,n),this.kind=24}},zs=class extends $e{constructor(n){super("true",!1,n),this.kind=25}},Ws=class extends $e{constructor(n){super("false",!1,n),this.kind=13}},wi=class extends _e{constructor(e,r,i,s){super(e,s);this.operator=r;this.operand=i}},Ys=class extends wi{constructor(n,e,r){super(27,n,e,r)}},Hs=class extends wi{constructor(n,e,r){super(28,n,e,r)}},Xs=class extends _e{constructor(e,r,i){super(29,i);this.expr=e;this.type=r}},ue=class extends O{},jr=(i=>(i[i.USER=0]="USER",i[i.USER_ENTRY=1]="USER_ENTRY",i[i.LIBRARY=2]="LIBRARY",i[i.LIBRARY_ENTRY=3]="LIBRARY_ENTRY",i))(jr||{}),lr=class extends O{constructor(e,r,i){super(0,new se(0,i.length));this.sourceKind=e;this.normalizedPath=r;this.text=i;this.statements=new Array;this.debugInfoIndex=-1;this.exportPaths=null;this.lineCache=null;this.lineColumn=1;var s=Di(r);this.internalPath=s;var a=s.lastIndexOf(je);this.simplePath=a>=0?s.substring(a+1):s,this.range.source=this}get isNative(){return this.internalPath==ss}get isLibrary(){var e=this.sourceKind;return e==2||e==3}lineAt(e){assert(e>=0&&e<2147483647);var r=this.lineCache;if(!r){this.lineCache=r=[0];let a=this.text,o=0,l=a.length;for(;o<l;)a.charCodeAt(o++)==10&&r.push(o);r.push(2147483647)}for(var i=0,s=r.length-1;i<s;){let a=i+(s-i>>1),o=unchecked(r[a]);if(e<o)s=a;else{if(e<unchecked(r[a+1]))return this.lineColumn=e-o+1,a+1;i=a+1}}return assert(0)}columnAt(){return this.lineColumn}},Ge=class extends ue{constructor(e,r,i,s,a){super(e,a);this.name=r;this.decorators=i;this.flags=s;this.overriddenModuleName=null}is(e){return(this.flags&e)==e}isAny(e){return(this.flags&e)!=0}set(e){this.flags|=e}},Ks=class extends O{constructor(e,r,i,s){super(65,s);this.keyType=e;this.valueType=r;this.flags=i}},qr=class extends Ge{constructor(e,r,i,s,a,o,l){super(e,r,i,s,l);this.type=a;this.initializer=o}},qs=class extends ue{constructor(e,r){super(30,r);this.statements=e}},Qs=class extends ue{constructor(e,r){super(31,r);this.label=e}},Mi=class extends Ge{constructor(e,r,i,s,a,o,l,p){super(51,e,r,i,p);this.typeParameters=s;this.extendsType=a;this.implementsTypes=o;this.members=l;this.indexSignature=null}get isGeneric(){var e=this.typeParameters;return e!=null&&e.length>0}},Zs=class extends ue{constructor(e,r){super(32,r);this.label=e}},js=class extends ue{constructor(e,r,i){super(33,i);this.statement=e;this.condition=r}},Js=class extends ue{constructor(n){super(34,n)}},$s=class extends Ge{constructor(e,r,i,s,a){super(52,e,r,i,a);this.values=s}},ea=class extends qr{constructor(n,e,r,i){super(53,n,null,e,null,r,i)}},ta=class extends ue{constructor(e,r,i){super(37,i);this.name=e;this.externalName=r}},ra=class extends O{constructor(e,r,i){super(63,i);this.localName=e;this.exportedName=r}},ia=class extends ue{constructor(e,r,i,s){super(35,s);this.members=e;this.path=r;this.isDeclare=i;if(r){let a=ar(r.value);r.value.startsWith(".")?a=as(a,s.source.internalPath):a.startsWith(Je)||(a=Je+a),this.internalPath=a}else this.internalPath=null}},na=class extends ue{constructor(e,r){super(36,r);this.declaration=e}},sa=class extends ue{constructor(e){super(38,e.range);this.expression=e}},aa=class extends qr{constructor(e,r,i,s,a,o,l){super(54,e,r,i,s,a,l);this.parameterIndex=o}},oa=class extends ue{constructor(e,r,i,s,a){super(39,a);this.initializer=e;this.condition=r;this.incrementor=i;this.statement=s}},la=class extends ue{constructor(e,r,i,s){super(40,s);this.variable=e;this.iterable=r;this.statement=i}},Bi=(r=>(r[r.NONE=0]="NONE",r[r.ARROW_PARENTHESIZED=1]="ARROW_PARENTHESIZED",r[r.ARROW_SINGLE=2]="ARROW_SINGLE",r))(Bi||{}),ur=class extends Ge{constructor(e,r,i,s,a,o,l,p){super(55,e,r,i,p);this.typeParameters=s;this.signature=a;this.body=o;this.arrowKind=l}get isGeneric(){var e=this.typeParameters;return e!=null&&e.length>0}clone(){return new ur(this.name,this.decorators,this.flags,this.typeParameters,this.signature,this.body,this.arrowKind,this.range)}},ua=class extends ue{constructor(e,r,i,s){super(41,s);this.condition=e;this.ifTrue=r;this.ifFalse=i}},pa=class extends Ge{constructor(e,r,i){super(56,e,null,0,i);this.foreignName=r}},Ui=class extends ue{constructor(e,r,i,s){super(42,s);this.declarations=e;this.namespaceName=r;this.path=i;var a=ar(i.value);i.value.startsWith(".")?a=as(a,s.source.internalPath):a.startsWith(Je)||(a=Je+a),this.internalPath=Di(a)}},ca=class extends Mi{constructor(n,e,r,i,s,a,o,l){super(n,e,r,i,s,a,o,l),this.kind=57}},_a=class extends ur{constructor(n,e,r,i,s,a,o){super(n,e,r,i,s,a,0,o),this.kind=58}},fa=class extends Ge{constructor(e,r,i,s,a){super(59,e,r,i,a);this.members=s}},ha=class extends ue{constructor(e,r){super(43,r);this.value=e}},ma=class extends O{constructor(e,r,i){super(64,i);this.label=e;this.statements=r}},da=class extends ue{constructor(e,r,i){super(44,i);this.condition=e;this.cases=r}},Ea=class extends ue{constructor(e,r){super(45,r);this.value=e}},ya=class extends ue{constructor(e,r,i,s,a){super(46,a);this.statements=e;this.catchVariable=r;this.catchStatements=i;this.finallyStatements=s}},ga=class extends ue{constructor(e,r,i){super(50,i);this.moduleName=e;this.flags=r}},Ta=class extends Ge{constructor(e,r,i,s,a,o){super(60,e,r,i,o);this.typeParameters=s;this.type=a}},ba=class extends qr{constructor(n,e,r,i,s,a){super(61,n,e,r,i,s,a)}},Ia=class extends ue{constructor(e,r,i){super(47,i);this.decorators=e;this.declarations=r}},va=class extends ue{constructor(e,r){super(48,r);this.expression=e}},xa=class extends ue{constructor(e,r,i){super(49,i);this.condition=e;this.statement=r}};function bt(t,n){if(n)for(let e=0,r=n.length;e<r;++e){let i=n[e];if(i.decoratorKind==t)return i}return null}function Di(t){return t.endsWith("/")?t+="index":t.endsWith(".ts")&&(t=t.substring(0,t.length-3)),t}function Se(t){if(t.kind==1){let n=t.name;return!(n.next||n.identifier.text.length>0)}return!1}var Jr=(C=>(C[C.ABSTRACT=0]="ABSTRACT",C[C.AS=1]="AS",C[C.ASYNC=2]="ASYNC",C[C.AWAIT=3]="AWAIT",C[C.BREAK=4]="BREAK",C[C.CASE=5]="CASE",C[C.CATCH=6]="CATCH",C[C.CLASS=7]="CLASS",C[C.CONST=8]="CONST",C[C.CONTINUE=9]="CONTINUE",C[C.CONSTRUCTOR=10]="CONSTRUCTOR",C[C.DEBUGGER=11]="DEBUGGER",C[C.DECLARE=12]="DECLARE",C[C.DEFAULT=13]="DEFAULT",C[C.DELETE=14]="DELETE",C[C.DO=15]="DO",C[C.ELSE=16]="ELSE",C[C.ENUM=17]="ENUM",C[C.EXPORT=18]="EXPORT",C[C.EXTENDS=19]="EXTENDS",C[C.FALSE=20]="FALSE",C[C.FINALLY=21]="FINALLY",C[C.FOR=22]="FOR",C[C.FROM=23]="FROM",C[C.FUNCTION=24]="FUNCTION",C[C.GET=25]="GET",C[C.IF=26]="IF",C[C.IMPLEMENTS=27]="IMPLEMENTS",C[C.IMPORT=28]="IMPORT",C[C.IN=29]="IN",C[C.INSTANCEOF=30]="INSTANCEOF",C[C.INTERFACE=31]="INTERFACE",C[C.IS=32]="IS",C[C.KEYOF=33]="KEYOF",C[C.LET=34]="LET",C[C.MODULE=35]="MODULE",C[C.NAMESPACE=36]="NAMESPACE",C[C.NEW=37]="NEW",C[C.NULL=38]="NULL",C[C.OF=39]="OF",C[C.PACKAGE=40]="PACKAGE",C[C.PRIVATE=41]="PRIVATE",C[C.PROTECTED=42]="PROTECTED",C[C.PUBLIC=43]="PUBLIC",C[C.READONLY=44]="READONLY",C[C.RETURN=45]="RETURN",C[C.SET=46]="SET",C[C.STATIC=47]="STATIC",C[C.SUPER=48]="SUPER",C[C.SWITCH=49]="SWITCH",C[C.THIS=50]="THIS",C[C.THROW=51]="THROW",C[C.TRUE=52]="TRUE",C[C.TRY=53]="TRY",C[C.TYPE=54]="TYPE",C[C.TYPEOF=55]="TYPEOF",C[C.VAR=56]="VAR",C[C.VOID=57]="VOID",C[C.WHILE=58]="WHILE",C[C.WITH=59]="WITH",C[C.YIELD=60]="YIELD",C[C.OPENBRACE=61]="OPENBRACE",C[C.CLOSEBRACE=62]="CLOSEBRACE",C[C.OPENPAREN=63]="OPENPAREN",C[C.CLOSEPAREN=64]="CLOSEPAREN",C[C.OPENBRACKET=65]="OPENBRACKET",C[C.CLOSEBRACKET=66]="CLOSEBRACKET",C[C.DOT=67]="DOT",C[C.DOT_DOT_DOT=68]="DOT_DOT_DOT",C[C.SEMICOLON=69]="SEMICOLON",C[C.COMMA=70]="COMMA",C[C.LESSTHAN=71]="LESSTHAN",C[C.GREATERTHAN=72]="GREATERTHAN",C[C.LESSTHAN_EQUALS=73]="LESSTHAN_EQUALS",C[C.GREATERTHAN_EQUALS=74]="GREATERTHAN_EQUALS",C[C.EQUALS_EQUALS=75]="EQUALS_EQUALS",C[C.EXCLAMATION_EQUALS=76]="EXCLAMATION_EQUALS",C[C.EQUALS_EQUALS_EQUALS=77]="EQUALS_EQUALS_EQUALS",C[C.EXCLAMATION_EQUALS_EQUALS=78]="EXCLAMATION_EQUALS_EQUALS",C[C.EQUALS_GREATERTHAN=79]="EQUALS_GREATERTHAN",C[C.PLUS=80]="PLUS",C[C.MINUS=81]="MINUS",C[C.ASTERISK_ASTERISK=82]="ASTERISK_ASTERISK",C[C.ASTERISK=83]="ASTERISK",C[C.SLASH=84]="SLASH",C[C.PERCENT=85]="PERCENT",C[C.PLUS_PLUS=86]="PLUS_PLUS",C[C.MINUS_MINUS=87]="MINUS_MINUS",C[C.LESSTHAN_LESSTHAN=88]="LESSTHAN_LESSTHAN",C[C.GREATERTHAN_GREATERTHAN=89]="GREATERTHAN_GREATERTHAN",C[C.GREATERTHAN_GREATERTHAN_GREATERTHAN=90]="GREATERTHAN_GREATERTHAN_GREATERTHAN",C[C.AMPERSAND=91]="AMPERSAND",C[C.BAR=92]="BAR",C[C.CARET=93]="CARET",C[C.EXCLAMATION=94]="EXCLAMATION",C[C.TILDE=95]="TILDE",C[C.AMPERSAND_AMPERSAND=96]="AMPERSAND_AMPERSAND",C[C.BAR_BAR=97]="BAR_BAR",C[C.QUESTION=98]="QUESTION",C[C.COLON=99]="COLON",C[C.EQUALS=100]="EQUALS",C[C.PLUS_EQUALS=101]="PLUS_EQUALS",C[C.MINUS_EQUALS=102]="MINUS_EQUALS",C[C.ASTERISK_EQUALS=103]="ASTERISK_EQUALS",C[C.ASTERISK_ASTERISK_EQUALS=104]="ASTERISK_ASTERISK_EQUALS",C[C.SLASH_EQUALS=105]="SLASH_EQUALS",C[C.PERCENT_EQUALS=106]="PERCENT_EQUALS",C[C.LESSTHAN_LESSTHAN_EQUALS=107]="LESSTHAN_LESSTHAN_EQUALS",C[C.GREATERTHAN_GREATERTHAN_EQUALS=108]="GREATERTHAN_GREATERTHAN_EQUALS",C[C.GREATERTHAN_GREATERTHAN_GREATERTHAN_EQUALS=109]="GREATERTHAN_GREATERTHAN_GREATERTHAN_EQUALS",C[C.AMPERSAND_EQUALS=110]="AMPERSAND_EQUALS",C[C.BAR_EQUALS=111]="BAR_EQUALS",C[C.CARET_EQUALS=112]="CARET_EQUALS",C[C.AT=113]="AT",C[C.IDENTIFIER=114]="IDENTIFIER",C[C.STRINGLITERAL=115]="STRINGLITERAL",C[C.INTEGERLITERAL=116]="INTEGERLITERAL",C[C.FLOATLITERAL=117]="FLOATLITERAL",C[C.TEMPLATELITERAL=118]="TEMPLATELITERAL",C[C.INVALID=119]="INVALID",C[C.ENDOFFILE=120]="ENDOFFILE",C))(Jr||{}),Go=(r=>(r[r.DEFAULT=0]="DEFAULT",r[r.PREFER=1]="PREFER",r[r.ALWAYS=2]="ALWAYS",r))(Go||{});function sp(t){let n=t.length;switch(assert(n),t.charCodeAt(0)){case 97:{if(n==5){if(t=="async")return 2;if(t=="await")return 3;break}if(t=="as")return 1;if(t=="abstract")return 0;break}case 98:{if(t=="break")return 4;break}case 99:{if(n==5){if(t=="const")return 8;if(t=="class")return 7;if(t=="catch")return 6;break}if(t=="case")return 5;if(t=="continue")return 9;if(t=="constructor")return 10;break}case 100:{if(n==7){if(t=="default")return 13;if(t=="declare")return 12;break}if(t=="do")return 15;if(t=="delete")return 14;if(t=="debugger")return 11;break}case 101:{if(n==4){if(t=="else")return 16;if(t=="enum")return 17;break}if(t=="export")return 18;if(t=="extends")return 19;break}case 102:{if(n<=5){if(t=="false")return 20;if(t=="for")return 22;if(t=="from")return 23;break}if(t=="function")return 24;if(t=="finally")return 21;break}case 103:{if(t=="get")return 25;break}case 105:{if(n==2){if(t=="if")return 26;if(t=="in")return 29;if(t=="is")return 32;break}switch(t.charCodeAt(3)){case 108:{if(t=="implements")return 27;break}case 111:{if(t=="import")return 28;break}case 116:{if(t=="instanceof")return 30;break}case 101:{if(t=="interface")return 31;break}}break}case 107:{if(t=="keyof")return 33;break}case 108:{if(t=="let")return 34;break}case 109:{if(t=="module")return 35;break}case 110:{if(t=="new")return 37;if(t=="null")return 38;if(t=="namespace")return 36;break}case 111:{if(t=="of")return 39;break}case 112:{if(n==7){if(t=="private")return 41;if(t=="package")return 40;break}if(t=="public")return 43;if(t=="protected")return 42;break}case 114:{if(t=="return")return 45;if(t=="readonly")return 44;break}case 115:{if(n==6){if(t=="switch")return 49;if(t=="static")return 47;break}if(t=="set")return 46;if(t=="super")return 48;break}case 116:{if(n==4){if(t=="true")return 52;if(t=="this")return 50;if(t=="type")return 54;break}if(t=="try")return 53;if(t=="throw")return 51;if(t=="typeof")return 55;break}case 118:{if(t=="var")return 56;if(t=="void")return 57;break}case 119:{if(t=="while")return 58;if(t=="with")return 59;break}case 121:{if(t=="yield")return 60;break}}return 119}function ap(t){switch(t){case 0:case 1:case 10:case 12:case 14:case 23:case 22:case 25:case 30:case 32:case 33:case 35:case 36:case 38:case 44:case 46:case 54:case 57:return!0;default:return!1}}function Vo(t){switch(assert(t.length),t.charCodeAt(0)){case 100:return t=="delete";case 102:return t=="for";case 105:return t=="instanceof";case 110:return t=="null";case 118:return t=="void"}return!1}function Te(t){switch(t){case 14:return"delete";case 29:return"in";case 30:return"instanceof";case 37:return"new";case 55:return"typeof";case 57:return"void";case 60:return"yield";case 68:return"...";case 70:return",";case 71:return"<";case 72:return">";case 73:return"<=";case 74:return">=";case 75:return"==";case 76:return"!=";case 77:return"===";case 78:return"!==";case 80:return"+";case 81:return"-";case 82:return"**";case 83:return"*";case 84:return"/";case 85:return"%";case 86:return"++";case 87:return"--";case 88:return"<<";case 89:return">>";case 90:return">>>";case 91:return"&";case 92:return"|";case 93:return"^";case 94:return"!";case 95:return"~";case 96:return"&&";case 97:return"||";case 100:return"=";case 101:return"+=";case 102:return"-=";case 103:return"*=";case 104:return"**=";case 105:return"/=";case 106:return"%=";case 107:return"<<=";case 108:return">>=";case 109:return">>>=";case 110:return"&=";case 111:return"|=";case 112:return"^=";default:return assert(!1),""}}var se=class{constructor(n,e){this.debugInfoRef=0;this.start=n,this.end=e}static join(n,e){if(n.source!=e.source)throw new Error("source mismatch");let r=new se(n.start<e.start?n.start:e.start,n.end>e.end?n.end:e.end);return r.source=n.source,r}equals(n){return this.source==n.source&&this.start==n.start&&this.end==n.end}get atStart(){let n=new se(this.start,this.start);return n.source=this.source,n}get atEnd(){let n=new se(this.end,this.end);return n.source=this.source,n}toString(){return this.source.text.substring(this.start,this.end)}},Gi=class extends Ue{constructor(e,r=null){super(r);this.end=0;this.pos=0;this.token=-1;this.tokenPos=0;this.nextToken=-1;this.nextTokenPos=0;this.nextTokenOnNewLine=!1;this.onComment=null;this.readingTemplateString=!1;this.readStringStart=0;this.readStringEnd=0;r||(r=[]),this.diagnostics=r,this.source=e;var i=e.text,s=i.length,a=0;if(a<s&&i.charCodeAt(a)==65279&&++a,a+1<s&&i.charCodeAt(a)==35&&i.charCodeAt(a+1)==33)for(a+=2;a<s&&i.charCodeAt(a)!=10;)++a;this.pos=a,this.end=s}next(e=0){this.nextToken=-1;var r;do r=this.unsafeNext(e);while(r==119);return this.token=r,r}unsafeNext(e=0,r=i32.MAX_VALUE){for(var i=this.source.text,s=this.end,a=this.pos;a<s;){this.tokenPos=a;let o=i.charCodeAt(a);switch(o){case 13:if(!(++a<s&&i.charCodeAt(a)==10))break;case 10:case 9:case 11:case 12:case 32:{++a;break}case 33:return++a,r>1&&a<s&&i.charCodeAt(a)==61?(++a,r>2&&a<s&&i.charCodeAt(a)==61?(this.pos=a+1,78):(this.pos=a,76)):(this.pos=a,94);case 34:case 39:return this.pos=a,115;case 96:return this.pos=a,118;case 37:return++a,r>1&&a<s&&i.charCodeAt(a)==61?(this.pos=a+1,106):(this.pos=a,85);case 38:{if(++a,r>1&&a<s){let l=i.charCodeAt(a);if(l==38)return this.pos=a+1,96;if(l==61)return this.pos=a+1,110}return this.pos=a,91}case 40:return this.pos=a+1,63;case 41:return this.pos=a+1,64;case 42:{if(++a,r>1&&a<s){let l=i.charCodeAt(a);if(l==61)return this.pos=a+1,103;if(l==42)return++a,r>2&&a<s&&i.charCodeAt(a)==61?(this.pos=a+1,104):(this.pos=a,82)}return this.pos=a,83}case 43:{if(++a,r>1&&a<s){let l=i.charCodeAt(a);if(l==43)return this.pos=a+1,86;if(l==61)return this.pos=a+1,101}return this.pos=a,80}case 44:return this.pos=a+1,70;case 45:{if(++a,r>1&&a<s){let l=i.charCodeAt(a);if(l==45)return this.pos=a+1,87;if(l==61)return this.pos=a+1,102}return this.pos=a,81}case 46:{if(++a,r>1&&a<s){let l=i.charCodeAt(a);if(Mt(l))return this.pos=a-1,117;if(r>2&&a+1<s&&l==46&&i.charCodeAt(a+1)==46)return this.pos=a+2,68}return this.pos=a,67}case 47:{let l=a;if(++a,r>1&&a<s){let p=i.charCodeAt(a);if(p==47){let c=0;for(a+1<s&&i.charCodeAt(a+1)==47&&(++a,c=1);++a<s;)if(i.charCodeAt(a)==10){++a;break}this.onComment&&this.onComment(c,i.substring(l,a),this.range(l,a));break}if(p==42){let c=!1;for(;++a<s;)if(o=i.charCodeAt(a),o==42&&a+1<s&&i.charCodeAt(a+1)==47){a+=2,c=!0;break}c?this.onComment&&this.onComment(2,i.substring(l,a),this.range(l,a)):this.error(1005,this.range(a),"*/");break}if(p==61)return this.pos=a+1,105}return this.pos=a,84}case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.pos=a,this.testInteger()?116:117;case 58:return this.pos=a+1,99;case 59:return this.pos=a+1,69;case 60:{if(++a,r>1&&a<s){let l=i.charCodeAt(a);if(l==60)return++a,r>2&&a<s&&i.charCodeAt(a)==61?(this.pos=a+1,107):(this.pos=a,88);if(l==61)return this.pos=a+1,73}return this.pos=a,71}case 61:{if(++a,r>1&&a<s){let l=i.charCodeAt(a);if(l==61)return++a,r>2&&a<s&&i.charCodeAt(a)==61?(this.pos=a+1,77):(this.pos=a,75);if(l==62)return this.pos=a+1,79}return this.pos=a,100}case 62:{if(++a,r>1&&a<s){let l=i.charCodeAt(a);if(l==62){if(++a,r>2&&a<s){if(l=i.charCodeAt(a),l==62)return++a,r>3&&a<s&&i.charCodeAt(a)==61?(this.pos=a+1,109):(this.pos=a,90);if(l==61)return this.pos=a+1,108}return this.pos=a,89}if(l==61)return this.pos=a+1,74}return this.pos=a,72}case 63:return this.pos=a+1,98;case 91:return this.pos=a+1,65;case 93:return this.pos=a+1,66;case 94:return++a,r>1&&a<s&&i.charCodeAt(a)==61?(this.pos=a+1,112):(this.pos=a,93);case 123:return this.pos=a+1,61;case 124:{if(++a,r>1&&a<s){let l=i.charCodeAt(a);if(l==124)return this.pos=a+1,97;if(l==61)return this.pos=a+1,111}return this.pos=a,92}case 125:return this.pos=a+1,62;case 126:return this.pos=a+1,95;case 64:return this.pos=a+1,113;default:{if(Ni(o)){let p=a;for(;++a<s&&Vr(o=i.charCodeAt(a)););if(e!=2){let c=sp(i.substring(p,a));if(c!=119&&!(e==1&&ap(c)))return this.pos=a,c}return this.pos=p,114}else if(Ro(o)){++a;break}let l=a++;return Dr(o)&&a<s&&Gr(i.charCodeAt(a))&&++a,this.error(1127,this.range(l,a)),this.pos=a,119}}}return this.pos=a,120}peek(e=!1,r=0,i=i32.MAX_VALUE){var s=this.source.text;if(this.nextToken<0){let a=this.pos,o=this.token,l=this.tokenPos,p;do p=this.unsafeNext(r,i);while(p==119);if(this.nextToken=p,this.nextTokenPos=this.tokenPos,e){this.nextTokenOnNewLine=!1;for(let c=a,_=this.nextTokenPos;c<_;++c)if(yt(s.charCodeAt(c))){this.nextTokenOnNewLine=!0;break}}this.pos=a,this.token=o,this.tokenPos=l}return this.nextToken}skipIdentifier(e=1){return this.skip(114,e)}skip(e,r=0){var i=this.pos,s=this.token,a=this.tokenPos,o=i32.MAX_VALUE;e==72&&(o=1);var l;do l=this.unsafeNext(r,o);while(l==119);return l==e?(this.token=e,this.nextToken=-1,!0):(this.pos=i,this.token=s,this.tokenPos=a,!1)}mark(){var e=Do;return e?(Do=null,e.pos=this.pos,e.token=this.token,e.tokenPos=this.tokenPos):e=new Sa(this.pos,this.token,this.tokenPos),e}discard(e){Do=e}reset(e){this.pos=e.pos,this.token=e.token,this.tokenPos=e.tokenPos,this.nextToken=-1}range(e=-1,r=-1){e<0?(e=this.tokenPos,r=this.pos):r<0&&(r=e);let i=new se(e,r);return i.source=this.source,i}readIdentifier(){for(var e=this.source.text,r=this.end,i=this.pos,s=i;++i<r&&Vr(e.charCodeAt(i)););return this.pos=i,e.substring(s,i)}readString(e=0,r=!1){var i=this.source.text,s=this.end,a=this.pos;e||(e=i.charCodeAt(a++));var o=a;this.readStringStart=o;for(var l="";;){if(a>=s){l+=i.substring(o,a),this.error(1002,this.range(o-1,s)),this.readStringEnd=s;break}let p=i.charCodeAt(a);if(p==e){this.readStringEnd=a,l+=i.substring(o,a++);break}if(p==92){l+=i.substring(o,a),this.pos=a,l+=this.readEscapeSequence(r),a=this.pos,o=a;continue}if(e==96){if(p==36&&a+1<s&&i.charCodeAt(a+1)==123)return l+=i.substring(o,a),this.readStringEnd=a,this.pos=a+2,this.readingTemplateString=!0,l}else if(yt(p)){l+=i.substring(o,a),this.error(1002,this.range(o-1,a)),this.readStringEnd=a;break}++a}return this.pos=a,this.readingTemplateString=!1,l}readEscapeSequence(e=!1){var r=this.pos,i=this.end;if(++this.pos>=i)return this.error(1126,this.range(i)),"";var s=this.source.text,a=s.charCodeAt(this.pos++);switch(a){case 48:return e&&this.pos<i&&Mt(s.charCodeAt(this.pos))?(++this.pos,s.substring(r,this.pos)):"\0";case 98:return"\b";case 116:return"	";case 110:return`
`;case 118:return"\v";case 102:return"\f";case 114:return"\r";case 39:return"'";case 34:return'"';case 117:return this.pos<i&&s.charCodeAt(this.pos)==123?(++this.pos,this.readExtendedUnicodeEscape(e?r:-1)):this.readUnicodeEscape(e?r:-1);case 120:return this.readHexadecimalEscape(2,e?r:-1);case 13:this.pos<i&&s.charCodeAt(this.pos)==10&&++this.pos;case 10:case 8232:case 8233:return"";default:return String.fromCodePoint(a)}}readRegexpPattern(){for(var e=this.source.text,r=this.pos,i=this.end,s=!1;;){if(this.pos>=i){this.error(1161,this.range(r,i));break}if(e.charCodeAt(this.pos)==92){++this.pos,s=!0;continue}let a=e.charCodeAt(this.pos);if(!s&&a==47)break;if(yt(a)){this.error(1161,this.range(r,this.pos));break}++this.pos,s=!1}return e.substring(r,this.pos)}readRegexpFlags(){for(var e=this.source.text,r=this.pos,i=this.end,s=0;this.pos<i;){let a=e.charCodeAt(this.pos);if(!Vr(a))break;switch(++this.pos,a){case 103:{s|=s&1?-1:1;break}case 105:{s|=s&2?-1:2;break}case 109:{s|=s&4?-1:4;break}default:{s=-1;break}}}return s==-1&&this.error(209,this.range(r,this.pos)),e.substring(r,this.pos)}testInteger(){var e=this.source.text,r=this.pos,i=this.end;if(r+1<i&&e.charCodeAt(r)==48)switch(e.charCodeAt(r+2)|32){case 120:case 98:case 111:return!0}for(;r<i;){let s=e.charCodeAt(r);if(s==46||(s|32)==101)return!1;if(s!=95&&(s<48||s>57))break;r++}return!0}readInteger(){var e=this.source.text,r=this.pos;if(r+2<this.end&&e.charCodeAt(r)==48){switch(e.charCodeAt(r+1)|32){case 120:return this.pos=r+2,this.readHexInteger();case 98:return this.pos=r+2,this.readBinaryInteger();case 111:return this.pos=r+2,this.readOctalInteger()}if(Lo(e.charCodeAt(r+1))){let i=r;this.pos=r+1;let s=this.readOctalInteger();return this.error(1121,this.range(i,this.pos)),s}}return this.readDecimalInteger()}readHexInteger(){var e=this.source.text;let r=this.pos;for(var i=this.end,s=r,a=s,o=i64_new(0),l=i64_new(4);r<i;){let p=e.charCodeAt(r);if(p>=48&&p<=57)o=i64_add(i64_shl(o,l),i64_new(p-48));else if(p>=65&&p<=70)o=i64_add(i64_shl(o,l),i64_new(10+p-65));else if(p>=97&&p<=102)o=i64_add(i64_shl(o,l),i64_new(10+p-97));else if(p==95)a==r&&this.error(a==s?6188:6189,this.range(r)),a=r+1;else break;++r}return r==s?this.error(1125,this.range(s)):a==r&&this.error(6188,this.range(a-1)),this.pos=r,o}readDecimalInteger(){for(var e=this.source.text,r=this.pos,i=this.end,s=r,a=s,o=i64_new(0),l=i64_new(10);r<i;){let p=e.charCodeAt(r);if(p>=48&&p<=57)o=i64_add(i64_mul(o,l),i64_new(p-48));else if(p==95)a==r?this.error(a==s?6188:6189,this.range(r)):r-1==s&&e.charCodeAt(r-1)==48&&this.error(6188,this.range(r)),a=r+1;else break;++r}return r==s?this.error(1124,this.range(s)):a==r&&this.error(6188,this.range(a-1)),this.pos=r,o}readOctalInteger(){for(var e=this.source.text,r=this.pos,i=this.end,s=r,a=s,o=i64_new(0),l=i64_new(3);r<i;){let p=e.charCodeAt(r);if(p>=48&&p<=55)o=i64_add(i64_shl(o,l),i64_new(p-48));else if(p==95)a==r&&this.error(a==s?6188:6189,this.range(r)),a=r+1;else break;++r}return r==s?this.error(1178,this.range(s)):a==r&&this.error(6188,this.range(a-1)),this.pos=r,o}readBinaryInteger(){for(var e=this.source.text,r=this.pos,i=this.end,s=r,a=s,o=i64_new(0),l=i64_new(1);r<i;){let p=e.charCodeAt(r);if(p==48)o=i64_shl(o,l);else if(p==49)o=i64_add(i64_shl(o,l),l);else if(p==95)a==r&&this.error(a==s?6188:6189,this.range(r)),a=r+1;else break;++r}return r==s?this.error(1177,this.range(s)):a==r&&this.error(6188,this.range(a-1)),this.pos=r,o}readFloat(){return this.readDecimalFloat()}readDecimalFloat(){var e=this.source.text,r=this.end,i=this.pos,s=this.readDecimalFloatPartial(!1);if(this.pos<r&&e.charCodeAt(this.pos)==46&&(++this.pos,s+=this.readDecimalFloatPartial()),this.pos<r){let o=e.charCodeAt(this.pos);(o|32)==101&&((++this.pos<r&&(o=e.charCodeAt(this.pos))==45||o==43&&Mt(e.charCodeAt(this.pos+1)))&&++this.pos,s+=this.readDecimalFloatPartial())}let a=e.substring(i,this.pos);return s&&(a=a.replaceAll("_","")),parseFloat(a)}readDecimalFloatPartial(e=!0){for(var r=this.source.text,i=this.pos,s=i,a=this.end,o=s,l=0;i<a;){let p=r.charCodeAt(i);if(p==95)o==i?this.error(o==s?6188:6189,this.range(i)):!e&&i-1==s&&r.charCodeAt(i-1)==48&&this.error(6188,this.range(i)),o=i+1,++l;else if(!Mt(p))break;++i}return i!=s&&o==i&&this.error(6188,this.range(o-1)),this.pos=i,l}readHexFloat(){throw new Error("not implemented")}readHexadecimalEscape(e=2,r=-1){for(var i=0,s=this.source.text,a=this.pos,o=this.end;a<o;){let l=s.charCodeAt(a++);if(l>=48&&l<=57)i=(i<<4)+l-48;else if(l>=65&&l<=70)i=(i<<4)+l+(10-65);else if(l>=97&&l<=102)i=(i<<4)+l+(10-97);else return~r?(this.pos=--a,s.substring(r,a)):(this.pos=a,this.error(1125,this.range(a-1,a)),"");if(--e==0)break}return e?(this.pos=a,~r?s.substring(r,a):(this.error(1126,this.range(a)),"")):(this.pos=a,String.fromCodePoint(i))}checkForIdentifierStartAfterNumericLiteral(){var e=this.pos;e<this.end&&Ni(this.source.text.charCodeAt(e))&&this.error(1351,this.range(e))}readUnicodeEscape(e=-1){return this.readHexadecimalEscape(4,e)}readExtendedUnicodeEscape(e=-1){var r=this.pos,i=this.readHexInteger(),s=i64_low(i),a=!1;assert(!i64_high(i)),s>1114111&&(e==-1&&this.error(1198,this.range(r,this.pos)),a=!0);var o=this.end,l=this.source.text;return this.pos>=o?(e==-1&&this.error(1126,this.range(r,o)),a=!0):l.charCodeAt(this.pos)==125?++this.pos:(e==-1&&this.error(1199,this.range(r,this.pos)),a=!0),a?~e?l.substring(e,this.pos):"":String.fromCodePoint(s)}},Sa=class{constructor(n,e,r){this.pos=n;this.token=e;this.tokenPos=r}},Do=null;var Ra=(e=>(e[e.REPORT=0]="REPORT",e[e.SWALLOW=1]="SWALLOW",e))(Ra||{}),Vi=class extends Ue{constructor(e){super(e.diagnostics);this.currentThisExpression=null;this.currentElementExpression=null;this.discoveredOverload=!1;this.resolveClassPending=new Set;this.program=e}resolveType(e,r,i=null,s=0){switch(e.kind){case 1:return this.resolveNamedType(e,r,i,s);case 2:return this.resolveFunctionType(e,r,i,s);default:assert(!1)}return null}resolveNamedType(e,r,i=null,s=0){var a=e.name,o=e.typeArguments,l=!a.next;if(l){let _=a.identifier.text;if(i&&i.has(_)){let f=assert(i.get(_));if(o&&o.length>0&&s==0&&this.error(2315,e.range,f.toString()),e.isNullable){if(f.isInternalReference)return f.asNullable();s==0&&this.error(204,e.range,f.toString())}return f}}var p=this.resolveTypeName(a,r,s);if(!p)return null;var c=p.shadowType;if(c)p=c;else{if(p.kind==2)return o&&o.length>0&&s==0&&this.error(2315,e.range,p.internalName),e.isNullable&&s==0&&this.error(204,e.range,p.name+"/i32"),u.i32;if(p.kind==6||p.kind==8){let _=this.resolveClassInclTypeArguments(p,o,r,re(i),e,s);return _?e.isNullable?_.type.asNullable():_.type:null}}if(p.kind==16){let _=p;if(p.is(2097152)){o&&o.length>0&&s==0&&this.error(2315,e.range,p.internalName);let T=_.type;if(e.isNullable){if(T.isInternalReference)return T.asNullable();s==0&&this.error(204,a.range,a.identifier.text)}return T}if(l){let T=a.identifier.text;if(T==w.native)return this.resolveBuiltinNativeType(e,r,i,s);if(T==w.indexof)return this.resolveBuiltinIndexofType(e,r,i,s);if(T==w.valueof)return this.resolveBuiltinValueofType(e,r,i,s);if(T==w.returnof)return this.resolveBuiltinReturnTypeType(e,r,i,s);if(T==w.nonnull)return this.resolveBuiltinNotNullableType(e,r,i,s)}let f=_.typeParameterNodes,d=null;if(f){if(d=this.resolveTypeArguments(f,o,r,i=re(i),e,s),!d)return null}else o&&o.length>0&&this.error(2315,e.range,a.identifier.text);let y=this.resolveType(_.typeNode,p,i,s);if(!y)return null;if(e.isNullable){if(y.isInternalReference)return y.asNullable();s==0&&this.error(204,a.range,a.identifier.text)}return y}return s==0&&this.error(2304,a.range,a.identifier.text),null}resolveFunctionType(e,r,i=null,s=0){var a=e.explicitThisType,o=null;if(a&&(o=this.resolveType(a,r,i,s),!o))return null;var l=e.parameters,p=l.length,c=new Array(p),_=0,f=!1;for(let v=0;v<p;++v){let I=l[v];switch(I.parameterKind){case 0:{_=v+1;break}case 2:{assert(v==p),f=!0;break}}let S=I.type;if(Se(S))return s==0&&this.error(1110,S.range),null;let R=this.resolveType(S,r,i,s);if(!R)return null;c[v]=R}var d=e.returnType,y;if(Se(d))s==0&&this.error(1110,d.range),y=u.void;else if(y=this.resolveType(d,r,i,s),!y)return null;var T=new ge(this.program,c,y,o);return T.requiredParameters=_,T.hasRest=f,e.isNullable?T.type.asNullable():T.type}resolveBuiltinNativeType(e,r,i=null,s=0){let a=this.ensureOneTypeArgument(e,s);if(!a)return null;var o=this.resolveType(a,r,i,s);if(!o)return null;switch(o.kind){case 0:case 1:case 2:return u.i32;case 4:if(!this.program.options.isWasm64)return u.i32;case 3:return u.i64;case 5:case 6:case 7:case 10:return u.u32;case 9:if(!this.program.options.isWasm64)return u.u32;case 8:return u.u64;case 11:return u.f32;case 12:return u.f64;case 13:return u.v128;case 20:return u.void;default:assert(!1)}return null}resolveBuiltinIndexofType(e,r,i=null,s=0){let a=this.ensureOneTypeArgument(e,s);if(!a)return null;var o=this.resolveType(a,r,i,s);if(!o)return null;var l=o.classReference;if(!l)return s==0&&this.error(2329,a.range,o.toString()),null;var p=l.lookupOverload(1);return p?p.is(32)?(assert(p.signature.parameterTypes.length==2),p.signature.parameterTypes[1]):(assert(p.signature.parameterTypes.length==1),p.signature.parameterTypes[0]):(s==0&&this.error(2329,a.range,o.toString()),null)}resolveBuiltinValueofType(e,r,i=null,s=0){let a=this.ensureOneTypeArgument(e,s);if(!a)return null;var o=this.resolveType(a,r,i,s);if(!o)return null;var l=o.getClassOrWrapper(this.program);if(l){let p=l.lookupOverload(1);if(p)return p.signature.returnType}return s==0&&this.error(2329,a.range,o.toString()),null}resolveBuiltinReturnTypeType(e,r,i=null,s=0){let a=this.ensureOneTypeArgument(e,s);if(!a)return null;var o=this.resolveType(a,r,i,s);if(!o)return null;var l=o.getSignature();return l?l.returnType:(s==0&&this.error(2757,a.range,o.toString()),null)}resolveBuiltinNotNullableType(e,r,i=null,s=0){let a=this.ensureOneTypeArgument(e,s);if(!a)return null;var o=this.resolveType(a,r,i,s);return o?o.isNullableReference?o.nonNullableType:o:null}resolveTypeName(e,r,i=0){var s=r.lookup(e.identifier.text,!0);if(!s)return i==0&&this.error(2304,e.range,e.identifier.text),null;for(var a=e,o=e.next;o;){if(!(s=s.getMember(o.identifier.text)))return i==0&&this.error(2339,o.range,o.identifier.text,a.identifier.text),null;a=o,o=o.next}return s}resolveTypeArguments(e,r,i,s=re(),a=null,o=0){var l=0,p=0;for(let d=0,y=e.length;d<y;++d)e[d].defaultType||++l,++p;var c=r?r.length:0;if(c<l||c>p)return o==0&&this.error(2558,c?se.join(r[0].range,r[c-1].range):a.range,(c<l?l:p).toString(),c.toString()),null;var _=new Array(p),f=re(s);s.clear();for(let d=0;d<p;++d){let y=d<c?this.resolveType(r[d],i,f,o):this.resolveType(assert(e[d].defaultType),i,re(s),o);if(!y)return null;s.set(e[d].name.text,y),_[d]=y}return _}maybeInferCall(e,r,i,s=0){var a=e.typeArguments;if(a)return r.is(32768)?this.resolveFunctionInclTypeArguments(r,a,i.actualFunction,re(i.contextualTypeArguments),e,s):(s==0&&this.error(2315,e.expression.range,r.internalName),null);if(r.is(32768)){let o=re(i.contextualTypeArguments),l=assert(r.typeParameterNodes),p=l.length,c=new Set;for(let v=0;v<p;++v){let I=l[v].name.text;o.set(I,u.auto),c.add(I)}let _=r.functionTypeNode.parameters,f=_.length,d=e.args,y=d.length;for(let v=0;v<f;++v){let I=v<y?d[v]:_[v].initializer;if(!I)return s==0&&this.error(2554,e.range,f.toString(),y.toString()),null;let S=_[v].type;if(S.hasGenericComponent(l)){let R=this.resolveExpression(I,i,u.auto,1);R&&this.propagateInferredGenericTypes(S,R,i,o,c)}}let T=new Array(p);for(let v=0;v<p;++v){let I=l[v],S=I.name.text;if(o.has(S)){let R=assert(o.get(S));if(R!=u.auto){T[v]=R;continue}let A=I.defaultType;if(A){let P=this.resolveType(A,i.actualFunction,o,s);if(!P)return null;T[v]=P;continue}}return s==0&&this.error(1140,e.expression.range.atEnd),null}return this.resolveFunction(r,T,re(i.contextualTypeArguments),s)}return this.resolveFunction(r,null,re(),s)}propagateInferredGenericTypes(e,r,i,s,a){if(e.kind==1){let o=e,l=o.typeArguments;if(l&&l.length>0){let p=r.classReference;if(p){let c=this.resolveTypeName(o.name,i.actualFunction);if(!c||c.kind!=6)return;if(p.prototype==c){let _=p.typeArguments;if(_&&_.length==l.length){for(let f=0,d=_.length;f<d;++f)this.propagateInferredGenericTypes(l[f],_[f],i,s,a);return}}}}else{let p=o.name.identifier.text;if(s.has(p)){let c=assert(s.get(p));(c==u.auto||a.has(p)&&c.isAssignableTo(r))&&s.set(p,r)}}}else if(e.kind==2){let o=e,l=o.parameters;if(l&&l.length>0){let p=r.signatureReference;if(p){let c=p.parameterTypes,_=p.thisType;if(c.length==l.length&&!_==!o.explicitThisType){for(let f=0,d=c.length;f<d;++f)this.propagateInferredGenericTypes(l[f].type,c[f],i,s,a);this.propagateInferredGenericTypes(o.returnType,p.returnType,i,s,a),_&&this.propagateInferredGenericTypes(o.explicitThisType,_,i,s,a);return}}}}}getTypeOfElement(e){var r=e.kind;if(r==0&&!this.ensureResolvedLazyGlobal(e,1))return null;if(zo(r)){let i=e.type,s=i.getClassOrWrapper(this.program);if(s){let a=s.wrappedType;a&&(i=a)}return i}return null}getElementOfType(e){let r=e.getClassOrWrapper(this.program);return r||null}lookupExpression(e,r,i=u.auto,s=0){for(;e.kind==20;)e=e.expression;switch(e.kind){case 7:return this.lookupAssertionExpression(e,r,i,s);case 8:return this.lookupBinaryExpression(e,r,i,s);case 9:return this.lookupCallExpression(e,r,i,s);case 11:return this.lookupCommaExpression(e,r,i,s);case 12:return this.lookupElementAccessExpression(e,r,i,s);case 14:return this.lookupFunctionExpression(e,r,i,s);case 6:case 13:case 18:case 25:return this.lookupIdentifierExpression(e,r,r.actualFunction,s);case 24:return this.lookupThisExpression(e,r,i,s);case 23:return this.lookupSuperExpression(e,r,i,s);case 15:return this.lookupInstanceOfExpression(e,r,i,s);case 16:return this.lookupLiteralExpression(e,r,i,s);case 17:return this.lookupNewExpression(e,r,i,s);case 21:return this.lookupPropertyAccessExpression(e,r,i,s);case 22:return this.lookupTernaryExpression(e,r,i,s);case 27:return this.lookupUnaryPostfixExpression(e,r,i,s);case 28:return this.lookupUnaryPrefixExpression(e,r,i,s)}return assert(!1),null}resolveExpression(e,r,i=u.auto,s=0){for(;e.kind==20;)e=e.expression;switch(e.kind){case 7:return this.resolveAssertionExpression(e,r,i,s);case 8:return this.resolveBinaryExpression(e,r,i,s);case 9:return this.resolveCallExpression(e,r,i,s);case 11:return this.resolveCommaExpression(e,r,i,s);case 12:return this.resolveElementAccessExpression(e,r,i,s);case 14:return this.resolveFunctionExpression(e,r,i,s);case 6:case 13:case 18:case 25:return this.resolveIdentifierExpression(e,r,i,r.actualFunction,s);case 24:return this.resolveThisExpression(e,r,i,s);case 23:return this.resolveSuperExpression(e,r,i,s);case 15:return this.resolveInstanceOfExpression(e,r,i,s);case 16:return this.resolveLiteralExpression(e,r,i,s);case 17:return this.resolveNewExpression(e,r,i,s);case 21:return this.resolvePropertyAccessExpression(e,r,i,s);case 22:return this.resolveTernaryExpression(e,r,i,s);case 27:return this.resolveUnaryPostfixExpression(e,r,i,s);case 28:return this.resolveUnaryPrefixExpression(e,r,i,s)}return assert(!1),null}lookupIdentifierExpression(e,r,i=r.actualFunction,s=0){switch(e.kind){case 25:case 13:case 18:{let p=this.resolveIdentifierExpression(e,r,u.auto,i,s);return p?this.getElementOfType(p):null}}var a=e.text,o;if(o=r.lookup(a))return this.currentThisExpression=null,this.currentElementExpression=null,o;var l=r.outer;return l&&(o=l.lookup(a))?(this.currentThisExpression=null,this.currentElementExpression=null,o):(o=i.lookup(a))?(this.currentThisExpression=null,this.currentElementExpression=null,o):(o=this.program.lookup(a))?(this.currentThisExpression=null,this.currentElementExpression=null,o):(s==0&&this.error(2304,e.range,a),null)}resolveIdentifierExpression(e,r,i=u.auto,s=r.actualFunction,a=0){switch(e.kind){case 25:case 13:return u.bool;case 18:{let p=i.getClass();if(p)return p.type.asNullable();{let c=i.getSignature();if(c)return c.type.asNullable();if(i.isExternalReference)return i}return this.program.options.usizeType}}var o=this.lookupIdentifierExpression(e,r,s,a);if(!o)return null;if(o.kind==4){let p=this.resolveFunction(o,null,re(),a);if(!p)return null;o=p}var l=this.getTypeOfElement(o);return l||a==0&&this.error(225,e.range),l}ensureResolvedLazyGlobal(e,r=0){if(e.is(2097152))return!0;var i,s=e.typeNode;return s?i=this.resolveType(s,e.parent,null,r):i=this.resolveExpression(assert(e.initializerNode),e.file.startFunction.flow,u.auto,r),i?(e.setType(i),!0):!1}lookupPropertyAccessExpression(e,r,i,s=0){var a=e.expression,o=this.lookupExpression(a,r,i,s);if(!o)return null;var l=e.property.text;switch(o.kind){case 0:if(!this.ensureResolvedLazyGlobal(o,s))return null;case 3:case 1:case 11:{let p=o,c=p.type;assert(c!=u.void);let _=c.getClassOrWrapper(this.program);if(!_)return s==0&&this.error(2339,e.property.range,l,p.type.toString()),null;o=_;break}case 12:{let p=this.resolveProperty(o,s);if(!p)return null;o=p}case 13:{let p=o,_=assert(p.getterInstance).signature.returnType,f=_.getClassOrWrapper(this.program);if(!f)return s==0&&this.error(2339,e.property.range,l,_.toString()),null;o=f;break}case 17:{let c=o.parent;assert(c.kind==7);let _=c,f=assert(this.currentElementExpression),d=_.lookupOverload(1);if(!d)return s==0&&this.error(2329,f.range,c.internalName),null;let y=d.signature.returnType,T=y.getClassOrWrapper(this.program);if(!T)return s==0&&this.error(2339,e.property.range,l,y.toString()),null;o=T;break}case 4:{let p=o.shadowType;if(p){if(!p.is(2097152)){let _=this.resolveType(p.typeNode,p.parent,null,s);_&&p.setType(_)}let c=p.type.classReference;c&&(o=c.prototype);break}else if(!o.is(32768)&&!o.getMember(l)){let _=this.resolveFunction(o,null,re(),1);if(_){let f=_.type.getClassOrWrapper(this.program);f&&(o=f)}}break}}switch(o.kind){case 6:case 8:case 7:case 9:{do{let p=o.getMember(l);if(p){if(p.kind==12){let c=this.resolveProperty(p,s);if(!c)return null;p=c,c.is(32)?this.currentThisExpression=null:this.currentThisExpression=a}else this.currentThisExpression=a;return this.currentElementExpression=null,p}if(o.kind==6||o.kind==8){let _=o.basePrototype;if(_)o=_;else break}else if(o.kind==7||o.kind==9){let _=o.base;if(_)o=_;else break}else break}while(!0);break}default:{let p=o.getMember(l);if(p)return this.currentThisExpression=a,this.currentElementExpression=null,p;break}}return s==0&&this.error(2339,e.property.range,l,o.internalName),null}resolvePropertyAccessExpression(e,r,i,s=0){var a=this.lookupPropertyAccessExpression(e,r,i,s);if(!a)return null;var o=this.getTypeOfElement(a);return o||s==0&&this.error(225,e.range),o}lookupElementAccessExpression(e,r,i,s=0){var a=e.expression,o=this.resolveExpression(a,r,i,s);if(!o)return null;let l=o.getClassOrWrapper(this.program);if(l)do{let p=l.indexSignature;if(p)return this.currentThisExpression=a,this.currentElementExpression=e.elementExpression,p;l=l.base}while(l);return s==0&&this.error(2329,a.range,o.toString()),null}resolveElementAccessExpression(e,r,i,s=0){var a=this.lookupElementAccessExpression(e,r,i,s);if(!a)return null;var o=this.getTypeOfElement(a);return o||s==0&&this.error(225,e.range),o}determineIntegerLiteralType(e,r){if(r.isValue)switch(r.kind){case 0:{if(i64_is_i8(e))return u.i8;break}case 5:{if(i64_is_u8(e))return u.u8;break}case 1:{if(i64_is_i16(e))return u.i16;break}case 6:{if(i64_is_u16(e))return u.u16;break}case 2:{if(i64_is_i32(e))return u.i32;break}case 7:{if(i64_is_u32(e))return u.u32;break}case 10:{if(i64_is_bool(e))return u.bool;break}case 4:{if(!this.program.options.isWasm64){if(i64_is_i32(e))return u.isize32;break}return u.isize64}case 9:{if(!this.program.options.isWasm64){if(i64_is_u32(e))return u.usize32;break}return u.usize64}case 3:return u.i64;case 8:return u.u64;case 11:return u.f32;case 12:return u.f64}return i64_is_i32(e)?u.i32:i64_is_u32(e)?u.u32:u.i64}lookupAssertionExpression(e,r,i=u.auto,s=0){switch(e.assertionKind){case 1:case 0:{let a=this.resolveType(assert(e.toType),r.actualFunction,r.contextualTypeArguments,s);if(!a)return null;let o=this.getElementOfType(a);return o||(s==0&&this.error(214,e.range,a.toString()),this.currentThisExpression=null,this.currentElementExpression=null,null)}case 2:return this.lookupExpression(e.expression,r,i,s);case 3:return this.error(100,e.range,"Const assertion"),null}return assert(!1),null}resolveAssertionExpression(e,r,i=u.auto,s=0){switch(e.assertionKind){case 1:case 0:return this.resolveType(assert(e.toType),r.actualFunction,r.contextualTypeArguments,s);case 2:{let a=this.resolveExpression(e.expression,r,i,s);return a?a.nonNullableType:null}case 3:{let a=this.lookupExpression(e,r,i,s);if(!a)return null;let o=this.getTypeOfElement(a);return o||s==0&&this.error(225,e.range),o}default:assert(!1)}return null}lookupUnaryPrefixExpression(e,r,i=u.auto,s=0){var a=this.resolveUnaryPrefixExpression(e,r,i,s);if(!a)return null;var o=this.getElementOfType(a);return o||s==0&&this.error(2469,e.range,Te(e.operator),a.toString()),o}resolveUnaryPrefixExpression(e,r,i=u.auto,s=0){var a=e.operand,o=e.operator;switch(o){case 81:if(a.isLiteralKind(1))return this.determineIntegerLiteralType(i64_sub(i64_zero,a.value),i);case 80:case 86:case 87:{let l=this.resolveExpression(a,r,i,s);if(!l)return null;let p=l.getClassOrWrapper(this.program);if(p){let c=p.lookupOverload(Fe.fromUnaryPrefixToken(o));if(c)return c.signature.returnType}return l.isNumericValue?l:(s==0&&this.error(2469,e.range,Te(o),l.toString()),null)}case 94:{let l=this.resolveExpression(a,r,i,s);if(!l)return null;let p=l.getClassOrWrapper(this.program);if(p){let c=p.lookupOverload(25);if(c)return c.signature.returnType}return u.bool}case 95:{let l=this.resolveExpression(a,r,i,s);if(!l)return null;let p=l.getClassOrWrapper(this.program);if(p){let c=p.lookupOverload(26);if(c)return c.signature.returnType}return l.isNumericValue?l.intType:(s==0&&this.error(2469,e.range,"~",l.toString()),null)}case 68:return s==0&&this.error(100,e.range,"Spread operator"),null;default:assert(!1)}return null}lookupUnaryPostfixExpression(e,r,i=u.auto,s=0){var a=this.resolveUnaryPostfixExpression(e,r,i,s);if(!a)return null;var o=this.getElementOfType(a);return o||s==0&&this.error(2469,e.range,Te(e.operator),a.toString()),o}resolveUnaryPostfixExpression(e,r,i=u.auto,s=0){var a=e.operator;switch(a){case 86:case 87:{let o=this.resolveExpression(e.operand,r,i,s);if(!o)return null;let l=o.getClassOrWrapper(this.program);if(l){let p=l.lookupOverload(Fe.fromUnaryPostfixToken(a));if(p)return p.signature.returnType}return o.isNumericValue?o:(s==0&&this.error(2469,e.range,Te(a),o.toString()),null)}}return assert(!1),null}lookupBinaryExpression(e,r,i=u.auto,s=0){var a=this.resolveBinaryExpression(e,r,i,s);if(!a)return null;var o=this.getElementOfType(a);return o||(s==0&&this.error(214,e.range,a.toString()),null)}resolveBinaryExpression(e,r,i=u.auto,s=0){var a=e.left,o=e.right,l=e.operator;switch(l){case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:return this.resolveExpression(a,r,i,s);case 71:case 72:case 73:case 74:{let p=this.resolveExpression(a,r,i,s);if(!p)return null;let c=p.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(Fe.fromBinaryToken(l));if(_)return _.signature.returnType}return p.isNumericValue?u.bool:(s==0&&this.error(2469,e.range,Te(l),p.toString()),null)}case 75:case 76:{let p=this.resolveExpression(a,r,i,s);if(!p)return null;let c=p.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(Fe.fromBinaryToken(l));if(_)return _.signature.returnType}return u.bool}case 77:case 78:return u.bool;case 80:case 81:case 83:case 84:case 85:case 82:{let p=this.resolveExpression(a,r,i,s);if(!p)return null;let c=p.getClassOrWrapper(this.program);if(c){let d=c.lookupOverload(Fe.fromBinaryToken(l));if(d)return d.signature.returnType}let _=this.resolveExpression(o,r,p,s);if(!_)return null;let f=u.commonDenominator(p,_,!1);return f||s==0&&this.error(2365,e.range,p.toString(),_.toString()),f}case 88:case 89:case 90:{let p=this.resolveExpression(a,r,i,s);if(!p)return null;let c=p.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(Fe.fromBinaryToken(l));if(_)return _.signature.returnType}return p.isIntegerValue?p:(s==0&&this.error(2469,e.range,Te(l),p.toString()),null)}case 91:case 92:case 93:{let p=this.resolveExpression(a,r,i,s);if(!p)return null;let c=p.getClassOrWrapper(this.program);if(c){let d=c.lookupOverload(Fe.fromBinaryToken(l));if(d)return d.signature.returnType}let _=this.resolveExpression(o,r,i,s);if(!_)return null;let f=u.commonDenominator(p,_,!1);return(!f||!f.isIntegerValue)&&s==0&&this.error(2365,e.range,Te(l),p.toString(),_.toString()),f}case 96:case 97:return this.resolveExpression(a,r,i,s)}return assert(!1),null}lookupThisExpression(e,r,i=u.auto,s=0){if(r.isInline){let o=r.lookupLocal(w.this_);if(o)return this.currentThisExpression=null,this.currentElementExpression=null,o}var a=r.actualFunction.parent;return a?(this.currentThisExpression=null,this.currentElementExpression=null,a):(s==0&&this.error(2332,e.range),null)}resolveThisExpression(e,r,i=u.auto,s=0){var a=this.lookupThisExpression(e,r,i,s);if(!a)return null;var o=this.getTypeOfElement(a);return o||s==0&&this.error(225,e.range),o}lookupSuperExpression(e,r,i=u.auto,s=0){if(r.isInline){let o=r.lookupLocal(w.super_);if(o)return this.currentThisExpression=null,this.currentElementExpression=null,o}var a=r.actualFunction.parent;if(a&&a.kind==7){let o=a.base;if(o)return this.currentThisExpression=null,this.currentElementExpression=null,o}return s==0&&this.error(2335,e.range),null}resolveSuperExpression(e,r,i=u.auto,s=0){var a=this.lookupSuperExpression(e,r,i,s);if(!a)return null;var o=this.getTypeOfElement(a);return o||s==0&&this.error(225,e.range),o}lookupLiteralExpression(e,r,i=u.auto,s=0){switch(this.currentThisExpression=e,this.currentElementExpression=null,e.literalKind){case 1:{let a=this.determineIntegerLiteralType(e.value,i);return assert(a.getClassOrWrapper(this.program))}case 0:{let a=i==u.f32?u.f32:u.f64;return assert(a.getClassOrWrapper(this.program))}case 2:case 3:return this.program.stringInstance;case 5:{let a=i.getClass();if(a&&a.prototype==this.program.arrayPrototype)return this.getElementOfType(i);let o=e.elementExpressions,l=o.length,p=u.auto,c=0;for(let _=0,f=l;_<f;++_){let d=o[_];if(d)if(d.kind==18&&l>1)++c;else{let y=this.resolveExpression(d,r,p);if(!y)return null;if(p==u.auto)p=y;else if(y!=p){let T=u.commonDenominator(p,y,!1);T&&(p=T)}}}if(p==u.auto)if(c==l)p=this.program.options.usizeType;else return s==0&&this.error(2453,e.range,"T"),null;return c>0&&p.isInternalReference&&(p=p.asNullable()),assert(this.resolveClass(this.program.arrayPrototype,[p]))}case 6:return i.isClass?i.classReference:(s==0&&this.error(225,e.range),null)}return assert(!1),null}resolveLiteralExpression(e,r,i=u.auto,s=0){var a=this.lookupLiteralExpression(e,r,i,s);if(!a)return null;var o=this.getTypeOfElement(a);return o||s==0&&this.error(225,e.range),o}lookupCallExpression(e,r,i=u.void,s=0){var a=this.resolveCallExpression(e,r,i,s);if(!a)return null;var o=this.getElementOfType(a);return o||s==0&&this.error(214,e.range,a.toString()),o}resolveCallExpression(e,r,i=u.void,s=0){var a=e.expression,o=this.lookupExpression(a,r,i,s);if(!o)return null;switch(o.kind){case 4:{let l=o;if(l.internalName==h.unchecked&&e.args.length>0)return this.resolveExpression(e.args[0],r,i,s);let p=this.maybeInferCall(e,l,r,s);return p?p.signature.returnType:null}case 0:case 1:case 11:{let l=o.type,p=this.getElementOfType(l);if(!p||p.kind!=7)break;o=p}case 7:{let l=o.getTypeArgumentsTo(this.program.functionPrototype);if(l&&l.length>0){let p=l[0];return assert(p.signatureReference).returnType}break}}return s==0&&this.error(2349,a.range,o.internalName),null}lookupCommaExpression(e,r,i=u.auto,s=0){var a=e.expressions;return this.lookupExpression(a[assert(a.length)-1],r,i,s)}resolveCommaExpression(e,r,i=u.auto,s=0){var a=e.expressions;return this.resolveExpression(a[assert(a.length)-1],r,i,s)}lookupInstanceOfExpression(e,r,i=u.auto,s=0){return assert(u.bool.getClassOrWrapper(this.program))}resolveInstanceOfExpression(e,r,i=u.auto,s=0){return u.bool}lookupTernaryExpression(e,r,i,s=0){var a=this.resolveTernaryExpression(e,r,i,s);if(!a)return null;var o=this.getElementOfType(a);return o||s==0&&this.error(214,e.range,a.toString()),o}resolveTernaryExpression(e,r,i,s=0){var a=this.resolveExpression(e.ifThen,r,i,s);if(!a)return null;var o=this.resolveExpression(e.ifElse,r,a,s);if(!o)return null;var l=u.commonDenominator(a,o,!1);return l||s==0&&this.error(2365,e.range,"?:",a.toString(),o.toString()),l}lookupNewExpression(e,r,i,s=0){var a=this.resolveTypeName(e.typeName,r.actualFunction,s);return a?a.kind==6?this.resolveClassInclTypeArguments(a,e.typeArguments,r.actualFunction,re(r.contextualTypeArguments),e,s):(s==0&&this.error(2351,e.range),null):null}resolveNewExpression(e,r,i,s=0){var a=this.lookupNewExpression(e,r,i,s);if(!a)return null;var o=this.getTypeOfElement(a);return o||s==0&&this.error(225,e.range),o}lookupFunctionExpression(e,r,i,s=0){var a=this.resolveFunctionExpression(e,r,i,s);if(!a)return null;var o=this.getElementOfType(a);return o||s==0&&this.error(214,e.range,a.toString()),o}resolveFunctionExpression(e,r,i,s=0){return this.resolveFunctionType(e.declaration.signature,r.actualFunction,r.contextualTypeArguments,s)}resolveFunction(e,r,i=re(),s=0){var a=e.parent.kind==12?e.parent.parent:e.parent,o=null,l=r?cs(r):"";if(e.is(131072)){assert(a.kind==7||a.kind==9),o=a;let k=e.getResolvedInstance(l);if(k)return k;let W=o.typeArguments;if(W){let U=assert(o.prototype.typeParameterNodes),V=U.length;assert(V==U.length);for(let K=0;K<V;++K){let H=U[K].name.text;i.set(H,W[K])}}}else{assert(a.kind!=7);let k=e.getResolvedInstance(l);if(k)return k}var p=e.functionTypeNode,c=e.typeParameterNodes,_;if(r&&(_=r.length)>0){assert(c&&_==c.length);for(let k=0;k<_;++k)i.set(c[k].name.text,r[k])}else assert(!c||c.length==0);var f=null,d=p.explicitThisType;if(d){if(f=this.resolveType(d,e.parent,i,s),!f)return null;i.set(w.this_,f)}else o&&(f=o.type,i.set(w.this_,f));var y=p.parameters,T=y.length,v=new Array(T),I=0;for(let k=0;k<T;++k){let W=y[k];W.parameterKind==0&&(I=k+1);let U=W.type;if(Se(U))return s==0&&this.error(1110,U.range),null;let V=this.resolveType(U,e.parent,i,s);if(!V)return null;if(V==u.void)return s==0&&this.error(1110,U.range),null;v[k]=V}var S;if(e.is(4096))S=u.void;else if(e.is(262144))S=o.type;else{let k=p.returnType;if(Se(k))return s==0&&this.error(1110,k.range),null;let W=this.resolveType(k,e.parent,i,s);if(!W)return null;S=W}var R=new ge(this.program,v,S,f);R.requiredParameters=I;var A=e.name;l.length&&(A+="<"+l+">");var P=new Xe(A,e,r,R,i);if(e.setResolvedInstance(l,P),o){let k=P.declaration.name.text,W=o.base;for(;W;){let U=W.members;if(U&&U.has(k)){this.discoveredOverload=!0;break}W=W.base}}return P}resolveFunctionInclTypeArguments(e,r,i,s,a,o=0){var l=e.parent.kind==12?e.parent.parent:e.parent,p=null;if(e.is(32768)){if(e.is(131072)){assert(l.kind==7);let c=l,_=c.typeArguments;if(_){let f=assert(c.prototype.typeParameterNodes),d=_.length;assert(d==f.length);for(let y=0;y<d;++y)s.set(f[y].name.text,_[y])}}if(p=this.resolveTypeArguments(assert(e.typeParameterNodes),r,i,s,a,o),!p)return null}else if(r&&r.length>0)return o==0&&this.error(2315,a.range,e.internalName),null;return this.resolveFunction(e,p,s,o)}resolveOverloads(e){var r=e.prototype.overloads;if(!r)return null;var i=assert(e.getClassOrInterface()),s=new Set;for(let a=Set_values(r),o=0,l=a.length;o<l;++o){let p=a[o];assert(!p.isBound);let c=p.parent,_=c.kind==12,f;if(_){let d=c.parent;assert(d.kind==6),f=d.instances}else assert(c.kind==6),f=c.instances;if(!!f)for(let d=Map_values(f),y=0,T=d.length;y<T;++y){let v=d[y];if(!v.isAssignableTo(i))continue;let I;if(_){let S=assert(v.members.get(c.name));assert(S.kind==12);let R=this.resolveProperty(S);if(!R)continue;e.is(2048)?I=R.getterInstance:(assert(e.is(4096)),I=R.setterInstance)}else{let S=assert(v.members.get(p.name));assert(S.kind==4),I=this.resolveFunction(S,e.typeArguments)}I&&s.add(I)}}return Set_values(s)}resolveClass(e,r,i=re(),s=0){var a=r?cs(r):"",o=e.getResolvedInstance(a);if(o)return o;var l=e.name;a.length&&(l+="<"+a+">"),e.kind==8?o=new Hi(l,e,r):o=new $r(l,e,r),e.setResolvedInstance(a,o);var p=this.resolveClassPending;if(p.add(o),r){let d=assert(e.typeParameterNodes),y=d.length,T=r.length;assert(T==y);for(let v=0;v<T;++v)i.set(d[v].name.text,r[v])}else{let d=e.typeParameterNodes;assert(!(d&&d.length>0))}o.contextualTypeArguments=i;var c=!1,_=e.basePrototype;if(_){let d=_;do{if(d==e)return this.error(2506,e.identifierNode.range,e.internalName),null;d=d.basePrototype}while(d);let y=assert(e.extendsNode),T=this.resolveClassInclTypeArguments(_,y.typeArguments,e.parent,re(i),y,s);if(!T)return null;o.setBase(T),p.has(T)&&(c=!0)}var f=e.interfacePrototypes;if(f)for(let d=0,y=f.length;d<y;++d){let T=f[d],v=T;do{if(v==e)return this.error(2506,e.identifierNode.range,e.internalName),null;v=v.basePrototype}while(v);let I=assert(e.implementsNodes[d]),S=this.resolveClassInclTypeArguments(T,I.typeArguments,e.parent,re(i),I,s);if(!S)return null;assert(S.kind==9),o.addInterface(S),p.has(S)&&(c=!0)}return c||this.finishResolveClass(o,s),o}finishResolveClass(e,r){var i=e.members;i||(e.members=i=new Map);var s=this.resolveClassPending,a=new Map,o=e.interfaces;if(o)for(let y=Set_values(o),T=0,v=y.length;T<v;++T){let I=y[T];assert(!s.has(I));let S=I.members;if(S)for(let R=Map_keys(S),A=0,P=R.length;A<P;++A){let k=unchecked(R[A]),W=assert(S.get(k));if(i.has(k)){let U=assert(i.get(k));if(!W.isCompatibleOverride(U)){this.errorRelated(2394,W.identifierAndSignatureRange,U.identifierAndSignatureRange);continue}}i.set(k,W),a.set(k,W)}}var l=0,p=e.base;if(p){assert(!s.has(p));let y=p.members;if(y)for(let T=Map_keys(y),v=0,I=T.length;v<I;++v){let S=unchecked(T[v]),R=assert(y.get(S));if(i.has(S)){let A=assert(i.get(S));if(!R.isCompatibleOverride(A)){this.errorRelated(2394,R.identifierAndSignatureRange,A.identifierAndSignatureRange);continue}}i.set(S,R),R.is(128)?a.set(S,R):a.delete(S)}l=p.nextMemoryOffset}var c=e.prototype,_=c.instanceMembers,f=new Array;if(_)for(let y=Map_values(_),T=0,v=y.length;T<v;++T){let I=unchecked(y[T]),S=I.name;switch(I.kind){case 10:{let R=I,A=R.typeNode,P=null,k=null;if(p){let U=p.members;if(U&&U.has(R.name)){let V=assert(U.get(R.name));V.kind==11?k=V:this.errorRelated(2300,R.identifierNode.range,V.identifierNode.range,R.name)}}if(!A)k&&!k.is(512)&&(P=k.type),P||r==0&&this.error(1110,R.identifierNode.range.atEnd);else if(P=this.resolveType(A,c.parent,e.contextualTypeArguments,r),P==u.void){r==0&&this.error(1110,A.range);break}if(!P)break;if(k){let U=p;R.is(512)?k.is(512)?this.errorRelated(2442,R.identifierNode.range,k.identifierNode.range,R.name):this.errorRelated(2325,R.identifierNode.range,k.identifierNode.range,R.name,e.internalName,U.internalName):R.is(1024)?k.is(512)?this.errorRelated(2325,R.identifierNode.range,k.identifierNode.range,R.name,U.internalName,e.internalName):k.is(1024)||this.errorRelated(2444,R.identifierNode.range,k.identifierNode.range,R.name,e.internalName,U.internalName):k.is(512)&&this.errorRelated(2325,R.identifierNode.range,k.identifierNode.range,R.name,U.internalName,e.internalName),P.isStrictlyAssignableTo(k.type)||this.errorRelated(2416,R.identifierNode.range,k.identifierNode.range,R.name,e.internalName,U.internalName)}let W=new zi(R,e,P);if(assert(Et(P.byteSize)),k)W.memoryOffset=k.memoryOffset;else{let U=P.byteSize-1;l&U&&(l=(l|U)+1),W.memoryOffset=l,l+=P.byteSize}e.add(S,W);break}case 4:{let R=I.toBound(e);e.add(R.name,R);break}case 12:{let R=I.toBound(e);e.add(R.name,R);break}default:assert(!1)}I.is(128)||a.delete(S)}for(let y=0,T=f.length;y<T;++y){let v=f[y],I=v.getterInstance;if(!I)this.error(229,v.identifierNode.range,v.name);else{let S=v.setterInstance;S&&!I.visibilityEquals(S)&&this.errorRelated(2379,I.identifierNode.range,S.identifierNode.range)}}if(e.kind!=9){if(!e.is(128)&&a.size>0)for(let y=Map_keys(a),T=0,v=y.length;T<v;++T){let I=y[T],S=assert(a.get(I));this.errorRelated(2515,e.identifierNode.range,S.identifierNode.range,e.internalName,I,S.parent.internalName)}e.nextMemoryOffset=l;{let y=e.getMember(w.constructor);if(y&&y.parent==e){assert(y.kind==4);let T=this.resolveFunction(y,null,assert(e.contextualTypeArguments),r);T&&(e.constructorInstance=T)}}}var d=c.overloadPrototypes;for(let y=Map_keys(d),T=0,v=y.length;T<v;++T){let I=unchecked(y[T]),S=assert(d.get(I));if(assert(I!=0),S.is(32768))continue;let R;if(S.is(131072)){let P=S.toBound(e);R=this.resolveFunction(P,null,re(),r)}else R=this.resolveFunction(S,null,re(),r);if(!R)continue;let A=e.overloads;if(A||(e.overloads=A=new Map),R.is(131072))switch(I){case 27:case 28:case 29:case 30:{let P=R.signature.returnType;P.isAssignableTo(e.type)||r==0&&this.error(2322,S.functionTypeNode.returnType.range,P.toString(),e.type.toString())}}if(A.has(I))r==0&&this.error(213,R.declaration.range);else if(A.set(I,R),I==1||I==2){let P=e.indexSignature;P||(e.indexSignature=P=new Yi(e)),I==1&&P.setType(R.signature.returnType)}}assert(s.has(e)),s.delete(e);for(let y=Set_values(s),T=0,v=y.length;T<v;++T){let I=y[T],S=I.base==e,R=I.interfaces;if(R){let A=!1;for(let P=Set_values(R),k=0,W=P.length;k<W;++k){let U=P[k];U==e?S=!0:s.has(U)&&(A=!0)}if(A)continue}S&&this.finishResolveClass(I,r)}}resolveClassInclTypeArguments(e,r,i,s,a,o=0){var l=null;if(e.is(32768)){if(l=this.resolveTypeArguments(assert(e.typeParameterNodes),r,i,s,a,o),!l)return null}else if(r&&r.length>0)return o==0&&this.error(2315,a.range,e.internalName),null;return this.resolveClass(e,l,s,o)}resolveProperty(e,r=0){var i=e.instance;if(i)return i;e.instance=i=new Wi(e,e);var s=e.getterPrototype;if(s){let o=this.resolveFunction(s,null,re(),r);o&&(i.getterInstance=o,i.setType(o.signature.returnType))}var a=e.setterPrototype;if(a){let o=this.resolveFunction(a,null,re(),r);o&&(i.setterInstance=o,i.is(2097152)||(assert(o.signature.parameterTypes.length==1),i.setType(o.signature.parameterTypes[0])))}return i}ensureOneTypeArgument(e,r=0){var i=e.typeArguments;let s=0;return!i||(s=i.length)!=1?(r==0&&this.error(2558,e.range,"1",s.toString()),null):i[0]}};var Xi=class{constructor(){this.stack=new Array;this._currentExpression=0}get currentExpression(){var n=this._currentExpression;if(!n)throw new Error("not walking expressions");return n}get parentExpressionOrNull(){var n=this.stack,e=n.length;return e?n[e-1]:0}visitBlock(n){}visitIf(n){}visitLoop(n){}visitBreak(n){}visitSwitch(n){}visitCallPre(n){}visitCall(n){}visitCallIndirectPre(n){}visitCallIndirect(n){}visitLocalGet(n){}visitLocalSet(n){}visitGlobalGet(n){}visitGlobalSet(n){}visitLoad(n){}visitStore(n){}visitConst(n){}visitUnary(n){}visitBinary(n){}visitSelect(n){}visitDrop(n){}visitReturn(n){}visitMemorySize(n){}visitMemoryGrow(n){}visitNop(n){}visitUnreachable(n){}visitAtomicRMW(n){}visitAtomicCmpxchg(n){}visitAtomicWait(n){}visitAtomicNotify(n){}visitAtomicFence(n){}visitSIMDExtract(n){}visitSIMDReplace(n){}visitSIMDShuffle(n){}visitSIMDTernary(n){}visitSIMDShift(n){}visitSIMDLoad(n){}visitSIMDLoadStoreLane(n){}visitMemoryInit(n){}visitDataDrop(n){}visitMemoryCopy(n){}visitMemoryFill(n){}visitPop(n){}visitRefNull(n){}visitRefIs(n){}visitRefFunc(n){}visitRefEq(n){}visitTry(n){}visitThrow(n){}visitRethrow(n){}visitTupleMake(n){}visitTupleExtract(n){}visitI31New(n){}visitI31Get(n){}visitCallRef(n){}visitRefTest(n){}visitRefCast(n){}visitBrOn(n){}visitRttCanon(n){}visitRttSub(n){}visitStructNew(n){}visitStructGet(n){}visitStructSet(n){}visitArrayNew(n){}visitArrayGet(n){}visitArraySet(n){}visitArrayLen(n){}visitRefAs(n){}visitName(n){}visitLabel(n){}visitIndex(n){}visitTag(n){}visit(n){let e=this._currentExpression;switch(this._currentExpression=assert(n),ot(n)){case 1:{this.stack.push(n);let r=Ki(n);r&&this.visitLabel(r);for(let i=0,s=ei(n);i<s;++i)this.visit(ti(n,i));assert(this.stack.pop()==n),this.visitBlock(n);break}case 2:{this.stack.push(n),this.visit(qi(n)),this.visit(Qi(n));let r=Zi(n);r&&this.visit(r),assert(this.stack.pop()==n),this.visitIf(n);break}case 3:{this.stack.push(n);let r=Aa(n);r&&this.visitLabel(r),this.visit(ji(n)),assert(this.stack.pop()==n),this.visitLoop(n);break}case 4:{this.stack.push(n),this.visitLabel(Na(n));let r=ri(n);r&&this.visit(r);let i=Wo(n);i&&this.visit(i),assert(this.stack.pop()==n),this.visitBreak(n);break}case 5:{this.stack.push(n);let r=Ep(n);r&&this.visitLabel(r);let i=mp(n);for(let a=0;a<i;++a)this.visitLabel(dp(n,a));this.visit(Yo(n));let s=Ho(n);s&&this.visit(s),assert(this.stack.pop()==n),this.visitSwitch(n);break}case 6:{this.visitCallPre(n),this.stack.push(n),this.visitName(ii(n));let r=Gt(n);for(let i=0;i<r;++i)this.visit(Vt(n,i));assert(this.stack.pop()==n),this.visitCall(n);break}case 7:{this.visitCallIndirectPre(n),this.stack.push(n),this.visit(Xo(n));for(let r=0,i=Ji(n);r<i;++r)this.visit($i(n,r));assert(this.stack.pop()==n),this.visitCallIndirect(n);break}case 8:{this.stack.push(n),this.visitIndex(ni(n)),assert(this.stack.pop()==n),this.visitLocalGet(n);break}case 9:{this.stack.push(n),this.visitIndex(zt(n)),this.visit(_r(n)),assert(this.stack.pop()==n),this.visitLocalSet(n);break}case 10:{this.stack.push(n),this.visitName(ka(n)),assert(this.stack.pop()==n),this.visitGlobalGet(n);break}case 11:{this.stack.push(n),this.visitName(bp(n)),this.visit(Ko(n)),assert(this.stack.pop()==n),this.visitGlobalSet(n);break}case 12:{this.stack.push(n),this.visit(tn(n)),assert(this.stack.pop()==n),this.visitLoad(n);break}case 13:{this.stack.push(n),this.visit(fr(n)),this.visit(rn(n)),assert(this.stack.pop()==n),this.visitStore(n);break}case 14:{this.visitConst(n);break}case 15:{this.stack.push(n),this.visit(nn(n)),assert(this.stack.pop()==n),this.visitUnary(n);break}case 16:{this.stack.push(n),this.visit(sn(n)),this.visit(an(n)),assert(this.stack.pop()==n),this.visitBinary(n);break}case 17:{this.stack.push(n),this.visit(on(n)),this.visit(ln(n)),this.visit(un(n)),assert(this.stack.pop()==n),this.visitSelect(n);break}case 18:{this.stack.push(n),this.visit(pn(n)),assert(this.stack.pop()==n),this.visitDrop(n);break}case 19:{let r=hr(n);r&&(this.stack.push(n),this.visit(r),assert(this.stack.pop()==n)),this.visitReturn(n);break}case 20:{this.visitMemorySize(n);break}case 21:{this.stack.push(n),this.visit(en(n)),assert(this.stack.pop()==n),this.visitMemoryGrow(n);break}case 22:{this.visitNop(n);break}case 23:{this.visitUnreachable(n);break}case 24:{this.stack.push(n),this.visit(qo(n)),this.visit(Qo(n)),assert(this.stack.pop()==n),this.visitAtomicRMW(n);break}case 25:{this.stack.push(n),this.visit(Zo(n)),this.visit(jo(n)),this.visit(Jo(n)),assert(this.stack.pop()==n),this.visitAtomicCmpxchg(n);break}case 26:{this.stack.push(n),this.visit($o(n)),this.visit(el(n)),this.visit(tl(n)),assert(this.stack.pop()==n),this.visitAtomicWait(n);break}case 27:{this.stack.push(n),this.visit(rl(n)),this.visit(il(n)),assert(this.stack.pop()==n),this.visitAtomicNotify(n);break}case 28:{this.visitAtomicFence(n);break}case 29:{this.stack.push(n),this.visit(nl(n)),assert(this.stack.pop()==n),this.visitSIMDExtract(n);break}case 30:{this.stack.push(n),this.visit(sl(n)),this.visit(al(n)),assert(this.stack.pop()==n),this.visitSIMDReplace(n);break}case 31:{this.stack.push(n),this.visit(ol(n)),this.visit(ll(n)),assert(this.stack.pop()==n),this.visitSIMDShuffle(n);break}case 32:{this.stack.push(n),this.visit(ul(n)),this.visit(pl(n)),this.visit(cl(n)),assert(this.stack.pop()==n),this.visitSIMDTernary(n);break}case 33:{this.stack.push(n),this.visit(_l(n)),this.visit(fl(n)),assert(this.stack.pop()==n),this.visitSIMDShift(n);break}case 34:{this.stack.push(n),this.visit(hl(n)),assert(this.stack.pop()==n),this.visitSIMDLoad(n);break}case 35:{this.stack.push(n),this.visit(ml(n)),this.visit(dl(n)),assert(this.stack.pop()==n),this.visitSIMDLoadStoreLane(n);break}case 36:{this.stack.push(n),this.visit(El(n)),this.visit(yl(n)),this.visit(gl(n)),assert(this.stack.pop()==n),this.visitMemoryInit(n);break}case 37:{this.visitDataDrop(n);break}case 38:{this.stack.push(n),this.visit(Tl(n)),this.visit(bl(n)),this.visit(Il(n)),assert(this.stack.pop()==n),this.visitMemoryCopy(n);break}case 39:{this.stack.push(n),this.visit(vl(n)),this.visit(xl(n)),this.visit(Sl(n)),assert(this.stack.pop()==n),this.visitMemoryFill(n);break}case 40:{this.visitPop(n);break}case 41:{this.visitRefNull(n);break}case 42:{this.stack.push(n),this.visit(Rl(n)),assert(this.stack.pop()==n),this.visitRefIs(n);break}case 43:{this.stack.push(n),this.visitName(_c(n)),assert(this.stack.pop()==n),this.visitRefFunc(n);break}case 44:{this.stack.push(n),this.visit(Al(n)),this.visit(Nl(n)),assert(this.stack.pop()==n),this.visitRefEq(n);break}case 49:{this.stack.push(n),this.visit(Ll(n));let r=Cl(n);for(let i=0;i<r;++i)this.visit(Fl(n,i));assert(this.stack.pop()==n),this.visitTry(n);break}case 50:{this.stack.push(n),this.visitTag(Ec(n));let r=kl(n);for(let i=0;i<r;++i)this.visit(Pl(n,i));assert(this.stack.pop()==n),this.visitThrow(n);break}case 51:{this.visitRethrow(n);break}case 52:{let r=Ol(n);if(r){this.stack.push(n);for(let i=0;i<r;++i)this.visit(wl(n,i));assert(this.stack.pop()==n)}this.visitTupleMake(n);break}case 53:{this.stack.push(n),this.visit(Ml(n)),assert(this.stack.pop()==n),this.visitTupleExtract(n);break}case 54:{this.stack.push(n),this.visit(Ul(n)),assert(this.stack.pop()==n),this.visitI31New(n);break}case 55:{this.stack.push(n),this.visit(Bl(n)),assert(this.stack.pop()==n),this.visitI31Get(n);break}case 56:{this.stack.push(n),assert(!1),assert(this.stack.pop()==n),this.visitCallRef(n);break}case 57:{this.stack.push(n),assert(!1),assert(this.stack.pop()==n),this.visitRefTest(n);break}case 58:{this.stack.push(n),assert(!1),assert(this.stack.pop()==n),this.visitRefCast(n);break}case 59:{this.stack.push(n),assert(!1),assert(this.stack.pop()==n),this.visitBrOn(n);break}case 60:{this.stack.push(n),assert(!1),assert(this.stack.pop()==n),this.visitRttCanon(n);break}case 61:{this.stack.push(n),assert(!1),assert(this.stack.pop()==n),this.visitRttSub(n);break}case 62:{this.stack.push(n),assert(!1),assert(this.stack.pop()==n),this.visitStructNew(n);break}case 63:{this.stack.push(n),assert(!1),assert(this.stack.pop()==n),this.visitStructGet(n);break}case 64:{this.stack.push(n),assert(!1),assert(this.stack.pop()==n),this.visitStructSet(n);break}case 65:{this.stack.push(n),assert(!1),assert(this.stack.pop()==n),this.visitArrayNew(n);break}case 67:{this.stack.push(n),assert(!1),assert(this.stack.pop()==n),this.visitArrayGet(n);break}case 68:{this.stack.push(n),assert(!1),assert(this.stack.pop()==n),this.visitArraySet(n);break}case 69:{this.stack.push(n),assert(!1),assert(this.stack.pop()==n),this.visitArrayLen(n);break}case 71:{this.stack.push(n),assert(!1),assert(this.stack.pop()==n),this.visitRefAs(n);break}default:throw new Error("unexpected expression kind")}this._currentExpression=e}},pr=class extends Xi{constructor(e){super();this.module=e;this._currentFunction=0;this._currentGlobal=0}get currentFunction(){var e=this._currentFunction;if(!e)throw new Error("not walking a function");return e}get currentGlobal(){var e=this._currentGlobal;if(!e)throw new Error("not walking a global");return e}walkModule(){this.walkFunctions(),this.walkGlobals()}walkFunctions(){var e=this.module.ref;for(let r=0,i=vc(e);r<i;++r)this.walkFunction(xc(e,r))}walkFunction(e){var r=Dt(e);r&&(this._currentFunction=e,this.visit(r),this._currentFunction=0)}walkGlobals(){var e=this.module.ref;for(let r=0,i=Sc(e);r<i;++r)this.walkGlobal(Rc(e,r))}walkGlobal(e){this._currentGlobal=e;var r=Ma(e);r&&this.visit(r),this._currentGlobal=0}replaceCurrent(e){var r=this.currentExpression,i=this.currentFunction,s=Dt(i);if(s==r)wa(i,e);else{var a=assert(this.parentExpressionOrNull),o=iE(a,r,e);if(!o)throw Error("failed to replace expression");op(a)}}};function iE(t,n,e){switch(ot(t)){case 1:{let r=ei(t);for(let i=0;i<r;++i){let s=ti(t,i);if(s==n)return lp(t,i,e),s}break}case 2:{let r=qi(t);if(r==n)return up(t,e),r;let i=Qi(t);if(i==n)return pp(t,e),i;let s=Zi(t);if(s==n)return cp(t,e),s;break}case 3:{let r=ji(t);if(r==n)return _p(t,e),r;break}case 4:{let r=ri(t);if(r==n)return fp(t,e),r;let i=Wo(t);if(i==n)return hp(t,e),i;break}case 5:{let r=Yo(t);if(r==n)return yp(t,e),r;let i=Ho(t);if(i==n)return gp(t,e),i;break}case 6:{let r=Gt(t);for(let i=0;i<r;++i){let s=Vt(t,i);if(s==n)return La(t,i,e),s}break}case 7:{let r=Xo(t);if(r==n)return Tp(t,e),r;let i=Ji(t);for(let s=0;s<i;++s){let a=$i(t,s);if(a==n)return Ca(t,s,e),a}break}case 8:break;case 9:{let r=_r(t);if(r==n)return Fa(t,e),r;break}case 10:break;case 11:{let r=Ko(t);if(r==n)return Ip(t,e),r;break}case 12:{let r=tn(t);if(r==n)return xp(t,e),r;break}case 13:{let r=fr(t);if(r==n)return Pa(t,e),r;let i=rn(t);if(i==n)return Sp(t,e),i;break}case 14:break;case 15:{let r=nn(t);if(r==n)return Rp(t,e),r;break}case 16:{let r=sn(t);if(r==n)return Ap(t,e),r;let i=an(t);if(i==n)return Np(t,e),i;break}case 17:{let r=on(t);if(r==n)return Lp(t,e),r;let i=ln(t);if(i==n)return Cp(t,e),i;let s=un(t);if(s==n)return Fp(t,e),s;break}case 18:{let r=pn(t);if(r==n)return kp(t,e),r;break}case 19:{let r=hr(t);if(r==n)return Oa(t,e),r;break}case 20:break;case 21:{let r=en(t);if(r==n)return vp(t,e),r;break}case 22:break;case 23:break;case 24:{let r=qo(t);if(r==n)return Pp(t,e),r;let i=Qo(t);if(i==n)return Op(t,e),i;break}case 25:{let r=Zo(t);if(r==n)return wp(t,e),r;let i=jo(t);if(i==n)return Mp(t,e),i;let s=Jo(t);if(s==n)return Up(t,e),s;break}case 26:{let r=$o(t);if(r==n)return Bp(t,e),r;let i=el(t);if(i==n)return Dp(t,e),i;let s=tl(t);if(s==n)return Gp(t,e),s;break}case 27:{let r=rl(t);if(r==n)return Vp(t,e),r;let i=il(t);if(i==n)return zp(t,e),i;break}case 28:break;case 29:{let r=nl(t);if(r==n)return Wp(t,e),r;break}case 30:{let r=sl(t);if(r==n)return Yp(t,e),r;let i=al(t);if(i==n)return Hp(t,e),i;break}case 31:{let r=ol(t);if(r==n)return Xp(t,e),r;let i=ll(t);if(i==n)return Kp(t,e),i;break}case 32:{let r=ul(t);if(r==n)return qp(t,e),r;let i=pl(t);if(i==n)return Qp(t,e),i;let s=cl(t);if(s==n)return Zp(t,e),s;break}case 33:{let r=_l(t);if(r==n)return jp(t,e),r;let i=fl(t);if(i==n)return Jp(t,e),i;break}case 34:{let r=hl(t);if(r==n)return $p(t,e),r;break}case 35:{let r=ml(t);if(r==n)return ec(t,e),r;if(dl(t)==n)return tc(t,e),r;break}case 36:{let r=El(t);if(r==n)return rc(t,e),r;let i=yl(t);if(i==n)return ic(t,e),i;let s=gl(t);if(s==n)return nc(t,e),s;break}case 37:break;case 38:{let r=Tl(t);if(r==n)return sc(t,e),r;let i=bl(t);if(i==n)return ac(t,e),i;let s=Il(t);if(s==n)return oc(t,e),s;break}case 39:{let r=vl(t);if(r==n)return lc(t,e),r;let i=xl(t);if(i==n)return uc(t,e),i;let s=Sl(t);if(s==n)return pc(t,e),s;break}case 40:break;case 41:break;case 42:{let r=Rl(t);if(r==n)return cc(t,e),r;break}case 43:break;case 44:{let r=Al(t);if(r==n)return fc(t,e),r;let i=Nl(t);if(i==n)return hc(t,e),i;break}case 49:{let r=Ll(t);if(r==n)return mc(t,e),r;let i=Cl(t);for(let s=0;s<i;++s){let a=Fl(t,s);if(a==n)return dc(t,s,e),a}break}case 50:{let r=kl(t);for(let i=0;i<r;++i){let s=Pl(t,i);if(s==n)return yc(t,i,e),s}break}case 51:break;case 52:{let r=Ol(t);for(let i=0;i<r;++i){let s=wl(t,i);if(s==n)return gc(t,i,e),s}break}case 53:{let r=Ml(t);if(r==n)return Tc(t,e),r;break}case 54:{let r=Ul(t);if(r==n)return bc(t,e),r;break}case 55:{let r=Bl(t);if(r==n)return Ic(t,e),r;break}case 56:{assert(!1);break}case 57:{assert(!1);break}case 58:{assert(!1);break}case 59:{assert(!1);break}case 60:{assert(!1);break}case 61:{assert(!1);break}case 62:{assert(!1);break}case 63:{assert(!1);break}case 64:{assert(!1);break}case 65:{assert(!1);break}case 67:{assert(!1);break}case 68:{assert(!1);break}case 69:{assert(!1);break}case 71:{assert(!1);break}default:throw new Error("unexpected expression id")}return 0}var Dl=class extends Xi{constructor(e=new Set){super();this.used=e}visitLocalGet(e){this.used.add(ni(e))}visitLocalSet(e){this.used.add(zt(e))}},Ac=null;function lt(t,n=new Set){var e=Ac;return e?e.used=n:Ac=e=new Dl(n),e.visit(t),n}var Va=(A=>(A[A.NONE=0]="NONE",A[A.RETURNS=1]="RETURNS",A[A.RETURNS_WRAPPED=2]="RETURNS_WRAPPED",A[A.RETURNS_NONNULL=4]="RETURNS_NONNULL",A[A.THROWS=8]="THROWS",A[A.BREAKS=16]="BREAKS",A[A.CONTINUES=32]="CONTINUES",A[A.ACCESSES_THIS=64]="ACCESSES_THIS",A[A.CALLS_SUPER=128]="CALLS_SUPER",A[A.TERMINATES=256]="TERMINATES",A[A.CONDITIONALLY_RETURNS=512]="CONDITIONALLY_RETURNS",A[A.CONDITIONALLY_THROWS=1024]="CONDITIONALLY_THROWS",A[A.CONDITIONALLY_BREAKS=2048]="CONDITIONALLY_BREAKS",A[A.CONDITIONALLY_CONTINUES=4096]="CONDITIONALLY_CONTINUES",A[A.CONDITIONALLY_ACCESSES_THIS=8192]="CONDITIONALLY_ACCESSES_THIS",A[A.MAY_RETURN_NONTHIS=16384]="MAY_RETURN_NONTHIS",A[A.UNCHECKED_CONTEXT=32768]="UNCHECKED_CONTEXT",A[A.CTORPARAM_CONTEXT=65536]="CTORPARAM_CONTEXT",A[A.ANY_CATEGORICAL=511]="ANY_CATEGORICAL",A[A.ANY_CONDITIONAL=15872]="ANY_CONDITIONAL",A))(Va||{}),za=(s=>(s[s.NONE=0]="NONE",s[s.CONSTANT=1]="CONSTANT",s[s.WRAPPED=2]="WRAPPED",s[s.NONNULL=4]="NONNULL",s[s.INITIALIZED=8]="INITIALIZED",s))(za||{}),Gl=(e=>(e[e.NONE=0]="NONE",e[e.INITIALIZED=1]="INITIALIZED",e))(Gl||{}),Vl=(r=>(r[r.UNKNOWN=0]="UNKNOWN",r[r.TRUE=1]="TRUE",r[r.FALSE=2]="FALSE",r))(Vl||{}),Pe=class{constructor(n){this.parentFunction=n;this.parent=null;this.outer=null;this.flags=0;this.continueLabel=null;this.breakLabel=null;this.scopedLocals=null;this.localFlags=[];this.thisFieldFlags=null;this.inlineFunction=null;this.inlineReturnLabel=null}static createParent(n){var e=new Pe(n);return n.is(262144)&&e.initThisFieldFlags(),e}static createInline(n,e){var r=new Pe(n);return r.inlineFunction=e,r.inlineReturnLabel=e.internalName+"|inlined."+(e.nextInlineId++).toString(),e.is(262144)&&r.initThisFieldFlags(),r}get isInline(){return this.inlineFunction!=null}get actualFunction(){var n=this.inlineFunction;return n||this.parentFunction}get returnType(){return this.actualFunction.signature.returnType}get contextualTypeArguments(){return this.actualFunction.contextualTypeArguments}is(n){return(this.flags&n)==n}isAny(n){return(this.flags&n)!=0}set(n){this.flags|=n}unset(n){this.flags&=~n}deriveConditionalFlags(){let n=this.flags&15872;return this.is(1)&&(n|=512),this.is(8)&&(n|=1024),this.is(16)&&(n|=2048),this.is(32)&&(n|=4096),this.is(64)&&(n|=8192),n}fork(n=!1){var e=new Pe(this.parentFunction);if(e.parent=this,e.outer=this.outer,n?e.flags=this.flags&-6193:(e.flags=this.flags,e.continueLabel=this.continueLabel,e.breakLabel=this.breakLabel),e.localFlags=this.localFlags.slice(),this.actualFunction.is(262144)){let r=assert(this.thisFieldFlags);e.thisFieldFlags=re(r)}else assert(!this.thisFieldFlags);return e.inlineFunction=this.inlineFunction,e.inlineReturnLabel=this.inlineReturnLabel,e}getTempLocal(n,e=null){var r=this.parentFunction,i;switch(n.toRef()){case F.I32:{i=r.tempI32s;break}case F.I64:{i=r.tempI64s;break}case F.F32:{i=r.tempF32s;break}case F.F64:{i=r.tempF64s;break}case F.V128:{i=r.tempV128s;break}case F.Funcref:{i=r.tempFuncrefs;break}case F.Externref:{i=r.tempExternrefs;break}case F.Anyref:{i=r.tempAnyrefs;break}case F.Eqref:{i=r.tempEqrefs;break}case F.I31ref:{i=r.tempI31refs;break}case F.Dataref:{i=r.tempDatarefs;break}default:throw new Error("concrete type expected")}var s;if(e){if(i&&i.length>0){for(let a=0,o=i.length;a<o;++a)if(!e.has(i[a].index)){s=i[a];let l=i.length-1;for(;a<l;)unchecked(i[a]=i[a+++1]);return i.length=l,s.type=n,s.flags=0,this.unsetLocalFlag(s.index,-1),s}}s=r.addLocal(n)}else i&&i.length>0?(s=assert(i.pop()),s.type=n,s.flags=0):s=r.addLocal(n);return this.unsetLocalFlag(s.index,-1),s}freeTempLocal(n){if(!n.is(16777216)){assert(n.index>=0);var e=this.parentFunction,r;switch(assert(n.type!=null),n.resetTemporaryName(),n.type.toRef()){case F.I32:{let i=e.tempI32s;i?r=i:e.tempI32s=r=[];break}case F.I64:{let i=e.tempI64s;i?r=i:e.tempI64s=r=[];break}case F.F32:{let i=e.tempF32s;i?r=i:e.tempF32s=r=[];break}case F.F64:{let i=e.tempF64s;i?r=i:e.tempF64s=r=[];break}case F.V128:{let i=e.tempV128s;i?r=i:e.tempV128s=r=[];break}case F.Funcref:{let i=e.tempFuncrefs;i?r=i:e.tempFuncrefs=r=[];break}case F.Externref:{let i=e.tempExternrefs;i?r=i:e.tempExternrefs=r=[];break}case F.Anyref:{let i=e.tempAnyrefs;i?r=i:e.tempAnyrefs=r=[];break}case F.Eqref:{let i=e.tempEqrefs;i?r=i:e.tempEqrefs=r=[];break}case F.I31ref:{let i=e.tempI31refs;i?r=i:e.tempI31refs=r=[];break}case F.Dataref:{let i=e.tempDatarefs;i?r=i:e.tempDatarefs=r=[];break}default:throw new Error("concrete type expected")}assert(n.index>=0),r.push(n)}}getScopedLocal(n){var e=this.scopedLocals;return e&&e.has(n)?assert(e.get(n)):null}addScopedLocal(n,e,r=null){var i=this.getTempLocal(e,r);i.setTemporaryName(n);var s=this.scopedLocals;return s?assert(!s.has(n)):this.scopedLocals=s=new Map,i.set(33554432),s.set(n,i),i}addScopedDummyLocal(n,e,r){var i=new Oe(n,-1,e,this.parentFunction),s=this.scopedLocals;return s?s.has(n)&&this.parentFunction.program.error(2451,r.range,n):this.scopedLocals=s=new Map,i.set(33554432),s.set(n,i),i}addScopedAlias(n,e,r,i=null){var s=this.scopedLocals;if(!s)this.scopedLocals=s=new Map;else if(s.has(n)){let o=assert(s.get(n));return i&&(o.declaration.range.source.isNative?this.parentFunction.program.error(2300,i.range,n):this.parentFunction.program.errorRelated(2300,i.range,o.declaration.name.range,n)),o}assert(r<this.parentFunction.localsByIndex.length);var a=new Oe(n,r,e,this.parentFunction);return s.set(n,a),a}get hasScopedLocals(){var n=this.scopedLocals;if(n){for(let e=Map_values(n),r=0,i=e.length;r<i;++r)if(unchecked(e[r]).is(33554432))return!0}return!1}freeScopedDummyLocal(n){var e=assert(this.scopedLocals);assert(e.has(n));let r=assert(e.get(n));assert(r.index==-1),e.delete(n)}freeScopedLocals(){var n=this.scopedLocals;if(n){for(let e=Map_values(n),r=0,i=e.length;r<i;++r){let s=unchecked(e[r]);s.is(33554432)&&this.freeTempLocal(s)}this.scopedLocals=null}}lookupLocal(n){var e=this;do{let i=e.scopedLocals;if(i&&i.has(n))return assert(i.get(n));e=e.parent}while(e);var r=this.parentFunction.localsByName;return r.has(n)?assert(r.get(n)):null}lookup(n){var e=this.lookupLocal(n);return e||this.actualFunction.lookup(n)}isLocalFlag(n,e,r=!0){if(n<0)return r;var i=this.localFlags;return n<i.length&&(unchecked(i[n])&e)==e}isAnyLocalFlag(n,e,r=!0){if(n<0)return r;var i=this.localFlags;return n<i.length&&(unchecked(i[n])&e)!=0}setLocalFlag(n,e){if(!(n<0)){var r=this.localFlags,i=n<r.length?unchecked(r[n]):0;r[n]=i|e}}unsetLocalFlag(n,e){if(!(n<0)){var r=this.localFlags,i=n<r.length?unchecked(r[n]):0;r[n]=i&~e}}initThisFieldFlags(){var n=this.actualFunction;assert(n.is(262144));var e=n.parent;assert(e.kind==7);var r=e;this.thisFieldFlags=new Map;var i=r.members;if(i)for(let s=Map_values(i),a=0,o=s.length;a<o;++a){let l=s[a];if(l.kind==11){let p=l;(p.parent!=r||p.initializerNode||p.prototype.parameterIndex!=-1||p.type.isAny(640))&&this.setThisFieldFlag(p,1)}}}isThisFieldFlag(n,e){var r=this.thisFieldFlags;return r!=null&&r.has(n)?(changetype(r.get(n))&e)==e:!1}setThisFieldFlag(n,e){var r=this.thisFieldFlags;if(r)if(assert(this.actualFunction.is(262144)),r.has(n)){let i=changetype(r.get(n));r.set(n,i|e)}else r.set(n,e);else assert(!this.actualFunction.is(262144))}pushBreakLabel(){var n=this.parentFunction,e=n.nextBreakId++,r=n.breakStack;r?r.push(e):n.breakStack=[e];var i=e.toString();return n.breakLabel=i,i}popBreakLabel(){var n=this.parentFunction,e=assert(n.breakStack),r=assert(e.length);e.pop(),r>1?n.breakLabel=e[r-2].toString():(n.breakLabel=null,n.breakStack=null)}inherit(n){assert(n.parentFunction==this.parentFunction),assert(n.parent==this);var e=n.flags;this.breakLabel!=n.breakLabel&&(e&2064&&(e&=-257),e&=-2065),this.continueLabel!=n.continueLabel&&(e&=-4129),this.flags=this.flags|e,this.localFlags=n.localFlags,this.thisFieldFlags=n.thisFieldFlags}inheritBranch(n,e=0){switch(assert(n.parentFunction==this.parentFunction),e){case 1:this.inherit(n);case 2:return}var r=this.flags,i=n.flags,s=0;r&1?s|=1:i&1?s|=512:s|=(r|i)&512,s|=r&i&2,s|=r&i&4,r&8?s|=8:i&8?s|=1024:s|=(r|i)&1024,r&16?s|=16:n.breakLabel==this.breakLabel?i&16?s|=2048:s|=(r|i)&2048:s|=r&2048,r&32?s|=32:n.continueLabel==this.continueLabel?i&32?s|=4096:s|=(r|i)&4096:s|=r&4096,r&64?i&64?s|=64:s|=8192:i&64&&(s|=8192),s|=(r|i)&16384,s|=r&i&128,r&256&&(s|=256),this.flags=s|r&98304;var a=this.localFlags,o=a.length,l=n.localFlags,p=l.length,c=max(o,p);for(let _=0;_<c;++_){let f=_<o?a[_]:0,d=_<p?l[_]:0;a[_]=f&d&15}}inheritMutual(n,e){assert(n.parentFunction==e.parentFunction),assert(n.parentFunction==this.parentFunction);var r=n.flags,i=e.flags,s=0;r&1?i&1?s|=1:s|=512:i&1?s|=512:s|=(r|i)&512,r&2&&i&2&&(s|=2),r&4&&i&4&&(s|=4),r&8?i&8?s|=8:s|=1024:i&8?s|=1024:s|=(r|i)&1024,r&16?i&16?s|=16:s|=2048:i&16?s|=2048:s|=(r|i)&2048,r&32?i&32?s|=32:s|=4096:i&32?s|=4096:s|=(r|i)&4096,r&64?i&64?s|=64:s|=8192:i&64?s|=8192:s|=(r|i)&8192,s|=(r|i)&16384,r&128&&i&128&&(s|=128),r&256&&i&256&&(s|=256),this.flags=s|this.flags&98304;var a=this.localFlags;if(r&256){if(!(i&256)){let l=e.localFlags;for(let p=0,c=l.length;p<c;++p)a[p]=l[p]}}else if(i&256){let l=n.localFlags;for(let p=0,c=l.length;p<c;++p)a[p]=l[p]}else{let l=n.localFlags,p=l.length,c=e.localFlags,_=c.length,f=max(p,_);for(let d=0;d<f;++d){let y=d<p?l[d]:0,T=d<_?c[d]:0;a[d]=y&T&15}}var o=n.thisFieldFlags;if(o){let l=new Map,p=assert(e.thisFieldFlags);for(let c=Map_keys(o),_=0,f=c.length;_<f;++_){let d=c[_];(changetype(o.get(d))&1)!=0&&p.has(d)&&changetype(p.get(d))&1&&l.set(d,1)}this.thisFieldFlags=l}else assert(!e.thisFieldFlags)}static hasIncompatibleLocalStates(n,e){var r=n.localFlags.length,i=e.localFlags.length,s=n.parentFunction;assert(s==e.parentFunction);var a=s.localsByIndex;assert(a==e.parentFunction.localsByIndex);for(let o=0,l=min(r,i);o<l;++o){let c=a[o].type;if(c.isShortIntegerValue&&n.isLocalFlag(o,2)&&!e.isLocalFlag(o,2)||c.isNullableReference&&n.isLocalFlag(o,4)&&!e.isLocalFlag(o,4))return!0}return!1}unifyLocalFlags(n){var e=this.localFlags.length,r=n.localFlags.length;for(let i=0,s=min(e,r);i<s;++i)this.isLocalFlag(i,2)!=n.isLocalFlag(i,2)&&this.unsetLocalFlag(i,2),this.isLocalFlag(i,4)!=n.isLocalFlag(i,4)&&this.unsetLocalFlag(i,4)}isNonnull(n,e){if(!e.isNullableReference)return!0;switch(te(n)){case 9:{if(!cn(n))break;let r=this.parentFunction.localsByIndex[Ba(n)];return!r.type.isNullableReference||this.isLocalFlag(r.index,4,!1)}case 8:{let r=this.parentFunction.localsByIndex[pt(n)];return!r.type.isNullableReference||this.isLocalFlag(r.index,4,!1)}}return!1}inheritNonnullIfTrue(n,e=null){switch(te(n)){case 9:{if(!cn(n))break;let r=this.parentFunction.localsByIndex[Ba(n)];(!e||e.isLocalFlag(r.index,4))&&this.setLocalFlag(r.index,4),this.inheritNonnullIfTrue(mr(n),e);break}case 8:{let r=this.parentFunction.localsByIndex[pt(n)];(!e||e.isLocalFlag(r.index,4))&&this.setLocalFlag(r.index,4);break}case 2:{let r=si(n);r&&be(r)&&(this.inheritNonnullIfTrue(Ga(n),e),this.inheritNonnullIfTrue(fn(n),e));break}case 15:{switch(_n(n)){case 20:case 21:{this.inheritNonnullIfFalse(Da(n),e);break}}break}case 16:{switch(ai(n)){case 15:case 40:{let r=Ve(n),i=Re(n);et(r)?this.inheritNonnullIfTrue(i,e):et(i)&&this.inheritNonnullIfTrue(r,e);break}case 16:case 41:{let r=Ve(n),i=Re(n);be(r)?this.inheritNonnullIfTrue(i,e):be(i)&&this.inheritNonnullIfTrue(r,e);break}}break}case 6:{let r=hn(n);if(r==h.String_eq){assert(ut(n)==2);let i=ke(n,0),s=ke(n,1);et(i)?this.inheritNonnullIfTrue(s,e):et(s)&&this.inheritNonnullIfTrue(i,e)}else if(r==h.String_ne){assert(ut(n)==2);let i=ke(n,0),s=ke(n,1);be(i)?this.inheritNonnullIfTrue(s,e):be(s)&&this.inheritNonnullIfTrue(i,e)}else r==h.String_not?(assert(ut(n)==1),this.inheritNonnullIfFalse(ke(n,0),e)):r==h.tostack&&(assert(ut(n)==1),this.inheritNonnullIfTrue(ke(n,0),e));break}}}inheritNonnullIfFalse(n,e=null){switch(te(n)){case 15:{switch(_n(n)){case 20:case 21:{this.inheritNonnullIfTrue(Da(n),e);break}}break}case 2:{let r=fn(n);si(n)&&et(r)&&(this.inheritNonnullIfFalse(Ga(n),e),this.inheritNonnullIfFalse(si(n),e));break}case 16:{switch(ai(n)){case 15:case 40:{let r=Ve(n),i=Re(n);be(r)?this.inheritNonnullIfTrue(i,e):be(i)&&this.inheritNonnullIfTrue(r,e);break}case 16:case 41:{let r=Ve(n),i=Re(n);et(r)?this.inheritNonnullIfTrue(i,e):et(i)&&this.inheritNonnullIfTrue(r,e);break}}break}case 6:{let r=hn(n);if(r==h.String_eq){assert(ut(n)==2);let i=ke(n,0),s=ke(n,1);be(i)?this.inheritNonnullIfTrue(s,e):be(s)&&this.inheritNonnullIfTrue(i,e)}else if(r==h.String_ne){assert(ut(n)==2);let i=ke(n,0),s=ke(n,1);et(i)?this.inheritNonnullIfTrue(s,e):et(s)&&this.inheritNonnullIfTrue(i,e)}else r==h.String_not?(assert(ut(n)==1),this.inheritNonnullIfTrue(ke(n,0),e)):r==h.tostack&&(assert(ut(n)==1),this.inheritNonnullIfFalse(ke(n,0),e));break}}}canOverflow(n,e){if(!e.isShortIntegerValue)return!1;var r;switch(te(n)){case 8:{let i=this.parentFunction.localsByIndex[pt(n)];return!this.isLocalFlag(i.index,2,!0)||Ua(i.type,e)}case 9:return assert(cn(n)),this.canOverflow(mr(n),e);case 10:{let i=assert(this.parentFunction.program.elementsByName.get(assert(dn(n))));return assert(i.kind==0||i.kind==3),Ua(i.type,e)}case 16:{switch(ai(n)){case 15:case 40:case 57:case 70:case 16:case 41:case 58:case 71:case 17:case 18:case 42:case 43:case 59:case 72:case 19:case 20:case 44:case 45:case 60:case 73:case 21:case 22:case 46:case 47:case 61:case 74:case 23:case 24:case 48:case 49:case 62:case 75:return!1;case 2:return!(te(r=Ve(n))==14&&(ie(r)==0||ie(r)==1&&!this.canOverflow(Re(n),e))||te(r=Re(n))==14&&(ie(r)==0||ie(r)==1&&!this.canOverflow(Ve(n),e)));case 7:return!(te(r=Ve(n))==14&&ie(r)<=e.computeSmallIntegerMask(u.i32)||!this.canOverflow(r,e)||te(r=Re(n))==14&&ie(r)<=e.computeSmallIntegerMask(u.i32)||!this.canOverflow(r,e));case 10:{let i=32-e.size;return te(r=Re(n))!=14||ie(r)<i}case 11:{let i=32-e.size;return this.canOverflow(Ve(n),e)&&(te(r=Re(n))!=14||ie(r)<i)}case 12:{let i=32-e.size;return e.isSignedIntegerValue?!(te(r=Re(n))==14&&ie(r)>i):this.canOverflow(Ve(n),e)&&!(te(r=Re(n))==14&&ie(r)>=i)}case 4:case 5:case 6:return this.canOverflow(Ve(n),e)||this.canOverflow(Re(n),e)}break}case 15:{switch(_n(n)){case 20:case 21:return!1;case 0:case 2:case 4:return e.size<7;case 47:return e.size<(e.isUnsignedIntegerValue?32:8);case 49:return e.size<(e.isUnsignedIntegerValue?64:8);case 48:return e.size<(e.isUnsignedIntegerValue?32:16);case 50:return e.size<(e.isUnsignedIntegerValue?64:16);case 51:return e.size<(e.isUnsignedIntegerValue?64:32)}break}case 14:{let i=0;switch(oe(n)){case F.I32:{i=ie(n);break}case F.I64:{i=ze(n);break}case F.F32:{i=i32(Ke(n));break}case F.F64:{i=i32(qe(n));break}case F.V128:return!1;default:assert(!1)}switch(e.kind){case 0:return i<i8.MIN_VALUE||i>i8.MAX_VALUE;case 1:return i<i16.MIN_VALUE||i>i16.MAX_VALUE;case 5:return i<0||i>u8.MAX_VALUE;case 6:return i<0||i>u16.MAX_VALUE;case 10:return(i&-2)!=0}break}case 12:{let i,s=Wl(n);switch(zl(n)){case 1:{i=s?u.i8:u.u8;break}case 2:{i=s?u.i16:u.u16;break}default:{i=s?u.i32:u.u32;break}}return Ua(i,e)}case 1:{if(!En(n)){let i=assert(yn(n)),s=gn(n,i-1);return this.canOverflow(s,e)}break}case 2:return this.canOverflow(fn(n),e)||this.canOverflow(assert(si(n)),e);case 17:return this.canOverflow(Yl(n),e)||this.canOverflow(Hl(n),e);case 6:{let s=this.parentFunction.program.instancesByName,a=assert(hn(n));if(s.has(a)){let o=assert(s.get(a));assert(o.kind==5);let l=o,p=l.signature.returnType;return!l.flow.is(2)||Ua(p,e)}return!1}case 23:return!1}return!0}toString(){for(var n=0,e=this.parent;e;)e=e.parent,++n;var r=new Array;return this.is(1)&&r.push("RETURNS"),this.is(2)&&r.push("RETURNS_WRAPPED"),this.is(4)&&r.push("RETURNS_NONNULL"),this.is(8)&&r.push("THROWS"),this.is(16)&&r.push("BREAKS"),this.is(32)&&r.push("CONTINUES"),this.is(64)&&r.push("ACCESSES_THIS"),this.is(128)&&r.push("CALLS_SUPER"),this.is(256)&&r.push("TERMINATES"),this.is(512)&&r.push("CONDITIONALLY_RETURNS"),this.is(1024)&&r.push("CONDITIONALLY_THROWS"),this.is(2048)&&r.push("CONDITIONALLY_BREAKS"),this.is(4096)&&r.push("CONDITIONALLY_CONTINUES"),this.is(8192)&&r.push("CONDITIONALLY_ACCESSES_THIS"),this.is(16384)&&r.push("MAY_RETURN_NONTHIS"),"Flow("+this.actualFunction.toString()+")["+n.toString()+"] "+r.join(" ")}};function Ua(t,n){return n.isShortIntegerValue&&(!t.isIntegerValue||t.size>n.size||t.isSignedIntegerValue!=n.isSignedIntegerValue)}var Tn=class{constructor(n,e){this.source=n;this.reportNode=e}},bn=class extends Ue{constructor(e=null,r=null){super(e);this.backlog=new Array;this.seenlog=new Set;this.donelog=new Set;this.onComment=null;this.currentSource=null;this.dependees=new Map;this.currentModuleName=null;this.tryParseSignatureIsSignature=!1;this.parseParametersThis=null;this.sources=r||new Array}parseFile(e,r,i){var s=ar(r),a=Di(s);if(!this.donelog.has(a)){if(this.donelog.add(a),this.seenlog.add(a),e==null){let c=this.dependees,_=null;c.has(a)&&(_=assert(c.get(a))),this.error(6054,_?_.reportNode.range:null,r);return}var o=new lr(i?1:r.startsWith(Je)?r.indexOf(je,Je.length)<0?3:2:0,s,e);this.sources.push(o),this.currentSource=o,this.currentModuleName=null;var l=new Gi(o,this.diagnostics);l.onComment=this.onComment;for(var p=o.statements;!l.skip(120);){let c=this.parseTopLevelStatement(l,null);c?p.push(c):this.skipStatement(l)}}}parseTopLevelStatement(e,r=null){for(var i=r?r.flags&16384:0,s=-1,a=null;e.skip(113);){s<0&&(s=e.tokenPos);let v=this.parseDecorator(e);if(!v){this.skipStatement(e);continue}a?a.push(v):a=[v]}var o=0,l=0,p=0,c=0;e.skip(18)&&(s<0&&(s=e.tokenPos),i|=2,o=e.tokenPos,l=e.pos,e.skip(13)&&(p=e.tokenPos,c=e.pos));var _=0,f=0,d=r!=null&&r.is(16384);e.skip(12)?d?this.error(1038,e.range()):(s<0&&(s=e.tokenPos),_=s,f=e.pos,i|=16388):d&&(i|=16384);var y=null,T=e.peek();switch(s<0&&(s=e.nextTokenPos),T){case 8:{e.next(),i|=8,e.skip(17)?y=this.parseEnum(e,i,a,s):y=this.parseVariable(e,i,a,s),a=null;break}case 34:i|=16;case 56:{e.next(),y=this.parseVariable(e,i,a,s),a=null;break}case 17:{e.next(),y=this.parseEnum(e,i,a,s),a=null;break}case 24:{e.next(),y=this.parseFunction(e,i,a,s),a=null;break}case 0:{let v=e.mark();e.next();let I=e.tokenPos,S=e.pos,R=e.peek(!0);if(e.nextTokenOnNewLine){e.reset(v),y=this.parseStatement(e,!0);break}if(R!=7){R==31&&this.error(1242,e.range(I,S)),e.reset(v),y=this.parseStatement(e,!0);break}else e.discard(v);i|=128}case 7:case 31:{e.next(),y=this.parseClassOrInterface(e,i,a,s),a=null;break}case 36:{let v=e.mark();e.next(),e.peek(!1,1)==114?(e.discard(v),y=this.parseNamespace(e,i,a,s),a=null):(e.reset(v),y=this.parseStatement(e,!0));break}case 28:{e.next(),i|=1,i&2?y=this.parseExportImport(e,s):y=this.parseImport(e);break}case 54:{let v=e.mark();e.next(),e.peek(!1,1)==114?(e.discard(v),y=this.parseTypeDeclaration(e,i,a,s),a=null):(e.reset(v),y=this.parseStatement(e,!0));break}case 35:{let v=e.mark();e.next(),e.peek(!0)==115&&!e.nextTokenOnNewLine?(e.discard(v),y=this.parseModuleDeclaration(e,i)):(e.reset(v),y=this.parseStatement(e,!0));break}default:{i&2?c&&e.skipIdentifier(1)?(f&&this.error(1120,e.range(_,f)),y=this.parseExportDefaultAlias(e,s,p,c),p=c=0):y=this.parseExport(e,s,(i&4)!=0):(l&&this.error(1042,e.range(o,l),"export"),f&&this.error(1042,e.range(_,f),"declare"),r||(y=this.parseStatement(e,!0)));break}}if(a)for(let v=0,I=a.length;v<I;++v)this.error(1206,a[v].range);if(c&&y!=null)switch(y.kind){case 52:case 55:case 51:case 57:case 59:return O.createExportDefaultStatement(y,e.range(s,e.pos));default:this.error(1042,e.range(p,c),"default")}return y}nextFile(){var e=this.backlog;return e.length?assert(e.shift()):null}getDependee(e){var r=this.dependees;return r.has(e)?assert(r.get(e)).source.internalPath:null}finish(){if(this.backlog.length)throw new Error("backlog is not empty");this.backlog=[],this.seenlog.clear(),this.donelog.clear(),this.dependees.clear()}parseTypeName(e){for(var r=O.createSimpleTypeName(e.readIdentifier(),e.range()),i=r;e.skip(67);)if(e.skip(114)){let s=O.createSimpleTypeName(e.readIdentifier(),e.range());i.next=s,i=s}else return this.error(1003,e.range(e.pos)),null;return r}parseType(e,r=!0,i=!1){var s=e.next(),a=e.tokenPos,o;if(s==63){let l=e.skip(63),p=this.tryParseFunctionType(e);if(p){if(l){if(!e.skip(64))return this.error(1005,e.range(),")"),null;if(!e.skip(92))return this.error(1005,e.range(),"|"),null;e.skip(38)||this.error(1005,e.range(),"null"),p.isNullable=!0}return p}else if(l||this.tryParseSignatureIsSignature)return this.error(1012,e.range()),null;if(r){let c=this.parseType(e,!1,i);if(!c)return null;if(!e.skip(64))return i||this.error(1005,e.range(e.pos),")"),null;o=c,o.range.start=a,o.range.end=e.pos}else return this.error(1012,e.range()),null}else if(s==57)o=O.createNamedType(O.createSimpleTypeName("void",e.range()),[],!1,e.range(a,e.pos));else if(s==50)o=O.createNamedType(O.createSimpleTypeName("this",e.range()),[],!1,e.range(a,e.pos));else if(s==52||s==20)o=O.createNamedType(O.createSimpleTypeName("bool",e.range()),[],!1,e.range(a,e.pos));else if(s==38)o=O.createNamedType(O.createSimpleTypeName("null",e.range()),[],!1,e.range(a,e.pos));else if(s==115)e.readString(),o=O.createNamedType(O.createSimpleTypeName("string",e.range()),[],!1,e.range(a,e.pos));else if(s==114){let l=this.parseTypeName(e);if(!l)return null;let p=null;if(e.skip(71)){do{let c=this.parseType(e,!0,i);if(!c)return null;p?p.push(c):p=[c]}while(e.skip(70));if(!e.skip(72))return i||this.error(1005,e.range(e.pos),">"),null}p||(p=[]),o=O.createNamedType(l,p,!1,e.range(a,e.pos))}else return i||this.error(1110,e.range()),null;for(;e.skip(92);)if(e.skip(38))o.isNullable=!0;else{let l=e.pos,p=this.parseType(e,!1,!0);return i||this.error(1005,p?p.range:e.range(l),"null"),null}for(;e.skip(65);){let l=e.tokenPos;if(!e.skip(66))return i||this.error(1005,e.range(),"]"),null;let p=e.range(l,e.pos),c=!1;if(e.skip(92))if(e.skip(38))c=!0;else return i||this.error(1005,e.range(),"null"),null;if(o=O.createNamedType(O.createSimpleTypeName("Array",p),[o],c,e.range(a,e.pos)),c)break}return o}tryParseFunctionType(e){var r=e.mark(),i=e.tokenPos,s=null,a=null,o=!1,l=null,p=0;if(e.skip(64))o=!0,e.discard(r),s=[];else{o=!1;do{let _=-1,f=0;if(e.skip(68)&&(_=e.tokenPos,o=!0,e.discard(r),f=2),e.skip(50))if(_<0&&(_=e.tokenPos),e.skip(99)){o=!0,e.discard(r);let d=this.parseType(e,!1);if(!d)return null;if(d.kind!=1)return this.error(1003,d.range),this.tryParseSignatureIsSignature=!0,null;a=d}else return e.reset(r),this.tryParseSignatureIsSignature=!1,null;else if(e.skipIdentifier()){_<0&&(_=e.tokenPos);let d=O.createIdentifierExpression(e.readIdentifier(),e.range(e.tokenPos,e.pos));if(e.skip(98)&&(o=!0,e.discard(r),f==2?this.error(1047,e.range()):f=1),e.skip(99)){o=!0,e.discard(r);let y=this.parseType(e);if(!y)return this.tryParseSignatureIsSignature=o,null;let T=O.createParameter(f,d,y,null,e.range(_,e.pos));s?s.push(T):s=[T]}else if(o||e.peek()==70&&(o=!0,e.discard(r)),o){let y=O.createParameter(f,d,O.createOmittedType(e.range(e.pos)),null,e.range(_,e.pos));s?s.push(y):s=[y],this.error(1110,y.type.range)}else s||(l=d,p=f)}else return o?this.error(1003,e.range()):e.reset(r),this.tryParseSignatureIsSignature=o,null}while(e.skip(70));if(!e.skip(64))return o?this.error(1005,e.range(),")"):e.reset(r),this.tryParseSignatureIsSignature=o,null}var c;if(e.skip(79)){if(!o&&(o=!0,e.discard(r),l)){let _=O.createParameter(p,l,O.createOmittedType(l.range.atEnd),null,l.range);s?s.push(_):s=[_],this.error(1110,_.type.range)}if(c=this.parseType(e),!c)return this.tryParseSignatureIsSignature=o,null}else return o?this.error(1005,e.range(),"=>"):e.reset(r),this.tryParseSignatureIsSignature=o,null;return this.tryParseSignatureIsSignature=!0,s||(s=[]),O.createFunctionType(s,c,a,!1,e.range(i,e.pos))}parseDecorator(e){var r=e.tokenPos;if(e.skipIdentifier()){let i=e.readIdentifier(),s=O.createIdentifierExpression(i,e.range(r,e.pos));for(;e.skip(67);)if(e.skipIdentifier(1))i=e.readIdentifier(),s=O.createPropertyAccessExpression(s,O.createIdentifierExpression(i,e.range()),e.range(r,e.pos));else return this.error(1003,e.range()),null;let a;if(e.skip(63)){if(a=this.parseArguments(e),a)return O.createDecorator(s,a,e.range(r,e.pos))}else return O.createDecorator(s,null,e.range(r,e.pos))}else this.error(1003,e.range());return null}parseVariable(e,r,i,s,a=!1){var o=new Array;do{let p=this.parseVariableDeclaration(e,r,i,a);if(!p)return null;p.overriddenModuleName=this.currentModuleName,o.push(p)}while(e.skip(70));var l=O.createVariableStatement(i,o,e.range(s,e.pos));return e.skip(69),l}parseVariableDeclaration(e,r,i,s=!1){if(!e.skipIdentifier())return this.error(1003,e.range()),null;var a=O.createIdentifierExpression(e.readIdentifier(),e.range());Vo(a.text)&&this.error(1003,a.range);var o=r;e.skip(94)&&(o|=8192);var l=null;e.skip(99)&&(l=this.parseType(e,!0));var p=null;if(e.skip(100)){if(o&16384&&this.error(1039,e.range()),p=this.parseExpression(e,he.COMMA+1),!p)return null}else s||(o&8?o&16384||this.error(1155,a.range):l||this.error(1110,e.range(e.pos)));var c=se.join(a.range,e.range());return p&&(o&8192)!=0&&this.error(1255,c),O.createVariableDeclaration(a,i,o,l,p,c)}parseEnum(e,r,i,s){if(e.next()!=114)return this.error(1003,e.range()),null;var a=O.createIdentifierExpression(e.readIdentifier(),e.range());if(e.next()!=61)return this.error(1005,e.range(),"{"),null;for(var o=new Array;!e.skip(62);){let p=this.parseEnumValue(e,0);if(!p)return null;if(o.push(p),!e.skip(70)){if(e.skip(62))break;return this.error(1005,e.range(),"}"),null}}var l=O.createEnumDeclaration(a,i,r,o,e.range(s,e.pos));return l.overriddenModuleName=this.currentModuleName,e.skip(69),l}parseEnumValue(e,r){if(!e.skipIdentifier())return this.error(1003,e.range()),null;var i=O.createIdentifierExpression(e.readIdentifier(),e.range()),s=null;return e.skip(100)&&(s=this.parseExpression(e,he.COMMA+1),!s)?null:O.createEnumValueDeclaration(i,r,s,se.join(i.range,e.range()))}parseReturn(e){var r=e.tokenPos,i=null;if(e.peek(!0)!=69&&e.nextToken!=62&&!e.nextTokenOnNewLine&&!(i=this.parseExpression(e)))return null;var s=O.createReturnStatement(i,e.range(r,e.pos));return e.skip(69),s}parseTypeParameters(e){for(var r=new Array,i=!1,s=e.tokenPos;!e.skip(72);){let a=this.parseTypeParameter(e);if(!a)return null;if(a.defaultType?i=!0:i&&(this.error(2706,a.range),a.defaultType=null),r.push(a),!e.skip(70)){if(e.skip(72))break;return this.error(1005,e.range(),">"),null}}return r.length||this.error(1098,e.range(s,e.pos)),r}parseTypeParameter(e){if(e.next()==114){let r=O.createIdentifierExpression(e.readIdentifier(),e.range()),i=null;if(e.skip(19)){let a=this.parseType(e);if(!a)return null;if(a.kind!=1)return this.error(1003,a.range),null;i=a}let s=null;if(e.skip(100)){let a=this.parseType(e);if(!a)return null;if(a.kind!=1)return this.error(1003,a.range),null;s=a}return O.createTypeParameter(r,i,s,se.join(r.range,e.range()))}else this.error(1003,e.range());return null}parseParameters(e,r=!1){var i=new Array,s=null,a=!1,o=!1,l=null;if(this.parseParametersThis=null,e.skip(50)){if(e.skip(99)){if(l=this.parseType(e),!l)return null;l.kind==1?this.parseParametersThis=l:this.error(1003,l.range)}else return this.error(1005,e.range(),":"),null;if(!e.skip(70))return e.skip(64)?i:(this.error(1005,e.range(),")"),null)}for(;!e.skip(64);){let p=this.parseParameter(e,r);if(!p)return null;switch(s&&!o&&(this.error(1014,s.name.range),o=!0),p.parameterKind){default:{a&&this.error(1016,p.name.range);break}case 1:{a=!0;break}case 2:{s=p;break}}if(i.push(p),!e.skip(70)){if(e.skip(64))break;return this.error(1005,e.range(),")"),null}}return i}parseParameter(e,r=!1){var i=!1,s=!1,a=null,o=0;if(r&&(e.skip(43)?(a=e.range(),o|=256):e.skip(42)?(a=e.range(),o|=1024):e.skip(41)&&(a=e.range(),o|=512),e.peek()==44)){let l=e.mark();e.next(),e.peek()!=99?(e.discard(l),a||(a=e.range()),o|=64):e.reset(l)}if(e.skip(68)&&(o?this.error(1317,e.range()):a=e.range(),i=!0),e.skipIdentifier()){i||(a=e.range());let l=O.createIdentifierExpression(e.readIdentifier(),e.range()),p=null;if((s=e.skip(98))&&i&&this.error(1047,l.range),e.skip(99)){if(p=this.parseType(e),!p)return null}else p=O.createOmittedType(e.range(e.pos));let c=null;if(e.skip(100)&&(i&&this.error(1048,l.range),s?this.error(1015,l.range):s=!0,c=this.parseExpression(e,he.COMMA+1),!c))return null;let _=O.createParameter(i?2:s?1:0,l,p,c,se.join(assert(a),e.range()));return _.flags|=o,_}else this.error(1003,e.range());return null}parseFunction(e,r,i,s){if(!e.skipIdentifier())return this.error(1003,e.range(e.pos)),null;var a=O.createIdentifierExpression(e.readIdentifier(),e.range()),o=-1,l=null;if(e.skip(71)){if(o=e.tokenPos,l=this.parseTypeParameters(e),!l)return null;r|=32768}if(!e.skip(63))return this.error(1005,e.range(e.pos),"("),null;o<0&&(o=e.tokenPos);var p=this.parseParameters(e);if(!p)return null;var c=this.parseParametersThis,_=(r&4096)!=0;_&&(p.length!=1&&this.error(1049,a.range),p.length>0&&p[0].initializer&&this.error(1052,a.range)),r&2048&&p.length&&this.error(1054,a.range);var f=null;if(e.skip(99)&&(f=this.parseType(e,!0,_),!f))return null;f||(f=O.createOmittedType(e.range(e.pos)),_||this.error(1110,f.range));var d=O.createFunctionType(p,f,c,!1,e.range(o,e.pos)),y=null;if(e.skip(61)){if(r&16384&&this.error(1183,e.range()),y=this.parseBlockStatement(e,!1),!y)return null}else r&16384||this.error(2391,e.range(e.pos));var T=O.createFunctionDeclaration(a,i,r,l,d,y,0,e.range(s,e.pos));return T.overriddenModuleName=this.currentModuleName,e.skip(69),T}parseFunctionExpression(e){var r=e.tokenPos,i,s=0;if(e.token==24){if(e.skipIdentifier()?i=O.createIdentifierExpression(e.readIdentifier(),e.range()):i=O.createEmptyIdentifierExpression(e.range(e.pos)),!e.skip(63))return this.error(1005,e.range(e.pos),"("),null}else s=1,assert(e.token==63),i=O.createEmptyIdentifierExpression(e.range(e.tokenPos));var a=e.pos,o=this.parseParameters(e);return o?this.parseFunctionExpressionCommon(e,i,o,this.parseParametersThis,s,r,a):null}parseFunctionExpressionCommon(e,r,i,s,a,o=-1,l=-1){o<0&&(o=r.range.start),l<0&&(l=o);var p=null;if(a!=2&&e.skip(99)){if(p=this.parseType(e),!p)return null}else p=O.createOmittedType(e.range(e.pos));if(a&&!e.skip(79))return this.error(1005,e.range(e.pos),"=>"),null;var c=O.createFunctionType(i,p,s,!1,e.range(l,e.pos)),_=null;if(a)if(e.skip(61))_=this.parseBlockStatement(e,!1);else{let d=this.parseExpression(e,he.COMMA+1);d&&(_=O.createExpressionStatement(d))}else{if(!e.skip(61))return this.error(1005,e.range(e.pos),"{"),null;_=this.parseBlockStatement(e,!1)}if(!_)return null;var f=O.createFunctionDeclaration(r,null,0,null,c,_,a,e.range(o,e.pos));return O.createFunctionExpression(f)}parseClassOrInterface(e,r,i,s){var a=e.token==31;if(!e.skipIdentifier())return this.error(1003,e.range()),null;var o=O.createIdentifierExpression(e.readIdentifier(),e.range()),l=null;if(e.skip(71)){if(l=this.parseTypeParameters(e),!l)return null;r|=32768}var p=null;if(e.skip(19)){let d=this.parseType(e);if(!d)return null;if(d.kind!=1)return this.error(1003,d.range),null;p=d}var c=null;if(e.skip(27)){a&&this.error(1176,e.range());do{let d=this.parseType(e);if(!d)return null;if(d.kind!=1)return this.error(1003,d.range),null;a||(c||(c=[]),c.push(d))}while(e.skip(70))}if(!e.skip(61))return this.error(1005,e.range(),"{"),null;var _=new Array,f;if(a?(assert(!c),f=O.createInterfaceDeclaration(o,i,r,l,p,null,_,e.range(s,e.pos))):f=O.createClassDeclaration(o,i,r,l,p,c,_,e.range(s,e.pos)),!e.skip(62))do{let d=this.parseClassMember(e,f);if(d)d.kind==65?f.indexSignature=d:(assert(d instanceof Ge),_.push(d));else if(this.skipStatement(e),e.skip(120))return this.error(1005,e.range(),"}"),null}while(!e.skip(62));return f.range.end=e.pos,f.overriddenModuleName=this.currentModuleName,f}parseClassExpression(e){var r=e.tokenPos,i;if(e.skipIdentifier()?i=O.createIdentifierExpression(e.readIdentifier(),e.range()):i=O.createEmptyIdentifierExpression(e.range(e.pos)),!e.skip(61))return this.error(1005,e.range(e.pos),"{"),null;var s=new Array,a=O.createClassDeclaration(i,null,0,null,null,null,s,e.range(r,e.pos));if(!e.skip(62))do{let o=this.parseClassMember(e,a);if(o)o.kind==65?a.indexSignature=o:(assert(a instanceof Ge),s.push(o));else if(this.skipStatement(e),e.skip(120))return this.error(1005,e.range(),"}"),null}while(!e.skip(62));return a.range.end=e.pos,O.createClassExpression(a)}parseClassMember(e,r){var i=r.kind==57,s=0,a=null;if(e.skip(113)){s=e.tokenPos;do{let ee=this.parseDecorator(e);if(!ee)break;a||(a=new Array),a.push(ee)}while(e.skip(113));i&&a&&this.error(1206,se.join(a[0].range,a[a.length-1].range))}var o=r.flags&16384;i&&(o|=134217728);var l=0,p=0,c=r.is(16384);e.skip(12)?(i?this.error(1042,e.range(),"declare"):c?this.error(1038,e.range()):(o|=16388,l=e.tokenPos,p=e.pos),s||(s=e.tokenPos)):c&&(o|=16384);var _=0,f=0;e.skip(43)?(i?this.error(1042,e.range(),"public"):(o|=256,_=e.tokenPos,f=e.pos),s||(s=e.tokenPos)):e.skip(41)?(i?this.error(1042,e.range(),"private"):(o|=512,_=e.tokenPos,f=e.pos),s||(s=e.tokenPos)):e.skip(42)&&(i?this.error(1042,e.range(),"protected"):(o|=1024,_=e.tokenPos,f=e.pos),s||(s=e.tokenPos));var d=0,y=0,T=0,v=0;e.skip(47)?(i?this.error(1042,e.range(),"static"):(o|=32,d=e.tokenPos,y=e.pos),s||(s=e.tokenPos)):(o|=131072,e.skip(0)&&(i||!r.is(128)?this.error(1042,e.range(),"abstract"):(o|=128,T=e.tokenPos,v=e.pos),s||(s=e.tokenPos)),r.flags&32768&&(o|=65536));var I=0,S=0;if(e.peek()==44){let ee=e.mark();e.next(),e.peek()!=99?(e.discard(ee),o|=64,I=e.tokenPos,S=e.pos,s||(s=I)):e.reset(ee)}var R=e.mark(),A=!1,P=!1,k=0,W=0,U=!1,V=0,K=0;i||(e.skip(25)?e.peek(!0,1)==114&&!e.nextTokenOnNewLine?(o|=2048,P=!0,k=e.tokenPos,W=e.pos,s||(s=k),o&64&&this.error(1042,e.range(I,S),"readonly")):e.reset(R):e.skip(46)?e.peek(!0,1)==114&&!e.nextTokenOnNewLine?(o|=4096,U=!0,V=e.tokenPos,K=e.pos,s||(s=V),o&64&&this.error(1042,e.range(I,S),"readonly")):e.reset(R):e.skip(10)&&(o|=262144,A=!0,s||(s=e.tokenPos),o&32&&this.error(1042,e.range(d,y),"static"),o&128&&this.error(1042,e.range(T,v),"abstract"),o&64&&this.error(1042,e.range(I,S),"readonly")));var H=P||U,Z;if(A)Z=O.createConstructorExpression(e.range());else{if(!H&&e.skip(65)){s||(s=e.tokenPos),o&256?this.error(1042,e.range(_,f),"public"):o&1024?this.error(1042,e.range(_,f),"protected"):o&512&&this.error(1042,e.range(_,f),"protected"),o&32&&this.error(1042,e.range(d,y),"static"),o&128&&this.error(1042,e.range(T,v),"abstract");let ee=this.parseIndexSignature(e,o,a);return ee?(e.skip(69),ee):(o&64&&this.error(1042,e.range(I,S),"readonly"),null)}if(!e.skipIdentifier(2))return this.error(1003,e.range()),null;s||(s=e.tokenPos),Z=O.createIdentifierExpression(e.readIdentifier(),e.range())}var le=null;if(e.skip(71)){let ee=e.tokenPos;if(le=this.parseTypeParameters(e),!le)return null;A?this.error(1092,e.range(ee,e.pos)):H?this.error(1094,e.range(ee,e.pos)):o|=32768}if(e.skip(63)){o&4&&this.error(1031,e.range(l,p),"declare");let ee=e.tokenPos,M=this.parseParameters(e,A);if(!M)return null;let ye=this.parseParametersThis;if(A)for(let dt=0,vi=M.length;dt<vi;++dt){let Ot=M[dt];if(Ot.isAny(1856)){let xi=O.createFieldDeclaration(Ot.name,null,Ot.flags|131072,Ot.type,null,Ot.range);xi.parameterIndex=dt,Ot.implicitFieldDeclaration=xi,r.members.push(xi)}}else P?M.length&&this.error(1054,Z.range):U?(M.length!=1&&this.error(1049,Z.range),M.length>0&&M[0].initializer&&this.error(1052,Z.range)):Z.text=="constructor"&&this.error(230,Z.range,"constructor");let fe=null;if(e.skip(99)){if(Z.kind==26?this.error(1093,e.range()):U&&this.error(1095,e.range()),fe=this.parseType(e,U||Z.kind==26),!fe)return null}else fe=O.createOmittedType(e.range(e.pos)),!U&&Z.kind!=26&&this.error(1110,fe.range);let Pt=O.createFunctionType(M,fe,ye,!1,e.range(ee,e.pos)),Ze=null;if(e.skip(61)){if(o&16384?this.error(1183,e.range()):o&128?this.error(1245,e.range(),Z.text):i&&this.error(1005,e.range(),";"),Ze=this.parseBlockStatement(e,!1),!Ze)return null}else!i&&!(o&16512)&&this.error(2391,e.range());let rr=O.createMethodDeclaration(Z,a,o,le,Pt,Ze,e.range(s,e.pos));return i&&e.skip(70)||e.skip(69),rr}else if(A)this.error(2390,Z.range);else if(H)this.error(2391,Z.range);else{o&4&&this.error(100,e.range(l,p),"Ambient fields"),o&128&&this.error(1042,e.range(T,v),"abstract"),o&2048&&this.error(1042,e.range(k,W),"get"),o&4096&&this.error(1042,e.range(V,K),"set");let ee=null;if(e.skip(98)&&this.error(219,e.range(s,e.pos)),e.skip(94)&&(o|=8192),e.skip(99)){if(ee=this.parseType(e),!ee)return null}else this.error(1110,e.range());let M=null;if(e.skip(100)&&(o&16384&&this.error(1039,e.range()),M=this.parseExpression(e),!M))return null;let ye=e.range(s,e.pos);(o&8192)!=0&&(i||M||(o&32)!=0)&&this.error(1255,ye);let fe=O.createFieldDeclaration(Z,a,o,ee,M,ye);return i&&e.skip(70)||e.skip(69),fe}return null}parseIndexSignature(e,r,i){i&&i.length>0&&this.error(1206,se.join(i[0].range,i[i.length-1].range));var s=e.tokenPos;if(e.skipIdentifier())if(e.readIdentifier()=="key")if(e.skip(99)){let o=this.parseType(e);if(!o)return null;if(o.kind!=1)return this.error(1110,e.range()),null;if(e.skip(66))if(e.skip(99)){let l=this.parseType(e);return l?l.kind!=1?(this.error(1003,l.range),null):O.createIndexSignature(o,l,r,e.range(s,e.pos)):null}else this.error(1005,e.range(),":");else this.error(1005,e.range(),"]")}else this.error(1005,e.range(),":");else this.error(1005,e.range(),"key");else this.error(1003,e.range());return null}parseNamespace(e,r,i,s){if(e.skipIdentifier()){let a=O.createIdentifierExpression(e.readIdentifier(),e.range());if(e.skip(61)){let o=new Array,l=O.createNamespaceDeclaration(a,i,r,o,e.range(s,e.pos));for(;!e.skip(62);){let p=this.parseTopLevelStatement(e,l);if(p)o.push(p);else if(this.skipStatement(e),e.skip(120))return this.error(1005,e.range(),"}"),null}return l.range.end=e.pos,l.overriddenModuleName=this.currentModuleName,e.skip(69),l}else this.error(1005,e.range(),"{")}else this.error(1003,e.range());return null}parseExport(e,r,i){var s=null,a=assert(this.currentSource);if(e.skip(61)){let o=new Array;for(;!e.skip(62);){let p=this.parseExportMember(e);if(!p)return null;if(o.push(p),!e.skip(70)){if(e.skip(62))break;return this.error(1005,e.range(),"}"),null}}if(e.skip(23))if(e.skip(115))s=O.createStringLiteralExpression(e.readString(),e.range());else return this.error(1141,e.range()),null;let l=O.createExportStatement(o,s,i,e.range(r,e.pos));if(s){let p=assert(l.internalPath);this.seenlog.has(p)||(this.dependees.set(p,new Tn(a,s)),this.backlog.push(p),this.seenlog.add(p))}return e.skip(69),l}else if(e.skip(83))if(e.skip(23))if(e.skip(115)){s=O.createStringLiteralExpression(e.readString(),e.range());let o=O.createExportStatement(null,s,i,e.range(r,e.pos)),l=assert(o.internalPath),p=e.source,c=p.exportPaths;return c?c.includes(l)||c.push(l):p.exportPaths=[l],this.seenlog.has(l)||(this.dependees.set(l,new Tn(a,s)),this.backlog.push(l)),e.skip(69),o}else this.error(1141,e.range());else this.error(1005,e.range(),"from");else this.error(1005,e.range(),"{");return null}parseExportMember(e){if(e.skipIdentifier(2)){let r=O.createIdentifierExpression(e.readIdentifier(),e.range()),i=null;if(e.skip(1))if(e.skipIdentifier(2))i=O.createIdentifierExpression(e.readIdentifier(),e.range());else return this.error(1003,e.range()),null;return i?O.createExportMember(r,i,se.join(r.range,i.range)):O.createExportMember(r,null,r.range)}else this.error(1003,e.range());return null}parseExportDefaultAlias(e,r,i,s){var a=e.readIdentifier(),o=e.range(),l=O.createExportStatement([O.createExportMember(O.createIdentifierExpression(a,o),O.createIdentifierExpression("default",e.range(i,s)),o)],null,!1,e.range(r,e.pos));return e.skip(69),l}parseImport(e){var r=e.tokenPos,i=null,s=null,a=!1;if(e.skip(61))for(i=new Array;!e.skip(62);){let o=this.parseImportDeclaration(e);if(!o)return null;if(i.push(o),!e.skip(70)){if(e.skip(62))break;return this.error(1005,e.range(),"}"),null}}else if(e.skip(83))if(e.skip(1))if(e.skipIdentifier())s=O.createIdentifierExpression(e.readIdentifier(),e.range());else return this.error(1003,e.range()),null;else return this.error(1005,e.range(),"as"),null;else if(e.skip(114,1)){let o=e.readIdentifier(),l=e.range();if(i=[O.createImportDeclaration(O.createIdentifierExpression("default",l),O.createIdentifierExpression(o,l),l)],e.skip(70))return this.error(100,e.range(),"Mixed default and named imports"),null}else a=!0;if(a||e.skip(23))if(e.skip(115)){let o=O.createStringLiteralExpression(e.readString(),e.range()),l;s?(assert(!i),l=O.createWildcardImportStatement(s,o,e.range(r,e.pos))):l=O.createImportStatement(i,o,e.range(r,e.pos));let p=l.internalPath;return this.seenlog.has(p)||(this.dependees.set(p,new Tn(assert(this.currentSource),o)),this.backlog.push(p)),e.skip(69),l}else this.error(1141,e.range());else this.error(1005,e.range(),"from");return null}parseImportDeclaration(e){if(e.skipIdentifier(2)){let r=O.createIdentifierExpression(e.readIdentifier(),e.range()),i=null;if(e.skip(1))if(e.skipIdentifier())i=O.createIdentifierExpression(e.readIdentifier(),e.range());else return this.error(1003,e.range()),null;return i?O.createImportDeclaration(r,i,se.join(r.range,i.range)):O.createImportDeclaration(r,null,r.range)}else this.error(1003,e.range());return null}parseExportImport(e,r){if(e.skipIdentifier()){let i=O.createIdentifierExpression(e.readIdentifier(),e.range());if(e.skip(100))if(e.skipIdentifier()){let s=O.createIdentifierExpression(e.readIdentifier(),e.range()),a=O.createExportImportStatement(s,i,e.range(r,e.pos));return e.skip(69),a}else this.error(1003,e.range());else this.error(1005,e.range(),"=")}else this.error(1003,e.range());return null}parseStatement(e,r=!1){var i=e.mark(),s=e.next(),a=null;switch(s){case 4:{a=this.parseBreak(e);break}case 8:{a=this.parseVariable(e,8,null,e.tokenPos);break}case 9:{a=this.parseContinue(e);break}case 15:{a=this.parseDoStatement(e);break}case 22:{a=this.parseForStatement(e);break}case 26:{a=this.parseIfStatement(e);break}case 34:{a=this.parseVariable(e,16,null,e.tokenPos);break}case 56:{a=this.parseVariable(e,0,null,e.tokenPos);break}case 61:{a=this.parseBlockStatement(e,r);break}case 45:{r&&this.error(1108,e.range()),a=this.parseReturn(e);break}case 69:return O.createEmptyStatement(e.range(e.tokenPos));case 49:{a=this.parseSwitchStatement(e);break}case 51:{a=this.parseThrowStatement(e);break}case 53:{a=this.parseTryStatement(e);break}case 57:{a=this.parseVoidStatement(e);break}case 58:{a=this.parseWhileStatement(e);break}case 54:if(e.peek(!1,1)==114){a=this.parseTypeDeclaration(e,0,null,e.tokenPos);break}default:{e.reset(i),a=this.parseExpressionStatement(e);break}}return a?e.discard(i):(e.reset(i),this.skipStatement(e)),a}parseBlockStatement(e,r){for(var i=e.tokenPos,s=new Array;!e.skip(62);){let o=e.mark(),l=this.parseStatement(e,r);if(l)e.discard(o),s.push(l);else{if(e.token==120)return null;e.reset(o),this.skipStatement(e)}}var a=O.createBlockStatement(s,e.range(i,e.pos));return e.skip(69),a}parseBreak(e){var r=null;e.peek(!0)==114&&!e.nextTokenOnNewLine&&(e.next(1),r=O.createIdentifierExpression(e.readIdentifier(),e.range()));var i=O.createBreakStatement(r,e.range());return e.skip(69),i}parseContinue(e){var r=null;e.peek(!0)==114&&!e.nextTokenOnNewLine&&(e.next(1),r=O.createIdentifierExpression(e.readIdentifier(),e.range()));var i=O.createContinueStatement(r,e.range());return e.skip(69),i}parseDoStatement(e){var r=e.tokenPos,i=this.parseStatement(e);if(!i)return null;if(e.skip(58))if(e.skip(63)){let s=this.parseExpression(e);if(!s)return null;if(e.skip(64)){let a=O.createDoStatement(i,s,e.range(r,e.pos));return e.skip(69),a}else this.error(1005,e.range(),")")}else this.error(1005,e.range(),"(");else this.error(1005,e.range(),"while");return null}parseExpressionStatement(e){var r=this.parseExpression(e);if(!r)return null;var i=O.createExpressionStatement(r);return e.skip(69),i}parseForStatement(e){var r=e.tokenPos;if(e.skip(63)){let i=null;if(e.skip(8))i=this.parseVariable(e,8,null,e.tokenPos,!0);else if(e.skip(34))i=this.parseVariable(e,16,null,e.tokenPos,!0);else if(e.skip(56))i=this.parseVariable(e,0,null,e.tokenPos,!0);else if(!e.skip(69)&&(i=this.parseExpressionStatement(e),!i))return null;if(i){if(e.skip(39)){if(i.kind==38)return i.expression.kind!=6?(this.error(1003,i.range),null):this.parseForOfStatement(e,r,i);if(i.kind==47){let s=i.declarations;for(let a=0,o=s.length;a<o;++a){let p=s[a].initializer;p&&this.error(1190,p.range)}return this.parseForOfStatement(e,r,i)}return this.error(1003,i.range),null}if(i.kind==47){let s=i.declarations;for(let a=0,o=s.length;a<o;++a){let l=s[a];l.initializer||(l.flags&8?this.error(1155,l.name.range):l.type||this.error(1110,l.name.range.atEnd))}}}if(e.token==69){let s=null;if(!e.skip(69)&&(s=this.parseExpressionStatement(e),!s))return null;if(e.token==69){let a=null;if(!e.skip(64)){if(a=this.parseExpression(e),!a)return null;if(!e.skip(64))return this.error(1005,e.range(),")"),null}let o=this.parseStatement(e);return o?O.createForStatement(i,s?s.expression:null,a,o,e.range(r,e.pos)):null}else this.error(1005,e.range(),";")}else this.error(1005,e.range(),";")}else this.error(1005,e.range(),"(");return null}parseForOfStatement(e,r,i){var s=this.parseExpression(e);if(!s)return null;if(!e.skip(64))return this.error(1005,e.range(),")"),null;var a=this.parseStatement(e);return a?O.createForOfStatement(i,s,a,e.range(r,e.pos)):null}parseIfStatement(e){var r=e.tokenPos;if(e.skip(63)){let i=this.parseExpression(e);if(!i)return null;if(e.skip(64)){let s=this.parseStatement(e);if(!s)return null;let a=null;return e.skip(16)&&(a=this.parseStatement(e),!a)?null:O.createIfStatement(i,s,a,e.range(r,e.pos))}else this.error(1005,e.range(),")")}else this.error(1005,e.range(),"(");return null}parseSwitchStatement(e){var r=e.tokenPos;if(e.skip(63)){let i=this.parseExpression(e);if(!i)return null;if(e.skip(64))if(e.skip(61)){let s=new Array;for(;!e.skip(62);){let o=this.parseSwitchCase(e);if(!o)return null;s.push(o)}let a=O.createSwitchStatement(i,s,e.range(r,e.pos));return e.skip(69),a}else this.error(1005,e.range(),"{");else this.error(1005,e.range(),")")}else this.error(1005,e.range(),"(");return null}parseSwitchCase(e){var r=e.tokenPos,i,s;if(e.skip(5)){let a=this.parseExpression(e);if(!a)return null;if(e.skip(99)){for(i=new Array;e.peek()!=5&&e.nextToken!=13&&e.nextToken!=62;){if(s=this.parseStatement(e),!s)return null;i.push(s)}return O.createSwitchCase(a,i,e.range(r,e.pos))}else this.error(1005,e.range(),":")}else if(e.skip(13))if(e.skip(99)){for(i=new Array;e.peek()!=5&&e.nextToken!=13&&e.nextToken!=62;){if(s=this.parseStatement(e),!s)return null;i.push(s)}return O.createSwitchCase(null,i,e.range(r,e.pos))}else this.error(1005,e.range(),":");else this.error(1130,e.range());return null}parseThrowStatement(e){var r=e.tokenPos,i=this.parseExpression(e);if(!i)return null;var s=O.createThrowStatement(i,e.range(r,e.pos));return e.skip(69),s}parseTryStatement(e){var r=e.tokenPos,i;if(e.skip(61)){let s=new Array;for(;!e.skip(62);){if(i=this.parseStatement(e),!i)return null;s.push(i)}let a=null,o=null,l=null;if(e.skip(6)){if(!e.skip(63))return this.error(1005,e.range(),"("),null;if(!e.skipIdentifier())return this.error(1003,e.range()),null;if(a=O.createIdentifierExpression(e.readIdentifier(),e.range()),!e.skip(64))return this.error(1005,e.range(),")"),null;if(!e.skip(61))return this.error(1005,e.range(),"{"),null;for(o=[];!e.skip(62);){if(i=this.parseStatement(e),!i)return null;o.push(i)}}if(e.skip(21)){if(!e.skip(61))return this.error(1005,e.range(),"{"),null;for(l=[];!e.skip(62);){if(i=this.parseStatement(e),!i)return null;l.push(i)}}if(!(o||l))return this.error(1005,e.range(),"catch"),null;let p=O.createTryStatement(s,a,o,l,e.range(r,e.pos));return e.skip(69),p}else this.error(1005,e.range(),"{");return null}parseTypeDeclaration(e,r,i,s){if(e.skipIdentifier()){let a=O.createIdentifierExpression(e.readIdentifier(),e.range()),o=null;if(e.skip(71)){if(o=this.parseTypeParameters(e),!o)return null;r|=32768}if(e.skip(100)){e.skip(92);let l=this.parseType(e);if(!l)return null;let p=O.createTypeDeclaration(a,i,r,o,l,e.range(s,e.pos));return e.skip(69),p.overriddenModuleName=this.currentModuleName,p}else this.error(1005,e.range(),"=")}else this.error(1003,e.range());return null}parseModuleDeclaration(e,r){var i=e.tokenPos;assert(e.next()==115);var s=e.readString(),a=O.createModuleDeclaration(s,r,e.range(i,e.pos));return this.currentModuleName=s,e.skip(69),a}parseVoidStatement(e){var r=e.tokenPos,i=this.parseExpression(e,he.GROUPING);if(!i)return null;var s=O.createVoidStatement(i,e.range(r,e.pos));return e.skip(69),s}parseWhileStatement(e){var r=e.tokenPos;if(e.skip(63)){let i=this.parseExpression(e);if(!i)return null;if(e.skip(64)){let s=this.parseStatement(e);if(!s)return null;let a=O.createWhileStatement(i,s,e.range(r,e.pos));return e.skip(69),a}else this.error(1005,e.range(),")")}else this.error(1005,e.range(),"(");return null}parseExpressionStart(e){var r=e.next(1),i=e.tokenPos;switch(r){case 68:case 60:case 94:case 95:case 80:case 81:case 55:case 57:case 14:{let s=this.parseExpression(e,he.UNARY_PREFIX);return s?O.createUnaryPrefixExpression(r,s,e.range(i,e.pos)):null}case 86:case 87:{let s=this.parseExpression(e,he.UNARY_PREFIX);if(!s)return null;switch(s.kind){case 6:case 12:case 21:break;default:this.error(2357,s.range)}return O.createUnaryPrefixExpression(r,s,e.range(i,e.pos))}case 37:{if(!e.skipIdentifier())return this.error(1003,e.range()),null;let s=this.parseTypeName(e);if(!s)return null;let a=null,o=null;if(e.skip(63)||(a=this.tryParseTypeArgumentsBeforeArguments(e))){if(o=this.parseArguments(e),!o)return null}else o=[];return O.createNewExpression(s,a,o,e.range(i,e.pos))}case 38:return O.createNullExpression(e.range());case 52:return O.createTrueExpression(e.range());case 20:return O.createFalseExpression(e.range());case 50:return O.createThisExpression(e.range());case 10:return O.createConstructorExpression(e.range());case 63:{if(e.skip(64))return this.parseFunctionExpressionCommon(e,O.createEmptyIdentifierExpression(e.range(i)),[],null,1);let s=e.mark(),a=!0;do switch(e.next(1)){case 68:return e.reset(s),this.parseFunctionExpression(e);case 114:{switch(e.readIdentifier(),e.next()){case 64:if(!e.skip(99)&&!e.skip(79)){a=!1;break}case 99:return e.reset(s),this.parseFunctionExpression(e);case 98:{if(e.skip(99)||e.skip(70)||e.skip(64))return e.reset(s),this.parseFunctionExpression(e);a=!1;break}case 70:break;default:{a=!1;break}}break}default:{a=!1;break}}while(a);e.reset(s);let o=this.parseExpression(e);return o?e.skip(64)?(o=O.createParenthesizedExpression(o,e.range(i,e.pos)),this.maybeParseCallExpression(e,o)):(this.error(1005,e.range(),")"),null):null}case 65:{let s=new Array;for(;!e.skip(66);){let a;if(e.peek()==70)a=O.createOmittedExpression(e.range(e.pos));else if(a=this.parseExpression(e,he.COMMA+1),!a)return null;if(s.push(a),!e.skip(70)){if(e.skip(66))break;return this.error(1005,e.range(),"]"),null}}return O.createArrayLiteralExpression(s,e.range(i,e.pos))}case 61:{let s=e.tokenPos,a=new Array,o=new Array,l;for(;!e.skip(62);){if(e.skipIdentifier())l=O.createIdentifierExpression(e.readIdentifier(),e.range());else{if(!e.skip(115))return this.error(1003,e.range()),null;l=O.createIdentifierExpression(e.readString(),e.range()),l.isQuoted=!0}if(a.push(l),e.skip(99)){let p=this.parseExpression(e,he.COMMA+1);if(!p)return null;o.push(p)}else if(!l.isQuoted)o.push(l);else return this.error(1005,e.range(),":"),null;if(!e.skip(70)){if(e.skip(62))break;return this.error(1005,e.range(),"}"),null}}return O.createObjectLiteralExpression(a,o,e.range(s,e.pos))}case 71:{let s=this.parseType(e);if(!s)return null;if(!e.skip(72))return this.error(1005,e.range(),">"),null;let a=this.parseExpression(e,he.CALL);return a?O.createAssertionExpression(0,a,s,e.range(i,e.pos)):null}case 114:{let s=e.readIdentifier();if(s=="null")return O.createNullExpression(e.range());let a=O.createIdentifierExpression(s,e.range(i,e.pos));return e.skip(118)?this.parseTemplateLiteral(e,a):e.peek(!0)==79&&!e.nextTokenOnNewLine?this.parseFunctionExpressionCommon(e,O.createEmptyIdentifierExpression(e.range(i)),[O.createParameter(0,a,O.createOmittedType(a.range.atEnd),null,a.range)],null,2,i):this.maybeParseCallExpression(e,a,!0)}case 48:{e.peek()!=67&&e.nextToken!=63&&this.error(1034,e.range());let s=O.createSuperExpression(e.range(i,e.pos));return this.maybeParseCallExpression(e,s)}case 115:return O.createStringLiteralExpression(e.readString(),e.range(i,e.pos));case 118:return this.parseTemplateLiteral(e);case 116:{let s=e.readInteger();return e.checkForIdentifierStartAfterNumericLiteral(),O.createIntegerLiteralExpression(s,e.range(i,e.pos))}case 117:{let s=e.readFloat();return e.checkForIdentifierStartAfterNumericLiteral(),O.createFloatLiteralExpression(s,e.range(i,e.pos))}case 84:{let s=e.readRegexpPattern();return e.skip(84)?O.createRegexpLiteralExpression(s,e.readRegexpFlags(),e.range(i,e.pos)):(this.error(1005,e.range(),"/"),null)}case 24:{let s=this.parseFunctionExpression(e);return s?this.maybeParseCallExpression(e,s):null}case 7:return this.parseClassExpression(e);default:return r==120?this.error(1126,e.range(i)):this.error(1109,e.range()),null}}tryParseTypeArgumentsBeforeArguments(e){var r=e.mark();if(!e.skip(71))return null;var i=e.tokenPos,s=null;do{if(e.peek()==72)break;let a=this.parseType(e,!0,!0);if(!a)return e.reset(r),null;s?s.push(a):s=[a]}while(e.skip(70));if(e.skip(72)){let a=e.pos;if(e.skip(63))return s||this.error(1099,e.range(i,a)),s}return e.reset(r),null}parseArguments(e){for(var r=new Array;!e.skip(64);){let i=this.parseExpression(e,he.COMMA+1);if(!i)return null;if(r.push(i),!e.skip(70)){if(e.skip(64))break;return this.error(1005,e.range(),")"),null}}return r}parseExpression(e,r=he.COMMA){assert(r!=he.NONE);var i=this.parseExpressionStart(e);if(!i)return null;for(var s=i.range.start,a;(a=nE(e.peek()))>=r;){let o=e.next();switch(o){case 1:{if(e.skip(8))i=O.createAssertionExpression(3,i,null,e.range(s,e.pos));else{let l=this.parseType(e);if(!l)return null;i=O.createAssertionExpression(1,i,l,e.range(s,e.pos))}break}case 94:{i=O.createAssertionExpression(2,i,null,e.range(s,e.pos)),i=this.maybeParseCallExpression(e,i);break}case 30:{let l=this.parseType(e);if(!l)return null;i=O.createInstanceOfExpression(i,l,e.range(s,e.pos));break}case 65:{let l=this.parseExpression(e);if(!l)return null;if(!e.skip(66))return this.error(1005,e.range(),"]"),null;i=O.createElementAccessExpression(i,l,e.range(s,e.pos)),i=this.maybeParseCallExpression(e,i);break}case 86:case 87:{i.kind!=6&&i.kind!=12&&i.kind!=21&&this.error(2357,i.range),i=O.createUnaryPostfixExpression(o,i,e.range(s,e.pos));break}case 98:{let l=this.parseExpression(e);if(!l)return null;if(!e.skip(99))return this.error(1005,e.range(),":"),null;let p=this.parseExpression(e,r>he.COMMA?he.COMMA+1:he.COMMA);if(!p)return null;i=O.createTernaryExpression(i,l,p,e.range(s,e.pos));break}case 70:{let l=[i];do{if(i=this.parseExpression(e,he.COMMA+1),!i)return null;l.push(i)}while(e.skip(70));i=O.createCommaExpression(l,e.range(s,e.pos));break}case 67:{if(e.skipIdentifier(2)){let l=O.createIdentifierExpression(e.readIdentifier(),e.range());i=O.createPropertyAccessExpression(i,l,e.range(s,e.pos))}else{let l=this.parseExpression(e,a+1);if(!l)return null;if(l.kind==9){if(i=this.joinPropertyCall(e,s,i,l),!i)return null}else return this.error(1003,l.range),null}if(e.skip(118)){if(i=this.parseTemplateLiteral(e,i),!i)return null}else i=this.maybeParseCallExpression(e,i,!0);break}case 100:case 101:case 102:case 104:case 103:case 105:case 106:case 107:case 108:case 109:case 110:case 112:case 111:case 82:{let l=this.parseExpression(e,a);if(!l)return null;i=O.createBinaryExpression(o,i,l,e.range(s,e.pos));break}case 71:case 72:case 73:case 74:case 75:case 77:case 78:case 76:case 80:case 81:case 83:case 84:case 85:case 88:case 89:case 90:case 91:case 92:case 93:case 96:case 97:{let l=this.parseExpression(e,a+1);if(!l)return null;i=O.createBinaryExpression(o,i,l,e.range(s,e.pos));break}default:assert(!1)}}return i}parseTemplateLiteral(e,r=null){var i=r?r.range.start:e.tokenPos,s=new Array,a=new Array,o=new Array;for(s.push(e.readString(0,r!=null)),a.push(e.source.text.substring(e.readStringStart,e.readStringEnd));e.readingTemplateString;){let l=this.parseExpression(e);if(!l)return null;if(o.push(l),!e.skip(62))return this.error(1005,e.range(),"}"),null;s.push(e.readString(96,r!=null)),a.push(e.source.text.substring(e.readStringStart,e.readStringEnd))}return O.createTemplateLiteralExpression(r,s,a,o,e.range(i,e.pos))}joinPropertyCall(e,r,i,s){var a=s.expression;switch(a.kind){case 6:{s.expression=O.createPropertyAccessExpression(i,a,e.range(r,e.pos));break}case 9:{let o=this.joinPropertyCall(e,r,i,a);if(!o)return null;s.expression=o,s.range=e.range(r,e.pos);break}default:return this.error(1003,s.range),null}return s}maybeParseCallExpression(e,r,i=!1){for(var s=null;e.skip(63)||i&&(s=this.tryParseTypeArgumentsBeforeArguments(e));){let a=this.parseArguments(e);if(!a)break;r=O.createCallExpression(r,s,a,e.range(r.range.start,e.pos)),i=!1}return r}skipStatement(e){e.peek(!0),e.nextTokenOnNewLine&&e.next();do{let r=e.peek(!0);if(r==120||r==69){e.next();break}if(e.nextTokenOnNewLine)break;switch(e.next()){case 114:{e.readIdentifier();break}case 115:case 118:{e.readString();break}case 116:{e.readInteger(),e.checkForIdentifierStartAfterNumericLiteral();break}case 117:{e.readFloat(),e.checkForIdentifierStartAfterNumericLiteral();break}case 61:{this.skipBlock(e);break}}}while(!0);e.readingTemplateString=!1}skipBlock(e){var r=1,i=!0;do switch(e.next()){case 120:{this.error(1005,e.range(),"}"),i=!1;break}case 61:{++r;break}case 62:{--r,r||(i=!1);break}case 114:{e.readIdentifier();break}case 115:{e.readString();break}case 118:{for(e.readString();e.readingTemplateString;)this.skipBlock(e),e.readString(96);break}case 116:{e.readInteger(),e.checkForIdentifierStartAfterNumericLiteral();break}case 117:{e.readFloat(),e.checkForIdentifierStartAfterNumericLiteral();break}}while(i)}},he=(k=>(k[k.NONE=0]="NONE",k[k.COMMA=1]="COMMA",k[k.SPREAD=2]="SPREAD",k[k.YIELD=3]="YIELD",k[k.ASSIGNMENT=4]="ASSIGNMENT",k[k.CONDITIONAL=5]="CONDITIONAL",k[k.LOGICAL_OR=6]="LOGICAL_OR",k[k.LOGICAL_AND=7]="LOGICAL_AND",k[k.BITWISE_OR=8]="BITWISE_OR",k[k.BITWISE_XOR=9]="BITWISE_XOR",k[k.BITWISE_AND=10]="BITWISE_AND",k[k.EQUALITY=11]="EQUALITY",k[k.RELATIONAL=12]="RELATIONAL",k[k.SHIFT=13]="SHIFT",k[k.ADDITIVE=14]="ADDITIVE",k[k.MULTIPLICATIVE=15]="MULTIPLICATIVE",k[k.EXPONENTIATED=16]="EXPONENTIATED",k[k.UNARY_PREFIX=17]="UNARY_PREFIX",k[k.UNARY_POSTFIX=18]="UNARY_POSTFIX",k[k.CALL=19]="CALL",k[k.MEMBERACCESS=20]="MEMBERACCESS",k[k.GROUPING=21]="GROUPING",k))(he||{});function nE(t){switch(t){case 70:return 1;case 100:case 101:case 102:case 104:case 103:case 105:case 106:case 107:case 108:case 109:case 110:case 112:case 111:return 4;case 98:return 5;case 97:return 6;case 96:return 7;case 92:return 8;case 93:return 9;case 91:return 10;case 75:case 76:case 77:case 78:return 11;case 1:case 29:case 30:case 71:case 72:case 73:case 74:return 12;case 88:case 89:case 90:return 13;case 80:case 81:return 14;case 83:case 84:case 85:return 15;case 82:return 16;case 86:case 87:return 18;case 67:case 65:case 94:return 20}return 0}var Nc=16,li=Nc-1,Wa=class{constructor(n,e,r,i,s){this.localFile=n;this.localIdentifier=e;this.foreignIdentifier=r;this.foreignPath=i;this.foreignPathAlt=s}},Ya=class{constructor(n,e,r,i){this.localIdentifier=n;this.foreignIdentifier=e;this.foreignPath=r;this.foreignPathAlt=i}},Kl=class{constructor(n,e,r){this.foreignPath=n;this.foreignPathAlt=e;this.pathLiteral=r}},Fe=(M=>(M[M.INVALID=0]="INVALID",M[M.INDEXED_GET=1]="INDEXED_GET",M[M.INDEXED_SET=2]="INDEXED_SET",M[M.UNCHECKED_INDEXED_GET=3]="UNCHECKED_INDEXED_GET",M[M.UNCHECKED_INDEXED_SET=4]="UNCHECKED_INDEXED_SET",M[M.ADD=5]="ADD",M[M.SUB=6]="SUB",M[M.MUL=7]="MUL",M[M.DIV=8]="DIV",M[M.REM=9]="REM",M[M.POW=10]="POW",M[M.BITWISE_AND=11]="BITWISE_AND",M[M.BITWISE_OR=12]="BITWISE_OR",M[M.BITWISE_XOR=13]="BITWISE_XOR",M[M.BITWISE_SHL=14]="BITWISE_SHL",M[M.BITWISE_SHR=15]="BITWISE_SHR",M[M.BITWISE_SHR_U=16]="BITWISE_SHR_U",M[M.EQ=17]="EQ",M[M.NE=18]="NE",M[M.GT=19]="GT",M[M.GE=20]="GE",M[M.LT=21]="LT",M[M.LE=22]="LE",M[M.PLUS=23]="PLUS",M[M.MINUS=24]="MINUS",M[M.NOT=25]="NOT",M[M.BITWISE_NOT=26]="BITWISE_NOT",M[M.PREFIX_INC=27]="PREFIX_INC",M[M.PREFIX_DEC=28]="PREFIX_DEC",M[M.POSTFIX_INC=29]="POSTFIX_INC",M[M.POSTFIX_DEC=30]="POSTFIX_DEC",M))(Fe||{});(i=>{function t(s,a){switch(assert(a.length),s){case 2:case 3:{switch(a.charCodeAt(0)){case 91:{if(a=="[]")return 1;if(a=="[]=")return 2;break}case 123:{if(a=="{}")return 3;if(a=="{}=")return 4;break}case 43:{if(a=="+")return 5;break}case 45:{if(a=="-")return 6;break}case 42:{if(a=="*")return 7;if(a=="**")return 10;break}case 47:{if(a=="/")return 8;break}case 37:{if(a=="%")return 9;break}case 38:{if(a=="&")return 11;break}case 124:{if(a=="|")return 12;break}case 94:{if(a=="^")return 13;break}case 61:{if(a=="==")return 17;break}case 33:{if(a=="!=")return 18;break}case 62:{if(a==">")return 19;if(a==">=")return 20;if(a==">>")return 15;if(a==">>>")return 16;break}case 60:{if(a=="<")return 21;if(a=="<=")return 22;if(a=="<<")return 14;break}}break}case 4:{switch(a.charCodeAt(0)){case 43:{if(a=="+")return 23;if(a=="++")return 27;break}case 45:{if(a=="-")return 24;if(a=="--")return 28;break}case 33:{if(a=="!")return 25;break}case 126:{if(a=="~")return 26;break}}break}case 5:{switch(a.charCodeAt(0)){case 43:{if(a=="++")return 29;break}case 45:{if(a=="--")return 30;break}}break}}return 0}i.fromDecorator=t;function n(s){switch(s){case 80:case 101:return 5;case 81:case 102:return 6;case 83:case 103:return 7;case 84:case 105:return 8;case 85:case 106:return 9;case 82:case 104:return 10;case 91:case 110:return 11;case 92:case 111:return 12;case 93:case 112:return 13;case 88:case 107:return 14;case 89:case 108:return 15;case 90:case 109:return 16;case 75:return 17;case 76:return 18;case 72:return 19;case 74:return 20;case 71:return 21;case 73:return 22}return 0}i.fromBinaryToken=n;function e(s){switch(s){case 80:return 23;case 81:return 24;case 94:return 25;case 95:return 26;case 86:return 27;case 87:return 28}return 0}i.fromUnaryPrefixToken=e;function r(s){switch(s){case 86:return 29;case 87:return 30}return 0}i.fromUnaryPostfixToken=r})(Fe||={});var In=class extends Ue{constructor(e,r=null){super(r);this.options=e;this.sources=[];this.diagnosticsOffset=0;this.nextClassId=0;this.nextSignatureId=0;this.initialized=!1;this.filesByName=new Map;this.elementsByName=new Map;this.elementsByDeclaration=new Map;this.instancesByName=new Map;this.wrapperClasses=new Map;this.managedClasses=new Map;this.uniqueSignatures=new Array(0);this.moduleExports=new Map;this.moduleImports=new Map;this._arrayBufferViewInstance=null;this._arrayBufferInstance=null;this._arrayPrototype=null;this._staticArrayPrototype=null;this._setPrototype=null;this._mapPrototype=null;this._functionPrototype=null;this._int8ArrayPrototype=null;this._int16ArrayPrototype=null;this._int32ArrayPrototype=null;this._int64ArrayPrototype=null;this._uint8ArrayPrototype=null;this._uint8ClampedArrayPrototype=null;this._uint16ArrayPrototype=null;this._uint32ArrayPrototype=null;this._uint64ArrayPrototype=null;this._float32ArrayPrototype=null;this._float64ArrayPrototype=null;this._stringInstance=null;this._objectInstance=null;this._templateStringsArrayInstance=null;this._allocInstance=null;this._reallocInstance=null;this._freeInstance=null;this._newInstance=null;this._renewInstance=null;this._linkInstance=null;this._collectInstance=null;this._visitInstance=null;this._typeinfoInstance=null;this._instanceofInstance=null;this._newBufferInstance=null;this._newArrayInstance=null;this._BLOCKInstance=null;this._OBJECTInstance=null;this.nativeDummySignature=null;var i=new lr(3,Je+"native.ts","[native code]");this.nativeSource=i,this.parser=new bn(this.diagnostics,this.sources),this.resolver=new Vi(this);var s=new Sn(this,i);this.nativeFile=s,this.filesByName.set(s.internalName,s)}get nativeRange(){return this.nativeSource.range}get arrayBufferViewInstance(){var e=this._arrayBufferViewInstance;return e||(this._arrayBufferViewInstance=e=this.requireClass(w.ArrayBufferView)),e}get arrayBufferInstance(){var e=this._arrayBufferInstance;return e||(this._arrayBufferInstance=e=this.requireClass(w.ArrayBuffer)),e}get arrayPrototype(){var e=this._arrayPrototype;return e||(this._arrayPrototype=e=this.require(w.Array,J.CLASS_PROTOTYPE)),e}get staticArrayPrototype(){var e=this._staticArrayPrototype;return e||(this._staticArrayPrototype=e=this.require(w.StaticArray,J.CLASS_PROTOTYPE)),e}get setPrototype(){var e=this._setPrototype;return e||(this._setPrototype=e=this.require(w.Set,J.CLASS_PROTOTYPE)),e}get mapPrototype(){var e=this._mapPrototype;return e||(this._mapPrototype=e=this.require(w.Map,J.CLASS_PROTOTYPE)),e}get functionPrototype(){var e=this._functionPrototype;return e||(this._functionPrototype=e=this.require(w.Function,J.CLASS_PROTOTYPE)),e}get int8ArrayPrototype(){var e=this._int8ArrayPrototype;return e||(this._int8ArrayPrototype=e=this.require(w.Int8Array,J.CLASS_PROTOTYPE)),e}get int16ArrayPrototype(){var e=this._int16ArrayPrototype;return e||(this._int16ArrayPrototype=e=this.require(w.Int16Array,J.CLASS_PROTOTYPE)),e}get int32ArrayPrototype(){var e=this._int32ArrayPrototype;return e||(this._int32ArrayPrototype=e=this.require(w.Int32Array,J.CLASS_PROTOTYPE)),e}get int64ArrayPrototype(){var e=this._int64ArrayPrototype;return e||(this._int64ArrayPrototype=e=this.require(w.Int64Array,J.CLASS_PROTOTYPE)),e}get uint8ArrayPrototype(){var e=this._uint8ArrayPrototype;return e||(this._uint8ArrayPrototype=e=this.require(w.Uint8Array,J.CLASS_PROTOTYPE)),e}get uint8ClampedArrayPrototype(){var e=this._uint8ClampedArrayPrototype;return e||(this._uint8ClampedArrayPrototype=e=this.require(w.Uint8ClampedArray,J.CLASS_PROTOTYPE)),e}get uint16ArrayPrototype(){var e=this._uint16ArrayPrototype;return e||(this._uint16ArrayPrototype=e=this.require(w.Uint16Array,J.CLASS_PROTOTYPE)),e}get uint32ArrayPrototype(){var e=this._uint32ArrayPrototype;return e||(this._uint32ArrayPrototype=e=this.require(w.Uint32Array,J.CLASS_PROTOTYPE)),e}get uint64ArrayPrototype(){var e=this._uint64ArrayPrototype;return e||(this._uint64ArrayPrototype=e=this.require(w.Uint64Array,J.CLASS_PROTOTYPE)),e}get float32ArrayPrototype(){var e=this._float32ArrayPrototype;return e||(this._float32ArrayPrototype=e=this.require(w.Float32Array,J.CLASS_PROTOTYPE)),e}get float64ArrayPrototype(){var e=this._float64ArrayPrototype;return e||(this._float64ArrayPrototype=e=this.require(w.Float64Array,J.CLASS_PROTOTYPE)),e}get stringInstance(){var e=this._stringInstance;return e||(this._stringInstance=e=this.requireClass(w.String)),e}get objectInstance(){var e=this._objectInstance;return e||(this._objectInstance=e=this.requireClass(w.Object)),e}get templateStringsArrayInstance(){var e=this._templateStringsArrayInstance;return e||(this._templateStringsArrayInstance=e=this.requireClass(w.TemplateStringsArray)),e}get abortInstance(){var e=this.lookup(w.abort);return!e||e.kind!=J.FUNCTION_PROTOTYPE?null:this.resolver.resolveFunction(e,null)}get allocInstance(){var e=this._allocInstance;return e||(this._allocInstance=e=this.requireFunction(w.alloc)),e}get reallocInstance(){var e=this._reallocInstance;return e||(this._reallocInstance=e=this.requireFunction(w.realloc)),e}get freeInstance(){var e=this._freeInstance;return e||(this._freeInstance=e=this.requireFunction(w.free)),e}get newInstance(){var e=this._newInstance;return e||(this._newInstance=e=this.requireFunction(w.new_)),e}get renewInstance(){var e=this._renewInstance;return e||(this._renewInstance=e=this.requireFunction(w.renew)),e}get linkInstance(){var e=this._linkInstance;return e||(this._linkInstance=e=this.requireFunction(w.link)),e}get collectInstance(){var e=this._collectInstance;return e||(this._collectInstance=e=this.requireFunction(w.collect)),e}get visitInstance(){var e=this._visitInstance;return e||(this._visitInstance=e=this.requireFunction(w.visit)),e}get typeinfoInstance(){var e=this._typeinfoInstance;return e||(this._typeinfoInstance=e=this.requireFunction(w.typeinfo)),e}get instanceofInstance(){var e=this._instanceofInstance;return e||(this._instanceofInstance=e=this.requireFunction(w.instanceof_)),e}get newBufferInstance(){var e=this._newBufferInstance;return e||(this._newBufferInstance=e=this.requireFunction(w.newBuffer)),e}get newArrayInstance(){var e=this._newArrayInstance;return e||(this._newArrayInstance=e=this.requireFunction(w.newArray)),e}get BLOCKInstance(){var e=this._BLOCKInstance;return e||(this._BLOCKInstance=e=this.requireClass(w.BLOCK)),e}get OBJECTInstance(){var e=this._OBJECTInstance;return e||(this._OBJECTInstance=e=this.requireClass(w.OBJECT)),e}get isWasi(){return this.elementsByName.has(w.ASC_WASI)}getSource(e){var r=this.sources;for(let i=0;i<r.length;++i){let s=r[i];if(s.internalPath==e)return s.text}return null}get blockOverhead(){return this.BLOCKInstance.nextMemoryOffset}get objectOverhead(){return this.OBJECTInstance.nextMemoryOffset-this.blockOverhead+li&~li}get totalOverhead(){return this.blockOverhead+this.objectOverhead}computeBlockStart(e){var r=this.blockOverhead;return(e+r+li&~li)-r}computeBlockStart64(e){var r=i64_new(this.blockOverhead);return i64_sub(i64_align(i64_add(e,r),Nc),r)}computeBlockSize(e,r){r&&(e+=this.objectOverhead);var i=this.computeBlockStart(e),s=this.blockOverhead,a=(3*this.options.usizeType.byteSize+s+li&~li)-s;i<a&&(i=a);let o=1<<30,l=3;if(i>=o||(i&l)!=0)throw new Error("invalid block size");return i}makeNativeVariableDeclaration(e,r=0){var i=this.nativeSource.range;return O.createVariableDeclaration(O.createIdentifierExpression(e,i),null,r,null,null,i)}makeNativeTypeDeclaration(e,r=0){var i=this.nativeSource.range,s=O.createIdentifierExpression(e,i);return O.createTypeDeclaration(s,null,r,null,O.createOmittedType(i),i)}makeNativeFunctionDeclaration(e,r=0){var i=this.nativeSource.range,s=this.nativeDummySignature;return s||(this.nativeDummySignature=s=O.createFunctionType([],O.createNamedType(O.createSimpleTypeName(w.void_,i),null,!1,i),null,!1,i)),O.createFunctionDeclaration(O.createIdentifierExpression(e,i),null,r,null,s,null,0,i)}makeNativeNamespaceDeclaration(e,r=0){var i=this.nativeSource.range;return O.createNamespaceDeclaration(O.createIdentifierExpression(e,i),null,r,[],i)}makeNativeFunction(e,r,i=this.nativeFile,s=0,a=j.NONE){return new Xe(e,new We(e,i,this.makeNativeFunctionDeclaration(e,s),a),null,r)}getElementByDeclaration(e){var r=this.elementsByDeclaration;return r.has(e)?assert(r.get(e)):null}initialize(){if(!this.initialized){this.initialized=!0;var e=this.options;this.registerNativeType(w.i8,u.i8),this.registerNativeType(w.i16,u.i16),this.registerNativeType(w.i32,u.i32),this.registerNativeType(w.i64,u.i64),this.registerNativeType(w.isize,e.isizeType),this.registerNativeType(w.u8,u.u8),this.registerNativeType(w.u16,u.u16),this.registerNativeType(w.u32,u.u32),this.registerNativeType(w.u64,u.u64),this.registerNativeType(w.usize,e.usizeType),this.registerNativeType(w.bool,u.bool),this.registerNativeType(w.f32,u.f32),this.registerNativeType(w.f64,u.f64),this.registerNativeType(w.void_,u.void),this.registerNativeType(w.number,u.f64),this.registerNativeType(w.boolean,u.bool),this.nativeFile.add(w.native,new ct(w.native,this.nativeFile,this.makeNativeTypeDeclaration(w.native,32770),j.BUILTIN)),this.nativeFile.add(w.indexof,new ct(w.indexof,this.nativeFile,this.makeNativeTypeDeclaration(w.indexof,32770),j.BUILTIN)),this.nativeFile.add(w.valueof,new ct(w.valueof,this.nativeFile,this.makeNativeTypeDeclaration(w.valueof,32770),j.BUILTIN)),this.nativeFile.add(w.returnof,new ct(w.returnof,this.nativeFile,this.makeNativeTypeDeclaration(w.returnof,32770),j.BUILTIN)),this.nativeFile.add(w.nonnull,new ct(w.nonnull,this.nativeFile,this.makeNativeTypeDeclaration(w.nonnull,32770),j.BUILTIN)),this.registerNativeType(w.v128,u.v128),this.registerNativeType(w.funcref,u.funcref),this.registerNativeType(w.externref,u.externref),this.registerNativeType(w.anyref,u.anyref),this.registerNativeType(w.eqref,u.eqref),this.registerNativeType(w.i31ref,u.i31ref),this.registerNativeType(w.dataref,u.dataref),this.registerConstantInteger(w.ASC_TARGET,u.i32,i64_new(e.isWasm64?2:1)),this.registerConstantInteger(w.ASC_RUNTIME,u.i32,i64_new(e.runtime)),this.registerConstantInteger(w.ASC_NO_ASSERT,u.bool,i64_new(e.noAssert?1:0,0)),this.registerConstantInteger(w.ASC_MEMORY_BASE,u.i32,i64_new(e.memoryBase,0)),this.registerConstantInteger(w.ASC_TABLE_BASE,u.i32,i64_new(e.tableBase,0)),this.registerConstantInteger(w.ASC_OPTIMIZE_LEVEL,u.i32,i64_new(e.optimizeLevelHint,0)),this.registerConstantInteger(w.ASC_SHRINK_LEVEL,u.i32,i64_new(e.shrinkLevelHint,0)),this.registerConstantInteger(w.ASC_LOW_MEMORY_LIMIT,u.i32,i64_new(e.lowMemoryLimit,0)),this.registerConstantInteger(w.ASC_EXPORT_RUNTIME,u.bool,i64_new(e.exportRuntime?1:0,0)),this.registerConstantInteger(w.ASC_VERSION_MAJOR,u.i32,i64_new(e.bundleMajorVersion)),this.registerConstantInteger(w.ASC_VERSION_MINOR,u.i32,i64_new(e.bundleMinorVersion)),this.registerConstantInteger(w.ASC_VERSION_PATCH,u.i32,i64_new(e.bundlePatchVersion)),this.registerConstantInteger(w.ASC_FEATURE_SIGN_EXTENSION,u.bool,i64_new(e.hasFeature(1)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_MUTABLE_GLOBALS,u.bool,i64_new(e.hasFeature(2)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_NONTRAPPING_F2I,u.bool,i64_new(e.hasFeature(4)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_BULK_MEMORY,u.bool,i64_new(e.hasFeature(8)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_SIMD,u.bool,i64_new(e.hasFeature(16)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_THREADS,u.bool,i64_new(e.hasFeature(32)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_EXCEPTION_HANDLING,u.bool,i64_new(e.hasFeature(64)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_TAIL_CALLS,u.bool,i64_new(e.hasFeature(128)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_REFERENCE_TYPES,u.bool,i64_new(e.hasFeature(256)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_MULTI_VALUE,u.bool,i64_new(e.hasFeature(512)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_GC,u.bool,i64_new(e.hasFeature(1024)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_MEMORY64,u.bool,i64_new(e.hasFeature(2048)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_FUNCTION_REFERENCES,u.bool,i64_new(e.hasFeature(4096)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_RELAXED_SIMD,u.bool,i64_new(e.hasFeature(8192)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_EXTENDED_CONST,u.bool,i64_new(e.hasFeature(16384)?1:0,0));var r=new Array,i=new Map,s=new Map,a=new Array,o=new Array;for(let p=0,c=this.sources.length;p<c;++p){let _=this.sources[p],f=new Sn(this,_);this.filesByName.set(f.internalName,f);let d=_.statements;for(let y=0,T=d.length;y<T;++y){let v=d[y];switch(v.kind){case 35:{this.initializeExports(v,f,i,s);break}case 36:{this.initializeExportDefault(v,f,a,o);break}case 42:{this.initializeImports(v,f,r,i);break}case 47:{this.initializeVariables(v,f);break}case 51:{this.initializeClass(v,f,a,o);break}case 52:{this.initializeEnum(v,f);break}case 55:{this.initializeFunction(v,f);break}case 57:{this.initializeInterface(v,f,a);break}case 59:{this.initializeNamespace(v,f,a,o);break}case 60:{this.initializeTypeDefinition(v,f);break}}}}for(let p=Map_keys(s),c=0,_=p.length;c<_;++c){let f=p[c],d=assert(s.get(f));for(let y=0,T=d.length;y<T;++y){let v=unchecked(d[y]),I=this.lookupForeignFile(v.foreignPath,v.foreignPathAlt);if(!I){this.error(6054,v.pathLiteral.range,v.pathLiteral.value);continue}f.ensureExportStar(I)}}do{let p=0,c=!1;for(;p<r.length;){let _=r[p],f=_.localIdentifier,d=_.foreignIdentifier,y=assert(this.lookupForeignFile(_.foreignPath,_.foreignPathAlt));if(d){let T=this.lookupForeign(d.text,y,i);T?(_.localFile.add(f.text,T,f),r.splice(p,1),c=!0):++p}else{let T=_.localFile,v=f.text;T.add(v,y.asAliasNamespace(v,T,f),f),r.splice(p,1),c=!0}}if(!c){for(let _=0,f=r.length;_<f;++_){let d=r[_],y=d.foreignIdentifier;y&&this.error(2305,y.range,d.foreignPath,y.text)}break}}while(!0);for(let p=Map_keys(i),c=0,_=p.length;c<_;++c){let f=unchecked(p[c]),d=assert(i.get(f));for(let y=Map_keys(d),T=0,v=y.length;T<v;++T){let I=unchecked(y[T]),S=assert(d.get(I)),R=S.localIdentifier.text,A=S.foreignPath;if(A){let P=assert(this.lookupForeignFile(A,assert(S.foreignPathAlt))),k=this.lookupForeign(R,P,i);k?f.ensureExport(I,k):this.error(2305,S.localIdentifier.range,A,R)}else{let P=f.getMember(R);if(P)f.ensureExport(I,P);else{let k=this.lookup(R);k&&xn(k.kind)?f.ensureExport(I,k):this.error(2305,S.foreignIdentifier.range,f.internalName,S.foreignIdentifier.text)}}}}assert(this.arrayBufferInstance.id==0),assert(this.stringInstance.id==1),assert(this.arrayBufferViewInstance.id==2),this.registerWrapperClass(u.i8,w.I8),this.registerWrapperClass(u.i16,w.I16),this.registerWrapperClass(u.i32,w.I32),this.registerWrapperClass(u.i64,w.I64),this.registerWrapperClass(e.isizeType,w.Isize),this.registerWrapperClass(u.u8,w.U8),this.registerWrapperClass(u.u16,w.U16),this.registerWrapperClass(u.u32,w.U32),this.registerWrapperClass(u.u64,w.U64),this.registerWrapperClass(e.usizeType,w.Usize),this.registerWrapperClass(u.bool,w.Bool),this.registerWrapperClass(u.f32,w.F32),this.registerWrapperClass(u.f64,w.F64),e.hasFeature(16)&&this.registerWrapperClass(u.v128,w.V128),e.hasFeature(256)&&(this.registerWrapperClass(u.funcref,w.Funcref),this.registerWrapperClass(u.externref,w.Externref),e.hasFeature(1024)&&(this.registerWrapperClass(u.anyref,w.Anyref),this.registerWrapperClass(u.eqref,w.Eqref),this.registerWrapperClass(u.i31ref,w.I31ref),this.registerWrapperClass(u.dataref,w.Dataref)));var l=this.resolver;for(let p=0,c=a.length;p<c;++p){let _=a[p],f=assert(_.extendsNode),d=l.resolveTypeName(f.name,_.parent);if(!!d)if(_.kind==J.CLASS_PROTOTYPE)if(d.kind==J.CLASS_PROTOTYPE){let y=d;y.hasDecorator(j.FINAL)&&this.error(211,f.range,y.identifierNode.text),y.hasDecorator(j.UNMANAGED)!=_.hasDecorator(j.UNMANAGED)&&this.error(207,se.join(_.identifierNode.range,f.range)),_.basePrototype=y}else this.error(1311,f.range);else _.kind==J.INTERFACE_PROTOTYPE&&(d.kind==J.INTERFACE_PROTOTYPE?_.basePrototype=d:this.error(2312,f.range))}for(let p=0,c=o.length;p<c;++p){let _=o[p],f=assert(_.implementsNodes);for(let d=0,y=f.length;d<y;++d){let T=f[d],v=l.resolveTypeName(T.name,_.parent);if(!!v)if(v.kind==J.INTERFACE_PROTOTYPE){let I=v,S=_.interfacePrototypes;S||(_.interfacePrototypes=S=new Array),S.push(I)}else this.error(2422,T.range)}}for(let p=0,c=a.length;p<c;++p){let _=a[p],f=_.basePrototype;f&&this.markVirtuals(_,f)}for(let p=0,c=o.length;p<c;++p){let _=o[p],f=_.basePrototype,d=_.interfacePrototypes;if(f&&this.markVirtuals(_,f),d)for(let y=0,T=d.length;y<T;++y)this.markVirtuals(_,d[y])}{let p=e.globalAliases;p||(p=new Map);let c=this.isWasi;p.has(w.abort)||p.set(w.abort,c?h.wasiAbort:h.abort),p.has(w.trace)||p.set(w.trace,c?h.wasiTrace:h.trace),p.has(w.seed)||p.set(w.seed,c?h.wasiSeed:h.seed),p.has(w.Math)||p.set(w.Math,w.NativeMath),p.has(w.Mathf)||p.set(w.Mathf,w.NativeMathf);for(let _=Map_keys(p),f=0,d=_.length;f<d;++f){let y=unchecked(_[f]),T=changetype(p.get(y));if(assert(T!=null),!T.length){this.elementsByName.delete(y);continue}let v=T.charCodeAt(0);if(v>=48&&v<=57)this.registerConstantInteger(y,u.i32,i64_new(parseInt(T,10)));else{let I=this.elementsByName;I.has(T)?I.set(y,assert(I.get(T))):this.error(111,null,T)}}}for(let p=Map_values(this.filesByName),c=0,_=p.length;c<_;++c){let f=unchecked(p[c]);f.source.sourceKind==1&&this.markModuleExports(f)}}}markVirtuals(e,r){var i=e.instanceMembers;if(i)do{let s=r.instanceMembers;if(s)for(let o=Map_values(i),l=0,p=o.length;l<p;++l){let c=o[l];if(!c.isAny(262656)&&s.has(c.name)){let _=assert(s.get(c.name));if(c.kind==J.FUNCTION_PROTOTYPE&&_.kind==J.FUNCTION_PROTOTYPE){let f=c,d=_;f.visibilityEquals(d)||this.errorRelated(2385,f.identifierNode.range,d.identifierNode.range),_.set(134217728);let y=d.overloads;y||(d.overloads=y=new Set),y.add(c);let T=d.instances;if(T)for(let v=Map_values(T),I=0,S=v.length;I<S;++I)v[I].set(134217728)}else if(c.kind==J.PROPERTY_PROTOTYPE&&_.kind==J.PROPERTY_PROTOTYPE){let f=c,d=_;f.visibilityEquals(d)||this.errorRelated(2385,f.identifierNode.range,d.identifierNode.range),d.set(134217728);let y=d.getterPrototype;if(y){y.set(134217728);let v=f.getterPrototype;if(v){let S=y.overloads;S||(y.overloads=S=new Set),S.add(v)}let I=y.instances;if(I)for(let S=Map_values(I),R=0,A=S.length;R<A;++R)S[R].set(134217728)}let T=d.setterPrototype;if(T&&f.setterPrototype){T.set(134217728);let v=f.setterPrototype;if(v){let S=T.overloads;S||(T.overloads=S=new Set),S.add(v)}let I=T.instances;if(I)for(let S=Map_values(I),R=0,A=S.length;R<A;++R)S[R].set(134217728)}}}}let a=r.basePrototype;if(!a)break;r=a}while(!0)}lookup(e){var r=this.elementsByName;return r.has(e)?assert(r.get(e)):null}require(e,r){var i=this.lookup(e);if(!i)throw new Error("Missing standard library component: "+e);if(i.kind!=r)throw Error("Invalid standard library component kind: "+e);return i}requireGlobal(e){return this.require(e,J.GLOBAL)}requireClass(e){var r=this.require(e,J.CLASS_PROTOTYPE),i=this.resolver.resolveClass(r,null);if(!i)throw new Error("Invalid standard library class: "+e);return i}requireFunction(e,r=null){var i=this.require(e,J.FUNCTION_PROTOTYPE),s=this.resolver.resolveFunction(i,r);if(!s)throw new Error("Invalid standard library function: "+e);return s}markModuleExports(e){var r=e.exports;if(r)for(let s=Map_values(r),a=0,o=s.length;a<o;++a){let l=unchecked(s[a]);this.markModuleExport(l)}var i=e.exportsStar;if(i)for(let s=0,a=i.length;s<a;++s)this.markModuleExports(i[s])}markModuleExport(e){switch(e.set(524288),e.kind){case J.CLASS_PROTOTYPE:{let i=e.instanceMembers;if(i)for(let s=Map_values(i),a=0,o=s.length;a<o;++a){let l=unchecked(s[a]);this.markModuleExport(l)}break}case J.PROPERTY_PROTOTYPE:{let i=e,s=i.getterPrototype;s&&this.markModuleExport(s);let a=i.setterPrototype;a&&this.markModuleExport(a);break}case J.PROPERTY:case J.FUNCTION:case J.FIELD:case J.CLASS:assert(!1)}var r=e.members;if(r)for(let i=Map_values(r),s=0,a=i.length;s<a;++s){let o=unchecked(i[s]);this.markModuleExport(o)}}markModuleImport(e,r,i){i.set(1048576);var s=this.moduleImports,a;s.has(e)?a=assert(s.get(e)):(a=new Map,s.set(e,a)),a.set(r,i)}registerNativeType(e,r){var i=new ct(e,this.nativeFile,this.makeNativeTypeDeclaration(e,2),j.BUILTIN);i.setType(r),this.nativeFile.add(e,i)}registerWrapperClass(e,r){var i=this.wrapperClasses;assert(!e.isInternalReference&&!i.has(e));var s=assert(this.lookup(r));assert(s.kind==J.CLASS_PROTOTYPE);var a=assert(this.resolver.resolveClass(s,null));a.wrappedType=e,i.set(e,a)}registerConstantInteger(e,r,i){assert(r.isIntegerInclReference);var s=new dr(e,this.nativeFile,j.NONE,this.makeNativeVariableDeclaration(e,10));s.setConstantIntegerValue(i,r),this.nativeFile.add(e,s)}registerConstantFloat(e,r,i){assert(r.isFloatValue);var s=new dr(e,this.nativeFile,j.NONE,this.makeNativeVariableDeclaration(e,10));s.setConstantFloatValue(i,r),this.nativeFile.add(e,s)}ensureGlobal(e,r){var i=this.elementsByName;if(i.has(e)){let s=assert(i.get(e));if(s!=r){let a=Zl(s,r);if(!a)return xn(s.kind)?this.errorRelated(2300,r.identifierNode.range,s.declaration.name.range,e):this.error(2300,r.identifierNode.range,e),r;r=a}}return i.set(e,r),r}lookupForeignFile(e,r){var i=this.filesByName;return i.has(e)?assert(i.get(e)):i.has(r)?assert(i.get(r)):null}lookupForeign(e,r,i){do{let a=r.lookupExport(e);if(a)return a;if(i.has(r)){let o=assert(i.get(r));if(o.has(e)){let l=assert(o.get(e)),p=l.foreignPath;if(p){let c=this.lookupForeignFile(p,assert(l.foreignPathAlt));if(!c)return null;e=l.localIdentifier.text,r=c;continue}if(a=r.getMember(l.localIdentifier.text),a)return a}}break}while(!0);var s=r.exportsStar;if(s)for(let a=0,o=s.length;a<o;++a){let l=this.lookupForeign(e,s[a],i);if(l)return l}return null}checkDecorators(e,r){var i=j.NONE;if(e)for(let s=0,a=e.length;s<a;++s){let o=e[s],l=Tt.fromNode(o.name),p=j.fromKind(l);p&&(p==j.BUILTIN?!(r&p)&&!o.range.source.isLibrary?this.error(212,o.range,o.name.range.toString()):i|=p:r&p?i&p?this.error(213,o.range):i|=p:this.error(212,o.range,o.name.range.toString()))}return i}initializeClass(e,r,i,s){var a=e.name.text,o=new An(a,r,e,this.checkDecorators(e.decorators,j.GLOBAL|j.FINAL|j.UNMANAGED));if(!r.add(a,o))return null;var l=e.implementsTypes;if(l){let c=l.length;c&&(o.hasDecorator(j.UNMANAGED)?this.error(208,se.join(e.name.range,l[c-1].range)):s.push(o))}e.extendsType&&i.push(o);var p=e.members;for(let c=0,_=p.length;c<_;++c){let f=p[c];switch(f.kind){case 54:{this.initializeField(f,o);break}case 58:{let d=f;if(f.isAny(6144))this.initializeProperty(d,o);else{let y=this.initializeMethod(d,o);y&&d.name.kind==26&&(o.constructorPrototype=y)}break}case 65:break;default:assert(!1)}}return o}initializeField(e,r){var i=e.name.text,s=e.decorators,a,o=j.UNSAFE;if(r.is(16384)&&(o|=j.EXTERNAL),e.is(32)){if(assert(r.kind!=J.INTERFACE_PROTOTYPE),o|=j.LAZY,e.is(64)&&(o|=j.INLINE),a=new dr(i,r,this.checkDecorators(s,o),e),!r.add(i,a))return}else if(assert(!e.isAny(6272)),a=new Ka(i,r,e,this.checkDecorators(s,o)),!r.addInstance(i,a))return}initializeMethod(e,r){var i=e.name.text,s=e.is(32),a=j.INLINE|j.UNSAFE;e.is(32768)||(a|=j.OPERATOR_BINARY|j.OPERATOR_PREFIX|j.OPERATOR_POSTFIX),r.is(16384)&&(a|=j.EXTERNAL);var o=new We(i,r,e,this.checkDecorators(e.decorators,a));if(s){if(assert(e.name.kind!=26),!r.add(i,o))return null}else if(!r.addInstance(i,o))return null;return this.checkOperatorOverloads(e.decorators,o,r),o}checkOperatorOverloads(e,r,i){if(e)for(let s=0,a=e.length;s<a;++s){let o=e[s];switch(o.decoratorKind){case 2:case 3:case 4:case 5:{let l=o.args,p=l?l.length:0;if(p==1){let c=o.args[0];if(c.isLiteralKind(2)){let _=c.value,f=Fe.fromDecorator(o.decoratorKind,_);if(f==0)this.error(224,c.range,_);else{let d=i.overloadPrototypes;d.has(f)?this.error(2393,c.range):(r.operatorKind=f,d.set(f,r))}}else this.error(1141,c.range)}else this.error(2554,o.range,"1",p.toString())}}}}ensureProperty(e,r){var i=e.name.text;if(e.is(32)){let s=r.members;if(s&&s.has(i)){let a=assert(s.get(i));if(a.kind==J.PROPERTY_PROTOTYPE)return a}else{let a=new Er(i,r,e);return r.add(i,a)?a:null}}else{let s=r.instanceMembers;if(s&&s.has(i)){let a=assert(s.get(i));if(a.kind==J.PROPERTY_PROTOTYPE)return a}else{let a=new Er(i,r,e);return r.addInstance(i,a)?a:null}}return this.error(2718,e.name.range,i),null}initializeProperty(e,r){var i=this.ensureProperty(e,r);if(!!i){var s=e.name.text,a=e.is(2048);if(a){if(i.getterPrototype){this.error(2718,e.name.range,s);return}}else if(i.setterPrototype){this.error(2718,e.name.range,s);return}var o=new We((a?is:ns)+s,i,e,this.checkDecorators(e.decorators,j.INLINE|j.UNSAFE));a?i.getterPrototype=o:i.setterPrototype=o}}initializeEnum(e,r){var i=e.name.text,s=new Ha(i,r,e,this.checkDecorators(e.decorators,j.GLOBAL|j.INLINE|j.LAZY));if(!r.add(i,s))return null;var a=e.values;for(let o=0,l=a.length;o<l;++o)this.initializeEnumValue(a[o],s);return s}initializeEnumValue(e,r){var i=e.name.text,s=new Xa(i,r,e,this.checkDecorators(e.decorators,j.NONE));r.add(i,s)}initializeExports(e,r,i,s){var a=e.members;if(a)for(let o=0,l=a.length;o<l;++o)this.initializeExport(a[o],r,e.internalPath,i);else{let o;s.has(r)?o=assert(s.get(r)):s.set(r,o=[]);let l=e.internalPath;o.push(new Kl(l,l.endsWith(Ce)?l.substring(0,l.length-Ce.length):l+Ce,assert(e.path)))}}initializeExport(e,r,i,s){var a=e.localName.text,o=e.exportedName.text,l=r.lookupExport(o);if(l){this.error(2484,e.exportedName.range,o);return}if(i==null)if(l=r.getMember(a))r.ensureExport(o,l);else{let p;s.has(r)?p=assert(s.get(r)):s.set(r,p=new Map),p.set(o,new Ya(e.localName,e.exportedName,null,null))}else{let p;s.has(r)?p=assert(s.get(r)):s.set(r,p=new Map),p.set(o,new Ya(e.localName,e.exportedName,i,i.endsWith(Ce)?i.substring(0,i.length-Ce.length):i+Ce))}}initializeExportDefault(e,r,i,s){var a=e.declaration,o=null;switch(a.kind){case 52:{o=this.initializeEnum(a,r);break}case 55:{o=this.initializeFunction(a,r);break}case 51:{o=this.initializeClass(a,r,i,s);break}case 57:{o=this.initializeInterface(a,r,i);break}case 59:{o=this.initializeNamespace(a,r,i,s);break}default:assert(!1)}if(o){let l=r.exports;if(!l)r.exports=l=new Map;else if(l.has("default")){let p=assert(l.get("default"));this.errorRelated(2300,a.name.range,p.declaration.name.range,"default");return}l.set("default",o)}}initializeImports(e,r,i,s){var a=e.declarations;if(a)for(let o=0,l=a.length;o<l;++o)this.initializeImport(a[o],r,e.internalPath,i,s);else{let o=e.namespaceName;o&&i.push(new Wa(r,o,null,e.internalPath,e.internalPath+Ce))}}initializeImport(e,r,i,s,a){var o=i.endsWith(Ce)?i.substring(0,i.length-Ce.length):i+Ce,l=this.lookupForeignFile(i,o);if(l){var p=this.lookupForeign(e.foreignName.text,l,a);if(p){r.add(e.name.text,p,e.name);return}}s.push(new Wa(r,e.name,e.foreignName,i,o))}initializeFunction(e,r){var i=e.name.text,s=j.UNSAFE|j.BUILTIN;e.is(16384)?s|=j.EXTERNAL|j.EXTERNAL_JS:(s|=j.INLINE,(e.range.source.isLibrary||e.is(2))&&(s|=j.LAZY)),e.is(131072)||r.kind!=J.CLASS_PROTOTYPE&&(s|=j.GLOBAL);var a=new We(i,r,e,this.checkDecorators(e.decorators,s));return r.add(i,a)?a:null}initializeInterface(e,r,i){var s=e.name.text,a=new qa(s,r,e,this.checkDecorators(e.decorators,j.GLOBAL));if(!r.add(s,a))return null;e.extendsType&&i.push(a);var o=e.members;for(let l=0,p=o.length;l<p;++l){let c=o[l];switch(c.kind){case 54:{this.initializeFieldAsProperty(c,a);break}case 58:{let _=c;c.isAny(6144)?this.initializeProperty(_,a):this.initializeMethod(_,a);break}default:assert(!1)}}return a}initializeFieldAsProperty(e,r){var i=e.type;i||(i=O.createOmittedType(e.name.range.atEnd)),this.initializeProperty(O.createMethodDeclaration(e.name,e.decorators,e.flags|2048,null,O.createFunctionType([],i,null,!1,e.range),null,e.range),r),e.is(64)||this.initializeProperty(O.createMethodDeclaration(e.name,e.decorators,e.flags|4096,null,O.createFunctionType([O.createParameter(0,e.name,i,null,e.name.range)],O.createOmittedType(e.name.range.atEnd),null,!1,e.range),null,e.range),r)}initializeNamespace(e,r,i,s){var a=e.name.text,o=new Rn(a,r,e,this.checkDecorators(e.decorators,j.GLOBAL));if(!r.add(a,o))return null;var l=assert(r.getMember(a)),p=e.members;for(let c=0,_=p.length;c<_;++c){let f=p[c];switch(f.kind){case 51:{this.initializeClass(f,o,i,s);break}case 52:{this.initializeEnum(f,o);break}case 55:{this.initializeFunction(f,o);break}case 57:{this.initializeInterface(f,o,i);break}case 59:{this.initializeNamespace(f,o,i,s);break}case 60:{this.initializeTypeDefinition(f,o);break}case 47:{this.initializeVariables(f,o);break}default:assert(!1)}}return o!=l&&It(o,l),l}initializeTypeDefinition(e,r){var i=e.name.text,s=new ct(i,r,e,this.checkDecorators(e.decorators,j.NONE));r.add(i,s)}initializeVariables(e,r){var i=e.declarations;for(let s=0,a=i.length;s<a;++s){let o=i[s],l=o.name.text,p=j.GLOBAL|j.LAZY;o.is(16384)&&(p|=j.EXTERNAL),o.is(8)&&(p|=j.INLINE);let c=new dr(l,r,this.checkDecorators(o.decorators,p),o);r.add(l,c)}}},J=(S=>(S[S.GLOBAL=0]="GLOBAL",S[S.LOCAL=1]="LOCAL",S[S.ENUM=2]="ENUM",S[S.ENUMVALUE=3]="ENUMVALUE",S[S.FUNCTION_PROTOTYPE=4]="FUNCTION_PROTOTYPE",S[S.FUNCTION=5]="FUNCTION",S[S.CLASS_PROTOTYPE=6]="CLASS_PROTOTYPE",S[S.CLASS=7]="CLASS",S[S.INTERFACE_PROTOTYPE=8]="INTERFACE_PROTOTYPE",S[S.INTERFACE=9]="INTERFACE",S[S.FIELD_PROTOTYPE=10]="FIELD_PROTOTYPE",S[S.FIELD=11]="FIELD",S[S.PROPERTY_PROTOTYPE=12]="PROPERTY_PROTOTYPE",S[S.PROPERTY=13]="PROPERTY",S[S.NAMESPACE=14]="NAMESPACE",S[S.FILE=15]="FILE",S[S.TYPEDEFINITION=16]="TYPEDEFINITION",S[S.INDEXSIGNATURE=17]="INDEXSIGNATURE",S))(J||{}),j=(d=>(d[d.NONE=0]="NONE",d[d.GLOBAL=1]="GLOBAL",d[d.OPERATOR_BINARY=2]="OPERATOR_BINARY",d[d.OPERATOR_PREFIX=4]="OPERATOR_PREFIX",d[d.OPERATOR_POSTFIX=8]="OPERATOR_POSTFIX",d[d.UNMANAGED=16]="UNMANAGED",d[d.FINAL=32]="FINAL",d[d.INLINE=64]="INLINE",d[d.EXTERNAL=128]="EXTERNAL",d[d.EXTERNAL_JS=256]="EXTERNAL_JS",d[d.BUILTIN=512]="BUILTIN",d[d.LAZY=1024]="LAZY",d[d.UNSAFE=2048]="UNSAFE",d))(j||{});(n=>{function t(e){switch(e){case 1:return 1;case 2:case 3:return 2;case 4:return 4;case 5:return 8;case 6:return 16;case 7:return 32;case 8:return 64;case 9:return 128;case 10:return 256;case 11:return 512;case 12:return 1024;case 13:return 2048;default:return 0}}n.fromKind=t})(j||={});var vn=class{constructor(n,e,r,i,s){this.kind=n;this.name=e;this.internalName=r;this.program=i;this.flags=0;this.decoratorFlags=0;this.members=null;this.shadowType=null;this.program=i,this.name=e,this.internalName=r,s?this.parent=s:(assert(this.kind==15),this.parent=this)}get file(){var n=this;do if(n=n.parent,n.kind==15)return n;while(!0)}is(n){return(this.flags&n)==n}isAny(n){return(this.flags&n)!=0}set(n){this.flags|=n}unset(n){this.flags&=~n}hasDecorator(n){return(this.decoratorFlags&n)==n}hasAnyDecorator(n){return(this.decoratorFlags&n)!=0}getMember(n){var e=this.members;return e&&e.has(n)?assert(e.get(n)):null}lookup(n,e=!1){return this.parent.lookup(n,e)}add(n,e,r=null){var i=e.declaration,s=this.members;if(!s)this.members=s=new Map;else if(s.has(n)){let o=assert(s.get(n));if(o.parent==this){let l=Zl(o,e);if(l)e=l;else{let p=r||e.identifierNode;return xn(o.kind)?this.program.errorRelated(2300,p.range,o.identifierNode.range,p.text):this.program.error(2300,p.range,p.text),!1}}}s.set(n,e);var a=this.program;return(e.kind!=4||!e.isBound)&&(a.elementsByName.set(e.internalName,e),a.elementsByDeclaration.set(i,e)),!0}get isPublic(){return!this.isAny(1536)}get isImplicitlyPublic(){return this.isPublic&&!this.is(256)}visibilityEquals(n){if(this.isPublic==n.isPublic)return!0;let e=1536;return(this.flags&e)==(n.flags&e)}toString(){return this.internalName+", kind="+this.kind.toString()}},Lc=new Set;function xn(t){return Lc.has(t)}var vt=class extends vn{constructor(e,r,i,s,a,o){super(e,r,i,s,a);this.declaration=o;Lc.add(e),this.declaration=o,this.flags=o.flags}get isDeclaredInLibrary(){return this.declaration.range.source.isLibrary}get identifierNode(){return this.declaration.name}get identifierAndSignatureRange(){var e=this.declaration,r=e.name;if(e.kind==55||e.kind==58){let i=e.signature;return se.join(r.range,i.range)}return r.range}get decoratorNodes(){return this.declaration.decorators}isCompatibleOverride(e){var r=this,i=r.kind;if(i==e.kind)switch(i){case 5:return r.signature.isAssignableTo(e.signature,!0);case 13:{let s=r,a=e,o=s.getterInstance,l=a.getterInstance;if(o){if(!l||!o.signature.isAssignableTo(l.signature,!0))return!1}else if(l)return!1;let p=s.setterInstance,c=a.setterInstance;if(p){if(!c||!p.signature.isAssignableTo(c.signature,!0))return!1}else if(c)return!1;return!0}}return!1}},Cc=new Set;function zo(t){return Cc.has(t)}var xt=class extends vt{constructor(e,r,i,s,a,o){super(e,r,i,s,a,o);this.type=u.void;Cc.add(e)}setType(e){assert(!this.is(2097152)),this.type=e,this.set(2097152)}},Sn=class extends vn{constructor(e,r){super(15,r.normalizedPath,r.internalPath,e,null);this.source=r;this.exports=null;this.exportsStar=null;this.aliasNamespaces=new Array;this.source=r,assert(!e.filesByName.has(this.internalName)),e.filesByName.set(this.internalName,this);var i=this.program.makeNativeFunction("start:"+this.internalName,new ge(e,null,u.void),this);i.internalName=i.name,this.startFunction=i}add(e,r,i=null){return r.hasDecorator(1)&&(r=this.program.ensureGlobal(e,r)),super.add(e,r,i)?(r=assert(this.getMember(e)),r.is(2)&&!i&&this.ensureExport(r.name,r),!0):!1}getMember(e){var r=super.getMember(e);if(r)return r;var i=this.exportsStar;if(i){for(let s=0,a=i.length;s<a;++s)if(r=i[s].getMember(e))return r}return null}lookup(e,r=!1){var i=this.getMember(e);return i||this.program.lookup(e)}ensureExport(e,r){var i=this.exports;i||(this.exports=i=new Map),i.set(e,r),this.source.sourceKind==3&&this.program.ensureGlobal(e,r);for(let s=0;s<this.aliasNamespaces.length;s++)this.aliasNamespaces[s].add(e,r)}ensureExportStar(e){var r=this.exportsStar;if(!r)this.exportsStar=r=[];else if(r.includes(e))return;r.push(e)}lookupExport(e){var r=this.exports;if(r&&r.has(e))return assert(r.get(e));var i=this.exportsStar;if(i)for(let s=0,a=i.length;s<a;++s){let o=i[s].lookupExport(e);if(o)return o}return null}asAliasNamespace(e,r,i){var s=this.program.makeNativeNamespaceDeclaration(e);s.name=i;var a=new Rn(e,r,s);return a.set(33554432),this.copyExportsToNamespace(a),this.aliasNamespaces.push(a),a}copyExportsToNamespace(e){var r=this.exports;if(r)for(let s=Map_keys(r),a=0,o=s.length;a<o;++a){let l=unchecked(s[a]),p=assert(r.get(l));e.add(l,p)}var i=this.exportsStar;if(i)for(let s=0,a=i.length;s<a;++s)i[s].copyExportsToNamespace(e)}},ct=class extends xt{constructor(n,e,r,i=0){super(16,n,Ie(n,e,!1),e.program,e,r),this.decoratorFlags=i}get typeParameterNodes(){return this.declaration.typeParameters}get typeNode(){return this.declaration.type}},Rn=class extends vt{constructor(n,e,r,i=0){super(14,n,Ie(n,e,!1),e.program,e,r),this.decoratorFlags=i}lookup(n,e=!1){var r=this.getMember(n);return r||super.lookup(n,e)}},Ha=class extends xt{constructor(n,e,r,i=0){super(2,n,Ie(n,e,!1),e.program,e,r),this.decoratorFlags=i,this.setType(u.i32)}lookup(n,e=!1){var r=this.getMember(n);return r||super.lookup(n,e)}},Ql=(r=>(r[r.NONE=0]="NONE",r[r.INTEGER=1]="INTEGER",r[r.FLOAT=2]="FLOAT",r))(Ql||{}),Wt=class extends xt{constructor(e,r,i,s=i.program.makeNativeVariableDeclaration(r)){super(e,r,Ie(r,i,s.is(131072)),i.program,i,s);this.constantValueKind=0;this.constantIntegerValue=i64_zero;this.constantFloatValue=0;this.flags=s.flags}get typeNode(){return this.declaration.type}get initializerNode(){return this.declaration.initializer}setConstantIntegerValue(e,r){assert(r.isIntegerInclReference),this.type=r,this.constantValueKind=1,this.constantIntegerValue=e,this.set(18874376)}setConstantFloatValue(e,r){assert(r.isFloatValue),this.type=r,this.constantValueKind=2,this.constantFloatValue=e,this.set(18874376)}},Xa=class extends Wt{constructor(e,r,i,s=0){super(3,e,r,i);this.isImmutable=!1;this.decoratorFlags=s,this.setType(u.i32)}get valueNode(){return this.declaration.initializer}},dr=class extends Wt{constructor(n,e,r,i=e.program.makeNativeVariableDeclaration(n)){super(0,n,e,i),this.decoratorFlags=r}},ql=class{constructor(n,e,r=null){this.name=n;this.type=e;this.initializer=r}},Oe=class extends Wt{constructor(e,r,i,s,a=s.program.makeNativeVariableDeclaration(e)){super(1,e,s,a);this.index=r;this.originalName=e,this.index=r,assert(i!=u.void),this.setType(i)}setTemporaryName(e){this.name=e,this.internalName=Ie(e,this.parent,!1)}resetTemporaryName(){var e=this.originalName;this.name=e,this.internalName=Ie(e,this.parent,!1)}},We=class extends vt{constructor(e,r,i,s=0){super(4,e,Ie(e,r,i.is(131072)),r.program,r,i);this.operatorKind=0;this.instances=null;this.overloads=null;this.boundPrototypes=null;this.decoratorFlags=s}get typeParameterNodes(){return this.declaration.typeParameters}get functionTypeNode(){return this.declaration.signature}get bodyNode(){return this.declaration.body}get arrowKind(){return this.declaration.arrowKind}get isBound(){var e=this.parent,r=e.kind;return r==12&&(r=e.parent.kind),r==7||r==9}toBound(e){assert(this.is(131072)),assert(!this.isBound);var r=this.boundPrototypes;if(!r)this.boundPrototypes=r=new Map;else if(r.has(e))return assert(r.get(e));var i=this.declaration;assert(i.kind==58);var s=new We(this.name,e,i,this.decoratorFlags);return s.flags=this.flags,s.operatorKind=this.operatorKind,s.overloads=this.overloads,r.set(e,s),s}getResolvedInstance(e){var r=this.instances;return r&&r.has(e)?assert(r.get(e)):null}setResolvedInstance(e,r){var i=this.instances;i?assert(!i.has(e)):this.instances=i=new Map,i.set(e,r)}},Xe=class extends xt{constructor(e,r,i,s,a=null){super(5,e,Ie(e,r.parent,r.is(131072)),r.program,r.parent,r.declaration);this.localsByName=new Map;this.localsByIndex=[];this.additionalLocals=[];this.debugLocations=[];this.ref=0;this.varargsStub=null;this.virtualStub=null;this.memorySegment=null;this.nextInlineId=0;this.nextAnonymousId=0;this.tempI32s=null;this.tempI64s=null;this.tempF32s=null;this.tempF64s=null;this.tempV128s=null;this.tempFuncrefs=null;this.tempExternrefs=null;this.tempAnyrefs=null;this.tempEqrefs=null;this.tempI31refs=null;this.tempDatarefs=null;this.nextBreakId=0;this.breakStack=null;this.breakLabel=null;this.prototype=r,this.typeArguments=i,this.signature=s,this.flags=r.flags|2097152,this.decoratorFlags=r.decoratorFlags,this.contextualTypeArguments=a,this.original=this;var o=r.program;if(this.type=s.type,!r.is(16384)){let l=0,p=s.thisType;if(p){let _=new Oe(w.this_,l++,p,this);this.localsByName.set(w.this_,_),this.localsByIndex[_.index]=_}let c=s.parameterTypes;for(let _=0,f=c.length;_<f;++_){let d=c[_],y=this.getParameterName(_),T=new Oe(y,l++,d,this);this.localsByName.set(y,T),this.localsByIndex[T.index]=T}}this.flow=Pe.createParent(this),Qa(o,this)}getParameterName(e){var r=this.declaration.signature.parameters;return r.length>e?r[e].name.text:Fc(e)}getClassOrInterface(){var e=this.parent;return e.kind==13&&(e=e.parent),e.kind==7||e.kind==9?e:null}newStub(e){var r=new Xe(this.original.name+Fo+e,this.prototype,this.typeArguments,this.signature.clone(),this.contextualTypeArguments);return r.original=this.original,r.set(this.flags&-4194305|67108864),r}addLocal(e,r=null,i=null){var s=this.signature.parameterTypes.length+this.additionalLocals.length;this.is(131072)&&++s;var a=r??"var$"+s.toString();i||(i=this.program.makeNativeVariableDeclaration(a));var o=new Oe(a,s,e,this,i);if(r){if(this.localsByName.has(r))throw new Error("duplicate local name");this.localsByName.set(r,o)}return this.localsByIndex[o.index]=o,this.additionalLocals.push(e),o}lookup(e,r=!1){if(!r){let i=this.localsByName;if(i.has(e))return assert(i.get(e))}return super.lookup(e,r)}finalize(e,r){this.ref=r;var i=this.breakStack;if(assert(!i||!i.length),this.breakStack=i=null,this.breakLabel=null,this.tempI32s=this.tempI64s=this.tempF32s=this.tempF64s=null,this.program.options.sourceMap){let s=this.debugLocations;for(let a=0,o=s.length;a<o;++a){let l=s[a],p=l.source;e.setDebugLocation(r,l.debugInfoRef,p.debugInfoIndex,p.lineAt(l.start),p.columnAt()-1)}}}},Ka=class extends vt{constructor(n,e,r,i=0){super(10,n,Ie(n,e,assert(r.is(131072))),e.program,e,r),this.decoratorFlags=i}get typeNode(){return this.declaration.type}get initializerNode(){return this.declaration.initializer}get parameterIndex(){return this.declaration.parameterIndex}},zi=class extends Wt{constructor(e,r,i){super(11,e.name,r,e.declaration);this.memoryOffset=-1;this.getterRef=0;this.setterRef=0;this._internalGetterName=null;this._internalSetterName=null;this._internalGetterSignature=null;this._internalSetterSignature=null;this.prototype=e,this.flags=e.flags,this.decoratorFlags=e.decoratorFlags,assert(i!=u.void),this.setType(i),Qa(this.program,this)}get thisType(){var e=this.parent;return assert(e.kind==7),e.type}get internalGetterName(){var e=this._internalGetterName;return e==null&&(this._internalGetterName=e=this.parent.internalName+Ci+is+this.name),e}get internalSetterName(){var e=this._internalSetterName;return e==null&&(this._internalSetterName=e=this.parent.internalName+Ci+ns+this.name),e}get internalGetterSignature(){var e=this._internalGetterSignature;return e||(this._internalGetterSignature=e=new ge(this.program,null,this.type,this.thisType)),e}get internalSetterSignature(){var e=this._internalSetterSignature;return e||(this._internalGetterSignature=e=new ge(this.program,[this.type],u.void,this.thisType)),e}},Er=class extends vt{constructor(e,r,i){super(12,e,Ie(e,r,i.is(131072)),r.program,r,i);this.getterPrototype=null;this.setterPrototype=null;this.instance=null;this.boundPrototypes=null;this.flags&=-6145}get isBound(){switch(this.parent.kind){case 7:case 9:return!0}return!1}toBound(e){assert(this.is(131072)),assert(!this.isBound);var r=this.boundPrototypes;if(!r)this.boundPrototypes=r=new Map;else if(r.has(e))return assert(r.get(e));var i=this.declaration;assert(i.kind==58);var s=new Er(this.name,e,i);s.flags=this.flags;var a=this.getterPrototype;a&&(s.getterPrototype=a.toBound(e));var o=this.setterPrototype;return o&&(s.setterPrototype=o.toBound(e)),r.set(e,s),s}},Wi=class extends Wt{constructor(e,r){super(13,e.name,r,O.createVariableDeclaration(e.identifierNode,null,e.is(131072)?131072:0,null,null,e.identifierNode.range));this.getterInstance=null;this.setterInstance=null;this.prototype=e,this.flags=e.flags,this.decoratorFlags=e.decoratorFlags,this.is(131072)&&Qa(this.program,this)}},Yi=class extends xt{constructor(n){super(17,"[]",n.internalName+"[]",n.program,n,n.program.makeNativeVariableDeclaration("[]"))}getGetterInstance(n){return this.parent.lookupOverload(1,n)}getSetterInstance(n){return this.parent.lookupOverload(2,n)}},An=class extends vt{constructor(e,r,i,s=0,a=!1){super(a?8:6,e,Ie(e,r,i.is(131072)),r.program,r,i);this.instanceMembers=null;this.basePrototype=null;this.interfacePrototypes=null;this.constructorPrototype=null;this.overloadPrototypes=new Map;this.instances=null;this.extendees=new Set;this.decoratorFlags=s}get typeParameterNodes(){return this.declaration.typeParameters}get extendsNode(){return this.declaration.extendsType}get implementsNodes(){return this.declaration.implementsTypes}get isBuiltinArray(){var e=this.program.arrayBufferViewInstance;return e&&this.extends(e.prototype)}extends(e){var r=this,i=new Set;do{if(i.has(r))break;if(i.add(r),r==e)return!0;r=r.basePrototype}while(r);return!1}addInstance(e,r){var i=r.declaration,s=this.instanceMembers;if(!s)this.instanceMembers=s=new Map;else if(s.has(e)){let a=assert(s.get(e)),o=Zl(a,r);if(!o)return xn(a.kind)?this.program.errorRelated(2300,r.identifierNode.range,a.declaration.name.range,r.identifierNode.text):this.program.error(2300,r.identifierNode.range,r.identifierNode.text),!1;r=o}return s.set(e,r),r.is(2)&&this.is(524288)&&r.set(524288),this.program.elementsByDeclaration.set(i,r),!0}getResolvedInstance(e){var r=this.instances;return r&&r.has(e)?r.get(e):null}setResolvedInstance(e,r){var i=this.instances;i?assert(!i.has(e)):this.instances=i=new Map,i.set(e,r)}},$r=class extends xt{constructor(e,r,i=null,s=!1){super(s?9:7,e,Ie(e,r.parent,r.is(131072)),r.program,r.parent,r.declaration);this.base=null;this.interfaces=null;this.contextualTypeArguments=null;this.nextMemoryOffset=0;this.constructorInstance=null;this.overloads=null;this.indexSignature=null;this._id=0;this.rttiFlags=0;this.wrappedType=null;this.extendees=null;this.implementers=null;this.didCheckFieldInitialization=!1;this.visitRef=0;var a=this.program;this.prototype=r,this.flags=r.flags,this.decoratorFlags=r.decoratorFlags,this.typeArguments=i;var o=a.options.usizeType,l=new u(o.kind,o.flags&-129|256,o.size);if(l.classReference=this,this.setType(l),!this.hasDecorator(16)){let c=a.nextClassId++;this._id=c,a.managedClasses.set(c,this)}var p=r.typeParameterNodes;if(i){let c=i.length;if(!p||c!=p.length)throw new Error("type argument count mismatch");if(c){let _=this.contextualTypeArguments;_||(this.contextualTypeArguments=_=new Map);for(let f=0;f<c;++f)_.set(p[f].name.text,i[f])}}else if(p&&p.length>0)throw new Error("type argument count mismatch");Qa(a,this)}get id(){return this._id}get isBuiltinArray(){return this.prototype.isBuiltinArray}get isArrayLike(){if(this.isBuiltinArray)return!0;var e=this.getMember("length");return e?(e.kind==11||e.kind==12&&e.getterPrototype!=null)&&(this.lookupOverload(1)!=null||this.lookupOverload(3)!=null):!1}setBase(e){assert(!this.base),this.base=e;var r=e.extendees;r||(e.extendees=r=new Set),r.add(this);var i=e.contextualTypeArguments;if(i){let s=this.contextualTypeArguments;for(let a=Map_keys(i),o=0,l=a.length;o<l;++o){let p=unchecked(a[o]),c=assert(i.get(p));s?s.has(p)||s.set(p,c):(this.contextualTypeArguments=s=new Map,s.set(p,c))}}}addInterface(e){var r=this.interfaces;r||(this.interfaces=r=new Set),r.add(e);var i=e.implementers;i||(e.implementers=i=new Set),i.add(this)}isAssignableTo(e){var r=this;do{if(r==e)return!0;if(e.kind==9){let i=r.interfaces;if(i){for(let s=Set_values(i),a=0,o=s.length;a<o;++a)if(s[a].isAssignableTo(e))return!0}}r=r.base}while(r);return!1}lookupOverload(e,r=!1){if(r)switch(e){case 1:{let s=this.lookupOverload(3);if(s)return s;break}case 2:{let s=this.lookupOverload(4);if(s)return s;break}default:assert(!1)}var i=this;do{let s=i.overloads;if(s!=null&&s.has(e))return assert(s.get(e));i=i.base}while(i);return null}getMethod(e,r=null){var i=this.getMember(e);return i&&i.kind==4?this.program.resolver.resolveFunction(i,r):null}offsetof(e){var r=assert(this.getMember(e));return assert(r.kind==11),r.memoryOffset}createBuffer(e=0){var r=this.program,i=this.nextMemoryOffset+e,s=r.computeBlockSize(i,!0),a=new Uint8Array(r.blockOverhead+s),o=r.OBJECTInstance;return o.writeField("mmInfo",s,a,0),o.writeField("gcInfo",0,a,0),o.writeField("gcInfo2",0,a,0),o.writeField("rtId",this.id,a,0),o.writeField("rtSize",i,a,0),a}writeField(e,r,i,s=this.program.totalOverhead){var a=this.getMember(e);if(a&&a.kind==11){let o=a,l=s+o.memoryOffset,p=o.type.kind;switch(p){case 0:case 5:return assert(!i64_is(r)),pe(i32(r),i,l),1;case 1:case 6:return assert(!i64_is(r)),wt(i32(r),i,l),2;case 2:case 7:return assert(!i64_is(r)),ce(i32(r),i,l),4;case 4:case 9:return this.program.options.isWasm64?(i64_is(r)?Ur(r,i,l):ts(i32(r),i,l,p==9),8):(i64_is(r)?xo(r,i,l,p==9):ce(i32(r),i,l),4);case 3:case 8:return i64_is(r)?Ur(r,i,l):ts(i32(r),i,l,p==8),8;case 11:return assert(!i64_is(r)),ir(f32(r),i,l),4;case 12:return assert(!i64_is(r)),nr(f64(r),i,l),8}}return assert(!1),0}extends(e){return this.prototype.extends(e)}getTypeArgumentsTo(e){var r=this;do{if(r.prototype==e)return r.typeArguments;r=r.base}while(r);return null}getArrayValueType(){var e=this,r=this.program,i=r.arrayPrototype;if(this.extends(i))return this.getTypeArgumentsTo(i)[0];var s=r.staticArrayPrototype;if(this.extends(s))return this.getTypeArgumentsTo(s)[0];for(var a=r.arrayBufferViewInstance;e.base!=a;)e=assert(e.base);var o=e.prototype;switch(o.name.charCodeAt(0)){case 70:{if(o==r.float32ArrayPrototype)return u.f32;if(o==r.float64ArrayPrototype)return u.f64;break}case 73:{if(o==r.int8ArrayPrototype)return u.i8;if(o==r.int16ArrayPrototype)return u.i16;if(o==r.int32ArrayPrototype)return u.i32;if(o==r.int64ArrayPrototype)return u.i64;break}case 85:{if(o==r.uint8ArrayPrototype)return u.u8;if(o==r.uint8ClampedArrayPrototype)return u.u8;if(o==r.uint16ArrayPrototype)return u.u16;if(o==r.uint32ArrayPrototype)return u.u32;if(o==r.uint64ArrayPrototype)return u.u64;break}}return assert(!1),u.void}get isPointerfree(){var e=this.program,r=this.members;if(r){for(let i=Map_values(r),s=0,a=i.length;s<a;++s){let o=unchecked(i[s]);if(o.kind==11&&o.type.isManaged)return!1}if(r.has(w.visit)){let i=this.prototype;if(i==e.arrayPrototype||i==e.staticArrayPrototype||i==e.setPrototype||i==e.mapPrototype){let s=assert(this.getTypeArgumentsTo(i));for(let a=0,o=s.length;a<o;++a)if(s[a].isManaged)return!1;return!0}return!1}}return!0}getAllExtendees(e=null,r=new Set){var i=this.extendees;if(i)for(let s=Set_values(i),a=0,o=s.length;a<o;++a){let l=s[a];if(e){let p=l.prototype.instanceMembers;if(p&&p.has(e))continue}r.add(l),l.getAllExtendees(e,r)}return r}},qa=class extends An{constructor(n,e,r,i){super(n,e,r,i,!0)}},Hi=class extends $r{constructor(n,e,r=null){super(n,e,r,!0)}};function Qa(t,n){assert(!t.instancesByName.has(n.internalName)),t.instancesByName.set(n.internalName,n)}function Zl(t,n){if(assert(t.program==n.program),n.members)return null;var e=null;switch(t.kind){case 4:{switch(n.kind){case 14:{It(n,t),e=t;break}case 16:{t.shadowType||(t.shadowType=n,It(n,t),e=t);break}}break}case 6:case 2:{if(n.kind==14){It(n,t),e=t;break}break}case 14:{switch(n.kind){case 2:case 6:case 4:{It(t,n),e=n;break}case 14:{It(n,t),e=t;break}case 16:{t.shadowType||(t.shadowType=n,It(n,t),e=t);break}}break}case 0:{n.kind==16&&(t.shadowType||(t.shadowType=n,It(n,t),e=t));break}case 16:{switch(n.kind){case 0:case 4:case 14:{n.shadowType||(n.shadowType=t,It(t,n),e=n);break}}break}}if(e){let r=t.is(2)||t.hasDecorator(1),i=n.is(2)||n.hasDecorator(1);r!=i&&t.program.error(2395,e.identifierNode.range,e.identifierNode.text)}return e}function It(t,n){var e=t.members;if(e){let r=n.members;r||(n.members=r=new Map);for(let i=Map_keys(e),s=0,a=i.length;s<a;++s){let o=unchecked(i[s]),l=assert(e.get(o));r.set(o,l)}}}function Ie(t,n,e,r=!1){switch(n.kind){case 15:return r?t:n.internalName+je+t;case 5:return r?t:(assert(!e),n.internalName+Co+t);case 12:case 13:n=n.parent;default:return Ie(n.name,n.parent,n.is(131072),r)+(e?Ci:Fi)+t}}var Xl=[];function Fc(t){for(let n=Xl.length;n<=t;++n)Xl.push("$"+n.toString());return Xl[t]}var Za=class extends pr{constructor(e){super(e.module);this.seenStores=!1;this.ptrType=e.options.sizeTypeRef}checkRT(){var e=this.module.readStringCached(ui(this.currentFunction));return e.startsWith("~lib/rt/")}visitStore(e){var r=this.module,i=fr(e),s=Ja(e),a=ja(e);Pa(e,r.call("~onstore",[i,r.i32(s),r.i32(a),r.i32(i32(this.checkRT()))],this.ptrType)),this.seenStores=!0}walkModule(){super.walkModule(),this.seenStores&&this.module.addFunctionImport("~onstore","rtrace","onstore",Be([this.ptrType,F.I32,F.I32,F.I32]),this.ptrType)}};function kc(t,n){return ot(n)==6&&t.readStringCached(ii(n))==h.tostack?(assert(Gt(n)==1),Vt(n,0)):0}function Pc(t,n){switch(ot(n)){case 14:return!be(n);case 8:case 9:return!1}return!0}var $a=class extends pr{constructor(e){super(e.module);this.slotMaps=new Map;this.tempMaps=new Map;this.exportMap=new Map;this.hasStackCheckFunction=!1;this.callSlotOffset=0;this.callSlotStack=new Array;this.compiler=e}get options(){return this.compiler.options}get ptrType(){return this.options.sizeTypeRef}get ptrSize(){return this.ptrType==F.I64?8:4}get ptrBinaryAdd(){return this.ptrType==F.I64?25:0}get ptrBinarySub(){return this.ptrType==F.I64?26:1}ptrConst(e){return this.ptrType==F.I64?this.module.i64(e):this.module.i32(e)}noteSlot(e,r){let i;if(this.slotMaps.has(e)){if(i=changetype(this.slotMaps.get(e)),i.has(r))return changetype(i.get(r))}else i=new Map,this.slotMaps.set(e,i);let s=i.size;return i.set(r,s),s}noteExport(e,r){!r.length||this.exportMap.set(e,r)}getSharedTemp(e,r){let i;if(this.tempMaps.has(e)){if(i=changetype(this.tempMaps.get(e)),i.has(r))return changetype(i.get(r))}else i=new Map,this.tempMaps.set(e,i);let a=Jl(e)+i.size;return i.set(r,a),a}makeStackOffset(e){assert(e!=0);var r=this.module,i=r.global_set(h.stack_pointer,r.binary(e>=0?this.ptrBinaryAdd:this.ptrBinarySub,r.global_get(h.stack_pointer,this.ptrType),this.ptrConst(abs(e))));return e>0?i:r.block(null,[i,this.makeStackCheck()],F.None)}makeStackFill(e,r){assert(e>0);var i=this.module;if(this.options.hasFeature(8)&&e>16)r.push(i.memory_fill(i.global_get(h.stack_pointer,this.ptrType),i.i32(0),this.ptrConst(e)));else{let s=e;for(;s>=8;)r.push(i.store(8,i.global_get(h.stack_pointer,this.ptrType),i.i64(0),F.I64,e-s)),s-=8;s&&(assert(s==4),r.push(i.store(4,i.global_get(h.stack_pointer,this.ptrType),i.i32(0),F.I32,e-s)))}}makeStackCheck(){var e=this.module;return this.hasStackCheckFunction||(this.hasStackCheckFunction=!0,e.addFunction("~stack_check",F.None,F.None,null,e.if(e.binary(17,e.global_get(h.stack_pointer,this.ptrType),e.global_get(h.data_end,this.ptrType)),this.compiler.makeStaticAbort(this.compiler.ensureStaticString("stack overflow"),this.compiler.program.nativeSource)))),e.call("~stack_check",null,F.None)}updateCallOperands(e){var r=this.module,i=0;for(let s=0,a=e.length;s<a;++s){let o=e[s],l=kc(r,o);if(!l)continue;if(!Pc(r,l)){e[s]=l;continue}let p=this.currentFunction,c=Jl(p),_=this.noteSlot(p,c+this.callSlotOffset+s),f=this.getSharedTemp(p,this.ptrType),d=new Array;d.push(r.local_set(f,l,!1)),d.push(r.store(this.ptrSize,r.global_get(h.stack_pointer,this.ptrType),r.local_get(f,this.ptrType),this.ptrType,_*this.ptrSize)),d.push(r.local_get(f,this.ptrType)),e[s]=r.block(null,d,this.ptrType),++i}return i}visitCallPre(e){var r=Gt(e),i=new Array(r);for(let a=0;a<r;++a)i[a]=Vt(e,a);let s=this.updateCallOperands(i);for(let a=0,o=i.length;a<o;++a)La(e,a,i[a]);s&&(this.callSlotOffset+=s),this.callSlotStack.push(s)}visitCall(e){let r=this.callSlotStack.pop();r&&(this.callSlotOffset-=r)}visitCallIndirectPre(e){let r=Ji(e),i=new Array(r);for(let a=0;a<r;++a)i[a]=$i(e,a);let s=this.updateCallOperands(i);for(let a=0,o=i.length;a<o;++a)Ca(e,a,i[a]);s&&(this.callSlotOffset+=s),this.callSlotStack.push(s)}visitCallIndirect(e){let r=this.callSlotStack.pop();r&&(this.callSlotOffset-=r)}visitLocalSet(e){let r=this.module,i=_r(e),s=kc(r,i);if(!s)return;if(!Pc(r,s)){Fa(e,s);return}let a=zt(e),o=this.noteSlot(this.currentFunction,a),l=new Array;l.push(r.store(this.ptrSize,r.global_get(h.stack_pointer,this.ptrType),r.local_tee(a,s,!1),this.ptrType,o*this.ptrSize)),eo(e)?(l.push(r.local_get(a,this.ptrType)),this.replaceCurrent(r.flatten(l,this.ptrType))):this.replaceCurrent(r.flatten(l,F.None))}updateFunction(e){let r=ui(e),i=Nn(e),s=Ln(e),a=assert(Dt(e)),o=to(e),l=new Array;for(let f=0;f<o;++f)l[f]=ro(e,f);let p=this.tempMaps;if(p.has(e)){let f=changetype(p.get(e));for(let d=Map_keys(f),y=0,T=d.length;y<T;++y)l.push(d[y])}let c=this.module.ref;Cn(c,r);let _=me(l);pi(c,r,i,s,_,l.length,a),ne(_)}updateExport(e,r){var i=this.module,s=i.ref;assert(Oc(e)==0);var a=Mc(e),o=i.readStringCached(a),l=wc(e),p=ci(s,a),c=Nn(p),_=eu(c),f=_.length,d=Ln(p),y=f,T=new Array,v=assert(r.length),I=v*this.ptrSize,S="export:"+o,R=i.allocStringCached(S);if(ci(s,R)==0){let A=new Array;A.push(this.makeStackOffset(-I));for(let W=0;W<v;++W)A.push(i.store(this.ptrSize,i.global_get(h.stack_pointer,this.ptrType),i.local_get(r[W],this.ptrType),this.ptrType,W*this.ptrSize));let P=new Array(f);for(let W=0;W<f;++W)P[W]=i.local_get(W,_[W]);if(d!=F.None){let W=y++;T.push(d),A.push(i.local_set(W,i.call(o,P,d),!1)),A.push(this.makeStackOffset(+I)),A.push(i.local_get(W,d))}else A.push(i.call(o,P,d)),A.push(this.makeStackOffset(+I));let k=me(T);pi(s,R,c,d,k,T.length,i.block(null,A,d)),ne(k)}so(s,l),io(s,R,l)}walkModule(){super.walkModule();var e=this.module,r=new jl(this);for(let s=Map_keys(this.slotMaps),a=0,o=s.length;a<o;++a){let l=s[a],c=changetype(this.slotMaps.get(l)).size*this.ptrSize;r.frameSize=c,r.walkFunction(l);let _=new Array;_.push(this.makeStackOffset(-c)),this.makeStackFill(c,_);let f=Dt(l),d=St(f);if(d==F.Unreachable)_.push(f);else if(d==F.None)_.push(f),_.push(this.makeStackOffset(+c));else{let y=this.getSharedTemp(l,d);_.push(e.local_set(y,f,!1)),_.push(this.makeStackOffset(+c)),_.push(e.local_get(y,d))}wa(l,e.flatten(_,d))}for(let s=Map_keys(this.tempMaps),a=0,o=s.length;a<o;++a)this.updateFunction(s[a]);var i=this.exportMap;for(let s=Map_keys(i),a=0,o=s.length;a<o;++a){let l=s[a],p=no(e.ref,e.allocStringCached(l)),c=changetype(i.get(l));this.updateExport(p,c)}}},jl=class extends pr{constructor(e){super(e.module);this.frameSize=0;this.parentPass=e}visitReturn(e){assert(this.frameSize);var r=this.module,i=hr(e),s=new Array;if(i){let a=St(i),o=this.parentPass.getSharedTemp(this.currentFunction,a);s.push(r.local_set(o,i,!1)),s.push(this.parentPass.makeStackOffset(+this.frameSize)),Oa(e,r.local_get(o,a))}else s.push(this.parentPass.makeStackOffset(+this.frameSize));s.push(e),this.replaceCurrent(r.flatten(s,F.Unreachable))}};var kn=class{constructor(){this.target=1;this.runtime=2;this.noAssert=!1;this.exportMemory=!0;this.importMemory=!1;this.initialMemory=0;this.maximumMemory=0;this.sharedMemory=!1;this.zeroFilledMemory=!1;this.importTable=!1;this.exportTable=!1;this.sourceMap=!1;this.exportStart=null;this.memoryBase=0;this.tableBase=0;this.globalAliases=null;this.features=15;this.noUnsafe=!1;this.pedantic=!1;this.lowMemoryLimit=0;this.exportRuntime=!1;this.stackSize=0;this.bundleMajorVersion=0;this.bundleMinorVersion=0;this.bundlePatchVersion=0;this.optimizeLevelHint=0;this.shrinkLevelHint=0;this.basenameHint="output"}get isWasm64(){return this.target==2}get usizeType(){return this.target==2?u.usize64:u.usize32}get isizeType(){return this.target==2?u.isize64:u.isize32}get sizeTypeRef(){return this.target==2?F.I64:F.I32}get willOptimize(){return this.optimizeLevelHint>0||this.shrinkLevelHint>0}hasFeature(n){return(this.features&n)!=0}},tu=(o=>(o[o.NONE=0]="NONE",o[o.CONV_IMPLICIT=1]="CONV_IMPLICIT",o[o.CONV_EXPLICIT=2]="CONV_EXPLICIT",o[o.MUST_WRAP=4]="MUST_WRAP",o[o.WILL_DROP=8]="WILL_DROP",o[o.PREFER_STATIC=16]="PREFER_STATIC",o[o.IS_THIS=32]="IS_THIS",o))(tu||{}),ru=(l=>(l[l.NONE=0]="NONE",l[l.DATA=1]="DATA",l[l.STACK=2]="STACK",l[l.HEAP=4]="HEAP",l[l.RTTI=8]="RTTI",l[l.visitGlobals=16]="visitGlobals",l[l.visitMembers=32]="visitMembers",l[l.setArgumentsLength=64]="setArgumentsLength",l))(ru||{}),Fn;(i=>(i.argumentsLength="__argumentsLength",i.setArgumentsLength="__setArgumentsLength",i.memory="memory",i.table="table"))(Fn||={});var Uc=["__new","__pin","__unpin","__collect"],Bc=["__rtti_base"],gr=class extends Ue{constructor(e){super(e.diagnostics);this.currentParent=null;this.currentType=u.void;this.memorySegments=[];this.stringSegments=new Map;this.functionTable=[];this.builtinArgumentsLength=0;this.runtimeFeatures=0;this.inlineStack=[];this.lazyFunctions=new Set;this.pendingClassInstanceOf=new Set;this.virtualStubs=new Set;this.pendingElements=new Set;this.doneModuleExports=new Set;this.hasCustomFunctionExports=!1;this.f32ModInstance=null;this.f64ModInstance=null;this.f32PowInstance=null;this.f64PowInstance=null;this.i32PowInstance=null;this.i64PowInstance=null;this._reusableCallExpression=null;this.program=e;var r=e.options,i=tt.create(r.stackSize>0,r.sizeTypeRef);this.module=i,r.memoryBase?(this.memoryOffset=i64_new(r.memoryBase),i.setLowMemoryUnused(!1)):!r.lowMemoryLimit&&r.optimizeLevelHint>=2?(this.memoryOffset=i64_new(1024),i.setLowMemoryUnused(!0)):(this.memoryOffset=i64_new(8),i.setLowMemoryUnused(!1));var s=0;r.hasFeature(1)&&(s|=32),r.hasFeature(2)&&(s|=2),r.hasFeature(4)&&(s|=4),r.hasFeature(8)&&(s|=16),r.hasFeature(16)&&(s|=8),r.hasFeature(32)&&(s|=1),r.hasFeature(64)&&(s|=64),r.hasFeature(128)&&(s|=128),r.hasFeature(256)&&(s|=256),r.hasFeature(512)&&(s|=512),r.hasFeature(1024)&&(s|=1024),r.hasFeature(2048)&&(s|=2048),r.hasFeature(4096)&&(s|=4096),r.hasFeature(8192)&&(s|=16384),r.hasFeature(16384)&&(s|=32768),i.setFeatures(s);var a=e.makeNativeFunction(h.start,new ge(e,[],u.void));a.internalName=h.start,this.currentFlow=a.flow,this.currentBody=new Array,this.shadowStack=new $a(this)}get resolver(){return this.program.resolver}get options(){return this.program.options}static compile(e){return new gr(e).compile()}compile(){var e=this.options,r=this.module,i=this.program,s=this.resolver,a=e.stackSize>0;this.program.initialize();var o=this.currentFlow.actualFunction;assert(o.internalName==h.start);var l=this.currentBody;assert(l.length==0),e.isWasm64?(r.addGlobal(h.data_end,F.I64,!0,r.i64(0)),r.addGlobal(h.heap_base,F.I64,!0,r.i64(0)),r.addGlobal(h.rtti_base,F.I64,!0,r.i64(0))):(r.addGlobal(h.data_end,F.I32,!0,r.i32(0)),r.addGlobal(h.heap_base,F.I32,!0,r.i32(0)),r.addGlobal(h.rtti_base,F.I32,!0,r.i32(0)));var p=i.filesByName;for(let U=Map_values(p),V=0,K=U.length;V<K;++V){let H=unchecked(U[V]);H.source.sourceKind==1&&(this.compileFile(H),this.compileModuleExports(H))}if(this.options.exportRuntime){for(let U=0,V=Uc.length;U<V;++U){let K=Uc[U],H=i.requireFunction(K);this.compileFunction(H)&&!r.hasExport(K)&&r.addFunctionExport(H.internalName,K)}for(let U=0,V=Bc.length;U<V;++U){let K=Bc[U],H=i.requireGlobal(K);this.compileGlobal(H)&&!r.hasExport(K)&&r.addGlobalExport(H.internalName,K)}}var c=this.lazyFunctions;do{let U=new Array;for(let V=Set_values(c),K=0,H=V.length;K<H;++K){let Z=unchecked(V[K]);U.push(Z)}c.clear();for(let V=0,K=U.length;V<K;++V)this.compileFunction(unchecked(U[V]),!0)}while(c.size);for(let U=Set_values(this.pendingClassInstanceOf),V=0,K=U.length;V<K;++V){let H=unchecked(U[V]);Wc(this,H)}var _=this.functionTable,f=this.virtualStubs;for(let U=0,V=_.length;U<V;++U){let K=_[U];K.is(134217728)?(assert(K.is(131072)),_[U]=this.ensureVirtualStub(K)):K.signature.requiredParameters<K.signature.parameterTypes.length&&(_[U]=this.ensureVarargsStub(K))}var d=new Set;do{s.discoveredOverload=!1;for(let U=Set_values(f),V=0,K=U.length;V<K;++V){let H=unchecked(U[V]),Z=s.resolveOverloads(H);if(Z)for(let le=0,ee=Z.length;le<ee;++le)this.compileFunction(Z[le]);d.add(H)}}while(f.size>d.size||s.discoveredOverload);d.clear();for(let U=Set_values(f),V=0,K=U.length;V<K;++V)this.finalizeVirtualStub(U[V]);r.removeGlobal(h.rtti_base),this.runtimeFeatures&8&&zc(this),this.runtimeFeatures&16&&Gc(this),this.runtimeFeatures&32&&Vc(this);var y=i64_align(this.memoryOffset,e.usizeType.byteSize);r.removeGlobal(h.data_end),((this.runtimeFeatures&1)!=0||a)&&(e.isWasm64?r.addGlobal(h.data_end,F.I64,!1,r.i64(i64_low(y),i64_high(y))):r.addGlobal(h.data_end,F.I32,!1,r.i32(i64_low(y)))),r.removeGlobal(h.stack_pointer),((this.runtimeFeatures&2)!=0||a)&&(y=i64_align(i64_add(y,i64_new(e.stackSize)),e.usizeType.byteSize),e.isWasm64?r.addGlobal(h.stack_pointer,F.I64,!0,r.i64(i64_low(y),i64_high(y))):r.addGlobal(h.stack_pointer,F.I32,!0,r.i32(i64_low(y)))),r.removeGlobal(h.heap_base),((this.runtimeFeatures&4)!=0||a)&&(e.isWasm64?r.addGlobal(h.heap_base,F.I64,!1,r.i64(i64_low(y),i64_high(y))):r.addGlobal(h.heap_base,F.I32,!1,r.i32(i64_low(y)))),this.memoryOffset=y;var T=this.options.lowMemoryLimit;if(T){let U=i64_new(T&-16);i64_gt(y,U)&&this.error(104,null,i64_to_string(y),i64_to_string(U))}var v=0;(this.options.memoryBase||this.memorySegments.length)&&(v=u32(i64_low(i64_shr_u(i64_align(y,65536),i64_new(16))))),e.initialMemory&&(e.initialMemory<v?this.error(105,null,v.toString()):v=e.initialMemory);var I=tt.UNLIMITED_MEMORY;e.maximumMemory&&(e.maximumMemory<v?this.error(106,null,v.toString()):I=e.maximumMemory);var S=!1;e.sharedMemory&&(S=!0,e.maximumMemory||(this.error(107,null),S=!1),e.hasFeature(32)||(this.error(108,null),S=!1)),r.setMemory(v,I,this.memorySegments,e.target,e.exportMemory?Fn.memory:null,S),e.importMemory&&r.addMemoryImport("0","env","memory",S),e.importTable&&(r.addTableImport("0","env","table"),e.pedantic&&e.willOptimize&&this.pedantic(901,null)),e.exportTable&&(r.addTableExport("0",Fn.table),e.pedantic&&e.willOptimize&&this.pedantic(902,null));var R=this.options.tableBase;R||(R=1);var A=new Array(_.length);for(let U=0,V=_.length;U<V;++U)A[U]=_[U].internalName;var P=R+_.length;r.addFunctionTable("0",P,e.importTable||e.exportTable?tt.UNLIMITED_TABLE:P,A,r.i32(R)),this.runtimeFeatures&64&&(r.addFunction(h.setArgumentsLength,F.I32,F.None,null,r.global_set(this.ensureArgumentsLength(),r.local_get(0,F.I32))),r.addFunctionExport(h.setArgumentsLength,Fn.setArgumentsLength));var k=!l.length,W=e.exportStart;if(i.isWasi&&!W&&(W=this.hasCustomFunctionExports?"_initialize":"_start"),!k||W!=null){let U=o.signature;!k&&W!=null&&(r.addGlobal(h.started,F.I32,!0,r.i32(0)),l.unshift(r.global_set(h.started,r.i32(1))),l.unshift(r.if(r.global_get(h.started,F.I32),r.return())));let V=r.addFunction(o.internalName,U.paramRefs,U.resultRefs,Kr(o.additionalLocals),r.flatten(l));o.finalize(r,V),W==null?r.setStart(V):!we(W)||r.hasExport(W)?this.error(110,this.program.nativeRange,W):r.addFunctionExport(o.internalName,W)}return a&&this.shadowStack.walkModule(),i.lookup("ASC_RTRACE")!=null&&new Za(this).walkModule(),r}compileModuleExports(e){var r=e.exports;if(r)for(let s=Map_keys(r),a=0,o=s.length;a<o;++a){let l=unchecked(s[a]),p=assert(r.get(l));this.compileModuleExport(l,p)}var i=e.exportsStar;if(i)for(let s=0,a=i.length;s<a;++s)this.compileModuleExports(i[s])}compileModuleExport(e,r,i=""){var s=this.module;switch(r.kind){case 4:{let a=r;if(!a.is(32768)){let o=this.resolver.resolveFunction(a,null);o&&this.compileModuleExport(e,o,i);return}break}case 5:{let a=r;if(!a.hasDecorator(512)){let o=a.signature;if(o.requiredParameters<o.parameterTypes.length&&(a=this.ensureVarargsStub(a),this.runtimeFeatures|=64),this.compileFunction(a),a.is(4194304)){let l=i+e;s.hasExport(l)||(s.addFunctionExport(a.internalName,l),this.hasCustomFunctionExports=!0,o.hasManagedOperands&&this.shadowStack.noteExport(l,o.getManagedOperandIndices()));return}}break}case 0:{let a=r;if(!(a.is(8)||a.is(96))&&!this.options.hasFeature(2)){this.warning(103,a.identifierNode.range,"mutable-globals");return}if(this.compileGlobal(a),a.is(4194304)){let l=i+e;s.hasExport(l)||s.addGlobalExport(r.internalName,l);return}break}case 2:{this.compileEnum(r);let a=r.members;if(a){let o=i+e+Fi;for(let l=Map_keys(a),p=0,c=l.length;p<c;++p){let _=unchecked(l[p]),f=assert(a.get(_));f.is(512)||this.compileModuleExport(_,f,o)}}return}case 3:{let a=r;if(!a.isImmutable&&!this.options.hasFeature(2)){this.error(103,a.identifierNode.range,"mutable-globals");return}if(a.is(4194304)){let o=i+e;s.hasExport(o)||s.addGlobalExport(r.internalName,o);return}break}}this.warning(235,r.identifierNode.range)}compileElement(e,r=!0){switch(e.kind){case 0:{this.compileGlobal(e);break}case 2:{this.compileEnum(e);break}case 4:{if(!e.is(32768)){let i=this.resolver.resolveFunction(e,null);i&&this.compileFunction(i)}break}case 6:{if(!e.is(32768)){let i=this.resolver.resolveClass(e,null);i&&this.compileClass(i)}break}case 12:{let i=this.resolver.resolveProperty(e);i&&this.compileProperty(i);break}case 8:case 14:case 16:case 3:case 17:break;default:assert(!1)}if(r){let i=e.members;if(i)for(let s=Map_values(i),a=0,o=s.length;a<o;++a){let l=unchecked(s[a]);this.compileElement(l)}}}compileFileByPath(e,r){var i,s=this.program.filesByName,a;if(s.has(e))i=assert(s.get(e));else if(s.has(a=e+Ce))i=assert(s.get(a));else{this.error(6054,r.range,e);return}this.compileFile(i)}compileFile(e){if(!e.is(4194304)){e.set(4194304);var r=e.startFunction,i=r.signature,s=this.currentBody,a=new Array;this.currentBody=a;var o=this.currentFlow,l=r.flow;this.currentFlow=l;for(let p=e.source.statements,c=0,_=p.length;c<_;++c)this.compileTopLevelStatement(p[c],a);if(this.currentFlow=o,this.currentBody=s,a.length){let p=this.module,c=r.localsByIndex,_=c.length,f=new Array(_);for(let d=0;d<_;++d)f[d]=c[d].type.toRef();p.addFunction(r.internalName,i.paramRefs,i.resultRefs,f,p.flatten(a)),s.push(p.call(r.internalName,null,F.None))}}}compileGlobal(e){if(e.is(4194304))return!e.is(8388608);e.set(4194304);var r=this.pendingElements;r.add(e);var i=this.module,s=0,a=e.typeNode,o=e.initializerNode;if(!e.is(2097152))if(a){let y=this.resolver.resolveType(a,e.parent);if(!y)return e.set(8388608),r.delete(e),!1;if(y==u.void)return this.error(1110,a.range),e.set(8388608),r.delete(e),!1;e.setType(y),this.checkTypeSupported(e.type,a)}else if(o){let y=this.currentFlow;if(e.hasDecorator(1024)&&(this.currentFlow=e.file.startFunction.flow),s=this.compileExpression(o,u.auto,20),this.currentFlow=y,this.currentType==u.void)return this.error(2322,o.range,this.currentType.toString(),"<auto>"),e.set(8388608),r.delete(e),!1;e.setType(this.currentType)}else return this.error(1110,e.identifierNode.range.atEnd),e.set(8388608),r.delete(e),!1;if(e.is(16384)&&e.hasDecorator(512)){let y=e.internalName;return y==h.data_end?this.runtimeFeatures|=1:y==h.stack_pointer?this.runtimeFeatures|=2:y==h.heap_base?this.runtimeFeatures|=4:y==h.rtti_base&&(this.runtimeFeatures|=8),r.delete(e),!0}var l=e.type,p=l.toRef(),c=e.is(8)||e.is(96),_=e.hasDecorator(64);if(e.is(16384))return c||this.options.hasFeature(2)?(Dc(e,e.declaration),this.program.markModuleImport(yr,Yt,e),i.addGlobalImport(e.internalName,yr,Yt,p,!c),r.delete(e),!0):(this.error(103,e.declaration.range,"mutable-globals"),e.set(8388608),r.delete(e),!1);var f=!1;if(o){if(!s){let y=this.currentFlow;e.hasDecorator(1024)&&(this.currentFlow=e.file.startFunction.flow),s=this.compileExpression(o,l,21),this.currentFlow=y}if(!i.isConstExpression(s))if(c){let y=i.runExpression(s,1);y?s=y:f=!0}else f=!0;if(f&&te(s)==10){let y=assert(dn(s));if(!su(i.getGlobal(y))){let T=this.program.elementsByName;T.has(y)&&assert(T.get(y)).is(16384)&&(f=!1)}}if(_)if(f)this.warning(206,o.range);else{switch(assert(te(s)==14),oe(s)){case F.I32:{e.constantValueKind=1,e.constantIntegerValue=i64_new(ie(s),0);break}case F.I64:{e.constantValueKind=1,e.constantIntegerValue=i64_new(ze(s),rt(s));break}case F.F32:{e.constantValueKind=2,e.constantFloatValue=Ke(s);break}case F.F64:{e.constantValueKind=2,e.constantFloatValue=qe(s);break}default:return assert(!1),e.set(8388608),r.delete(e),!1}e.set(16777216)}}else e.is(16777216)?s=this.compileInlineConstant(e,e.type,16):s=this.makeZero(l,e.declaration);var d=e.internalName;return f?(_&&this.error(212,bt(8,e.decoratorNodes).range,"inline"),i.addGlobal(d,p,!0,this.makeZero(l,e.declaration)),this.currentBody.push(i.global_set(d,s))):_||i.addGlobal(d,p,!c,s),r.delete(e),!0}compileEnum(e){if(e.is(4194304))return!e.is(8388608);e.set(4194304);var r=this.pendingElements;r.add(e);var i=this.module,s=this.currentParent;this.currentParent=e;var a=null,o=!1,l=e.is(8)||e.hasDecorator(64),p=e.members;if(p)for(let c=Map_values(p),_=0,f=c.length;_<f;++_){let d=unchecked(c[_]);if(d.kind!=3)continue;let y=!1,T=d,v=T.valueNode;T.set(4194304);let I=this.currentFlow;e.hasDecorator(1024)&&(this.currentFlow=e.file.startFunction.flow);let S;if(v){if(S=this.compileExpression(v,u.i32,1),te(S)!=14){let R=i.runExpression(S,1);R?S=R:(e.is(8)&&this.error(2474,v.range),y=!0)}}else if(a==null)S=i.i32(0);else if(o&&this.error(1061,T.identifierNode.range.atEnd),l){let R=i64_add(a.constantIntegerValue,i64_new(1));assert(!i64_high(R)),S=i.i32(i64_low(R))}else{S=i.binary(0,i.global_get(a.internalName,F.I32),i.i32(1));let R=i.runExpression(S,1);R?S=R:(e.is(8)&&this.error(2474,d.declaration.range),y=!0)}this.currentFlow=I,y?(i.addGlobal(T.internalName,F.I32,!0,i.i32(0)),this.currentBody.push(this.makeGlobalAssignment(T,S,u.i32,!1)),o=!0):(l?(T.setConstantIntegerValue(i64_new(ie(S)),u.i32),T.is(524288)&&i.addGlobal(T.internalName,F.I32,!1,S)):i.addGlobal(T.internalName,F.I32,!1,S),T.isImmutable=!0,o=!1),a=T}return this.currentParent=s,r.delete(e),!0}compileFunction(e,r=!1){if(e.is(4194304))return!e.is(8388608);if(!r){if(e.hasDecorator(512))return!0;if(e.hasDecorator(1024))return this.lazyFunctions.add(e),!0}var i=e.prototype.functionTypeNode.parameters,s=i.length;if(s>=2){let d=new Set;d.add(i[0].name.text);for(let y=1;y<s;y++){let T=i[y].name,v=T.text;d.has(v)?this.error(2300,T.range,v):d.add(v)}}e.set(4194304);var a=this.pendingElements;a.add(e);var o=this.currentType,l=this.module,p=e.signature,c=e.prototype.bodyNode,_=e.declaration;assert(_.kind==55||_.kind==58),this.checkSignatureSupported(e.signature,_.signature);var f;if(c){if(e.is(16384)&&this.error(1183,e.identifierNode.range),e.hasAnyDecorator(384)){let v=e.decoratorNodes,I;(I=bt(9,v))&&this.error(212,I.range,"external"),(I=bt(10,v))&&this.error(212,I.range,"external.js")}let d=this.currentFlow,y=e.flow;this.currentFlow=y;let T=new Array;this.compileFunctionBody(e,T)||T.push(l.unreachable()),this.currentFlow=d,f=l.addFunction(e.internalName,p.paramRefs,p.resultRefs,Kr(e.additionalLocals),l.flatten(T,e.signature.returnType.toRef()))}else e.is(16384)?(Dc(e,_),this.program.markModuleImport(yr,Yt,e),l.addFunctionImport(e.internalName,yr,Yt,p.paramRefs,p.resultRefs),f=l.getFunction(e.internalName)):e.is(128)||e.parent.kind==9?f=l.addFunction(e.internalName,p.paramRefs,p.resultRefs,null,l.unreachable()):(this.error(2391,e.identifierNode.range),f=0,e.set(8388608));return e.finalize(l,f),this.currentType=o,a.delete(e),!0}compileFunctionBody(e,r){var i=this.module,s=assert(e.prototype.bodyNode),a=e.signature.returnType,o=this.currentFlow,l=e.signature.thisType?assert(o.lookupLocal(w.this_)):null,p=r.length;if(s.kind==30)r=this.compileStatements(s.statements,!0,r);else{assert(s.kind==38),assert(e.prototype.arrowKind),assert(!e.isAny(268288));let c=this.compileExpression(s.expression,a,1);o.canOverflow(c,a)||o.set(2),o.isNonnull(c,a)&&o.set(4),r?r.push(c):r=[c],o.is(256)||(o.canOverflow(c,a)||o.set(2),o.isNonnull(c,a)&&o.set(4),o.set(257))}if(e.is(262144)){assert(e.is(131072)),l=assert(l);let c=assert(e.parent);assert(c.kind==7);let _=c;if(o.isAny(8256)||!o.is(256)){let f=new Array;f.push(this.makeConditionalAllocation(_,l.index)),this.makeFieldInitializationInConstructor(_,f);for(let d=r.length-1;d>=p;--d)r[d+1]=r[d];r[p]=i.flatten(f,F.None),o.is(16384)&&this.options.pedantic&&this.pedantic(905,e.identifierNode.range)}o.is(16384)&&!_.hasDecorator(32)&&this.error(231,_.identifierNode.range),o.is(256)||(r.push(i.local_get(l.index,this.options.sizeTypeRef)),o.set(261)),_.base&&!o.is(128)&&this.error(2377,e.prototype.declaration.range)}else if(a!=u.void&&!o.is(256))return this.error(2355,e.prototype.functionTypeNode.returnType.range),!1;return!0}compileClass(e){if(e.is(4194304))return!0;e.set(4194304);var r=e.prototype,i=r.members;if(i)for(let a=Map_values(i),o=0,l=a.length;o<l;++o){let p=unchecked(a[o]);switch(p.kind){case 0:{this.compileGlobal(p);break}case 4:{if(p.is(32768))break;let c=this.resolver.resolveFunction(p,null);if(!c)break;p=c}case 5:{this.compileFunction(p);break}case 12:{let c=this.resolver.resolveProperty(p);if(!c)break;p=c}case 13:{this.compileProperty(p);break}}}this.ensureConstructor(e,e.identifierNode),this.checkFieldInitialization(e);var s=e.members;if(s)for(let a=Map_values(s),o=0,l=a.length;o<l;++o){let p=unchecked(a[o]);switch(p.kind){case 4:{if(p.is(32768))break;let c=this.resolver.resolveFunction(p,null);if(!c)break;p=c}case 5:{this.compileFunction(p);break}case 11:{this.compileField(p);break}case 12:{let c=this.resolver.resolveProperty(p);if(!c)break;p=c}case 13:{this.compileProperty(p);break}}}return!0}compileField(e){return this.compileFieldGetter(e),this.compileFieldSetter(e),e.is(4194304)}compileFieldGetter(e){if(e.getterRef)return!0;var r=this.module,i=e.type,s=i.toRef(),a=this.options.sizeTypeRef;if(e.getterRef=r.addFunction(e.internalGetterName,a,s,null,r.load(i.byteSize,i.isSignedIntegerValue,r.local_get(0,a),s,e.memoryOffset)),e.setterRef)e.set(4194304);else{let o=e.typeNode;o&&this.checkTypeSupported(e.type,o)}return!0}compileFieldSetter(e){if(e.setterRef)return!0;var r=e.type,i=this.options.sizeTypeRef,s=r.toRef(),a=this.module,o=a.store(r.byteSize,a.local_get(0,i),a.local_get(1,s),s,e.memoryOffset);if(r.isManaged){let l=e.parent;if(assert(l.kind==7),l.type.isManaged){let p=this.program.linkInstance;this.compileFunction(p),o=a.block(null,[o,a.call(p.internalName,[a.local_get(0,i),a.local_get(1,s),a.i32(0)],F.None)],F.None)}}if(e.setterRef=a.addFunction(e.internalSetterName,Be([i,s]),F.None,null,o),e.getterRef)e.set(4194304);else{let l=e.typeNode;l&&this.checkTypeSupported(e.type,l)}return!0}compileProperty(e){return this.compilePropertyGetter(e),this.compilePropertySetter(e),e.is(4194304)}compilePropertyGetter(e){var r=e.getterInstance;if(r){let i=this.compileFunction(r),s=e.setterInstance;return r.is(4194304)&&(!s||s.is(4194304))&&e.set(4194304),i}return!1}compilePropertySetter(e){var r=e.setterInstance;if(r){let i=this.compileFunction(r),s=e.getterInstance;return s&&s.is(4194304)&&r.is(4194304)&&e.set(4194304),i}return!1}addAlignedMemorySegment(e,r=16){assert(Et(r));var i=i64_align(this.memoryOffset,r),s=new _i(e,i);return this.memorySegments.push(s),this.memoryOffset=i64_add(i,i64_new(e.length)),s}addRuntimeMemorySegment(e){var r=this.program.computeBlockStart64(this.memoryOffset),i=new _i(e,r);return this.memorySegments.push(i),this.memoryOffset=i64_add(r,i64_new(e.length)),i}ensureStaticString(e){var r=this.ensureStaticStringPtr(e);return this.currentType=this.program.stringInstance.type,this.module.usize(r)}ensureStaticStringPtr(e){var r=this.program,i=r.totalOverhead,s=assert(r.stringInstance),a,o=this.stringSegments;if(o.has(e))a=assert(o.get(e));else{let l=e.length,p=s.createBuffer(l<<1);for(let c=0;c<l;++c)wt(e.charCodeAt(c),p,i+(c<<1));a=this.addRuntimeMemorySegment(p),o.set(e,a)}return i64_add(a.offset,i64_new(i))}writeStaticBuffer(e,r,i,s){var a=s.length,o=i.byteSize,l=i.toRef();switch(l){case F.I32:{switch(o){case 1:{for(let p=0;p<a;++p){let c=s[p];assert(oe(c)==l),assert(te(c)==14),pe(ie(c),e,r),r+=1}break}case 2:{for(let p=0;p<a;++p){let c=s[p];assert(oe(c)==l),assert(te(c)==14),wt(ie(c),e,r),r+=2}break}case 4:{for(let p=0;p<a;++p){let c=s[p];assert(oe(c)==l),assert(te(c)==14),ce(ie(c),e,r),r+=4}break}default:assert(!1)}break}case F.I64:{for(let p=0;p<a;++p){let c=s[p];assert(oe(c)==l),assert(te(c)==14),Ur(i64_new(ze(c),rt(c)),e,r),r+=8}break}case F.F32:{for(let p=0;p<a;++p){let c=s[p];assert(oe(c)==l),assert(te(c)==14),ir(Ke(c),e,r),r+=4}break}case F.F64:{for(let p=0;p<a;++p){let c=s[p];assert(oe(c)==l),assert(te(c)==14),nr(qe(c),e,r),r+=8}break}case F.V128:{for(let p=0;p<a;++p){let c=s[p];assert(oe(c)==l),assert(te(c)==14),So(nu(c),e,r),r+=16}break}case F.None:break;default:assert(!1)}return r}addStaticBuffer(e,r,i=this.program.arrayBufferInstance.id){var s=this.program,a=s.arrayBufferInstance,o=a.createBuffer(r.length*e.byteSize);return this.program.OBJECTInstance.writeField("rtId",i,o,0),this.writeStaticBuffer(o,s.totalOverhead,e,r),this.addRuntimeMemorySegment(o)}addStaticArrayHeader(e,r,i=null){var s=this.program;i||(i=assert(this.resolver.resolveClass(this.program.arrayPrototype,[e])));var a=Mr(r.buffer,s.OBJECTInstance.offsetof("rtSize")),o=i32(a/e.byteSize),l=i64_add(r.offset,i64_new(s.totalOverhead)),p=i.createBuffer();return assert(i.writeField("buffer",l,p)),assert(i.writeField("dataStart",l,p)),assert(i.writeField("byteLength",a,p)),assert(i.writeField("length_",o,p)),this.addRuntimeMemorySegment(p)}ensureRuntimeFunction(e){assert(e.is(4194304)&&!e.is(67108864));var r=this.program,i=e.memorySegment;if(!i){let s=this.functionTable,a=this.options.tableBase;a||(a=1);let o=a+s.length;s.push(e);let l=assert(this.resolver.resolveClass(r.functionPrototype,[e.type])),p=l.createBuffer();assert(l.writeField("_index",o,p)),assert(l.writeField("_env",0,p)),e.memorySegment=i=this.addRuntimeMemorySegment(p)}return i64_add(i.offset,i64_new(r.totalOverhead))}compileTopLevelStatement(e,r){switch(e.kind){case 51:{let i=e.members;for(let s=0,a=i.length;s<a;++s)this.compileTopLevelStatement(i[s],r);break}case 52:{let i=this.program.getElementByDeclaration(e);i&&(assert(i.kind==2),i.hasDecorator(1024)||this.compileEnum(i));break}case 59:{let i=e,s=this.program.getElementByDeclaration(i);if(s){let a=this.currentParent;this.currentParent=s;let o=i.members;for(let l=0,p=o.length;l<p;++l)this.compileTopLevelStatement(o[l],r);this.currentParent=a}break}case 47:{let i=e.declarations;for(let s=0,a=i.length;s<a;++s){let o=this.program.getElementByDeclaration(i[s]);o&&(assert(o.kind==0),!o.is(16384)&&!o.hasDecorator(1024)&&this.compileGlobal(o))}break}case 54:{let i=this.program.getElementByDeclaration(e);i&&i.kind==0&&(i.hasDecorator(1024)||this.compileGlobal(i));break}case 35:{let i=e,s=i.internalPath;s!=null&&this.compileFileByPath(s,assert(i.path));break}case 36:{this.compileTopLevelStatement(e.declaration,r);break}case 42:{let i=e;this.compileFileByPath(i.internalPath,i.path);break}case 55:case 58:case 57:case 65:case 60:break;default:{let i=this.compileStatement(e);te(i)!=22&&r.push(i);break}}}compileStatement(e,r=!1){var i=this.module,s;switch(e.kind){case 30:{s=this.compileBlockStatement(e);break}case 31:{s=this.compileBreakStatement(e);break}case 32:{s=this.compileContinueStatement(e);break}case 33:{s=this.compileDoStatement(e);break}case 34:{s=this.compileEmptyStatement(e);break}case 38:{s=this.compileExpressionStatement(e);break}case 39:{s=this.compileForStatement(e);break}case 40:{s=this.compileForOfStatement(e);break}case 41:{s=this.compileIfStatement(e);break}case 43:{s=this.compileReturnStatement(e,r);break}case 44:{s=this.compileSwitchStatement(e);break}case 45:{s=this.compileThrowStatement(e);break}case 46:{s=this.compileTryStatement(e);break}case 47:{s=this.compileVariableStatement(e),s||(s=i.nop());break}case 48:{s=this.compileVoidStatement(e);break}case 49:{s=this.compileWhileStatement(e);break}case 60:{this.error(100,e.range,"Inner type alias"),s=i.unreachable();break}case 50:{s=i.nop();break}default:assert(!1),s=i.unreachable()}return this.options.sourceMap&&this.addDebugLocation(s,e.range),s}compileStatements(e,r=!1,i=null){var s=e.length;i||(i=new Array(s),i.length=0);var a=this.module,o=this.currentFlow;for(let l=0;l<s;++l){let p=this.compileStatement(e[l],r&&l==s-1);switch(te(p)){case 1:if(!En(p)){for(let c=0,_=yn(p);c<_;++c)i.push(gn(p,c));break}default:i.push(p);case 22:}if(o.isAny(272)){po(p)&&i.push(a.unreachable());break}}return i}compileBlockStatement(e){var r=e.statements,i=this.currentFlow,s=i.fork();this.currentFlow=s;var a=this.compileStatements(r);return s.freeScopedLocals(),i.inherit(s),this.currentFlow=i,this.module.flatten(a)}compileBreakStatement(e){var r=this.module,i=e.label;if(i)return this.error(100,i.range,"Break label"),r.unreachable();var s=this.currentFlow,a=s.breakLabel;return a==null?(this.error(1105,e.range),r.unreachable()):(s.freeScopedLocals(),s.set(16),r.br(a))}compileContinueStatement(e){var r=this.module,i=e.label;if(i)return this.error(100,i.range,"Continue label"),r.unreachable();var s=this.currentFlow,a=s.continueLabel;return a==null?(this.error(1104,e.range),r.unreachable()):(s.set(288),s.freeScopedLocals(),r.br(a))}compileDoStatement(e){return this.doCompileDoStatement(e,null)}doCompileDoStatement(e,r){var i=this.module,s=this.currentFlow,a=s.pushBreakLabel(),o=s.fork(!0);r&&o.unifyLocalFlags(r);var l=o.fork();this.currentFlow=o;var p="do-break|"+a;o.breakLabel=p;var c="do-continue|"+a;o.continueLabel=c;var _="do-loop|"+a,f=o.fork();this.currentFlow=f;var d=new Array,y=e.statement;y.kind==30?this.compileStatements(y.statements,!1,d):d.push(this.compileStatement(y));var T=f.isAny(4128);if(f.isAny(272)&&!T)d.push(i.unreachable()),o.inherit(f);else{let I=o.fork();this.currentFlow=I;let S=this.makeIsTrueish(this.compileExpression(e.condition,u.i32),this.currentType,e.condition),R=this.evaluateCondition(S);if(T&&(d=[i.block(c,d)]),R==2)d.push(i.drop(S)),o.inherit(f);else if(R==1&&!f.isAny(2064))d.push(i.drop(S)),d.push(i.br(_)),o.set(256);else if(d.push(i.br(_,S)),o.inherit(I),Pe.hasIncompatibleLocalStates(l,o))return s.popBreakLabel(),this.currentFlow=s,this.doCompileDoStatement(e,o)}assert(!o.hasScopedLocals),s.inherit(o),s.popBreakLabel(),this.currentFlow=s;var v=i.block(p,[i.loop(_,i.flatten(d))]);return s.is(256)&&(v=i.block(null,[v,i.unreachable()])),v}compileEmptyStatement(e){return this.module.nop()}compileExpressionStatement(e){return this.compileExpression(e.expression,u.void,1)}compileForStatement(e){return this.doCompileForStatement(e,null)}doCompileForStatement(e,r){var i=this.module,s=this.currentFlow,a=s.pushBreakLabel(),o=new Array,l=s.fork(!0);this.currentFlow=l;var p="for-break"+a;l.breakLabel=p;var c="for-continue|"+a;l.continueLabel=c;var _="for-loop|"+a,f=e.initializer;f&&(assert(f.kind==38||f.kind==47),o.push(this.compileStatement(f))),r&&l.unifyLocalFlags(r);var d=l.fork(),y=l.fork();this.currentFlow=y;var T,v,I=e.condition;if(I){if(T=this.makeIsTrueish(this.compileExpression(I,u.bool),this.currentType,I),v=this.evaluateCondition(T),v==2)return o.push(i.drop(T)),y.freeScopedLocals(),l.inherit(y),l.freeScopedLocals(),s.inherit(l),s.popBreakLabel(),this.currentFlow=s,i.flatten(o)}else T=i.i32(1),v=1;var S=l.getTempLocal(u.bool),R=new Array;R.push(i.local_set(S.index,T,!1)),y.freeScopedLocals(),l.inherit(y),this.currentFlow=l;var A=l.fork();A.inheritNonnullIfTrue(T),this.currentFlow=A;var P=new Array,k=e.statement;k.kind==30?this.compileStatements(k.statements,!1,P):P.push(this.compileStatement(k)),A.isAny(272)&&P.push(i.unreachable()),v==1?l.inherit(A):l.inheritBranch(A),A.freeScopedLocals();var W=new Array;if(W.push(i.block(c,P)),!A.is(256)||A.isAny(4128)){let U=e.incrementor;if(U){let V=l.fork();this.currentFlow=V,W.push(this.compileExpression(U,u.void,9)),V.freeScopedLocals(),l.inherit(V),this.currentFlow=l}if(W.push(i.br(_)),Pe.hasIncompatibleLocalStates(d,l))return assert(!A.hasScopedLocals),l.freeScopedLocals(),s.popBreakLabel(),this.currentFlow=s,this.doCompileForStatement(e,l)}return R.push(i.if(i.local_get(S.index,F.I32),i.flatten(W))),o.push(i.block(p,[i.loop(_,i.flatten(R))])),l.freeTempLocal(S),this.currentFlow=l,l.freeScopedLocals(),s.inherit(l),s.popBreakLabel(),s.is(256)&&o.push(i.unreachable()),this.currentFlow=s,i.flatten(o)}compileForOfStatement(e){return this.error(100,e.range,"Iterators"),this.module.unreachable()}compileIfStatement(e){var r=this.module,i=e.ifTrue,s=e.ifFalse,a=this.makeIsTrueish(this.compileExpression(e.condition,u.bool),this.currentType,e.condition),o=this.evaluateCondition(a);switch(o){case 1:return r.block(null,[r.drop(a),this.compileStatement(i)]);case 2:return s?r.block(null,[r.drop(a),this.compileStatement(s)]):r.drop(a)}var l=this.currentFlow,p=new Array,c=l.fork();this.currentFlow=c,c.inheritNonnullIfTrue(a),i.kind==30?this.compileStatements(i.statements,!1,p):p.push(this.compileStatement(i));var _=c.isAny(272);if(_&&p.push(r.unreachable()),c.freeScopedLocals(),this.currentFlow=l,s){let f=new Array,d=l.fork();return this.currentFlow=d,d.inheritNonnullIfFalse(a),s.kind==30?this.compileStatements(s.statements,!1,f):f.push(this.compileStatement(s)),d.isAny(272)&&f.push(r.unreachable()),d.freeScopedLocals(),this.currentFlow=l,l.inheritMutual(c,d),r.if(a,r.flatten(p),r.flatten(f))}else return l.inheritBranch(c),l.inheritNonnullIfFalse(a,c.isAny(272)?null:c),r.if(a,r.flatten(p))}compileReturnStatement(e,r){var i=this.module,s=0,a=this.currentFlow,o=a.returnType,l=e.value;if(l){let p=1;a.actualFunction.is(524288)&&(p|=4),s=this.compileExpression(l,o,p),a.canOverflow(s,o)||a.set(2),a.isNonnull(s,o)&&a.set(4),a.actualFunction.is(262144)&&l.kind!=24&&a.set(16384)}else if(o!=u.void)return this.error(2322,e.range,"void",o.toString()),this.currentType=o,i.unreachable();return a.freeScopedLocals(),a.set(257),a.isInline?s?r?s:this.currentType==u.void?i.block(null,[s,i.br(assert(a.inlineReturnLabel))]):i.br(assert(a.inlineReturnLabel),0,s):r?i.nop():i.br(assert(a.inlineReturnLabel)):s?r?s:this.currentType==u.void?i.block(null,[s,i.return()]):i.return(s):r?i.nop():i.return()}compileSwitchStatement(e){var r=this.module,i=e.cases,s=i.length;if(!s)return this.compileExpression(e.condition,u.void,1);var a=this.currentFlow,o=a.pushBreakLabel(),l=a.getTempLocal(u.u32),p=l.index,c=new Array(1+s);c[0]=r.local_set(p,this.compileExpression(e.condition,u.u32,1),!1);var _=1,f=-1;for(let v=0;v<s;++v){let S=i[v].label;S?c[_++]=r.br("case"+v.toString()+"|"+o,r.binary(15,r.local_get(p,F.I32),this.compileExpression(S,u.u32,1))):f=v}a.freeTempLocal(l),c[_]=r.br((f>=0?"case"+f.toString():"break")+"|"+o);var d=r.block("case0|"+o,c,F.None),y=511,T=0;for(let v=0;v<s;++v){let S=i[v].statements,R=S.length,A=a.fork();this.currentFlow=A;let P="break|"+o;A.breakLabel=P;let k=v==s-1,W=k?P:"case"+(v+1).toString()+"|"+o,U=new Array(1+R);U[0]=d;let V=1,K=!1;for(let H=0;H<R;++H){let Z=this.compileStatement(S[H]);if(te(Z)!=22&&(U[V++]=Z),A.isAny(272)){A.is(256)&&(K=!0);break}}U.length=V,(K||k||A.isAny(2064))&&(y&=A.flags),T|=A.deriveConditionalFlags(),A.unset(2064),A.freeScopedLocals(),this.currentFlow=a,d=r.block(W,U,F.None)}return a.popBreakLabel(),f>=0&&(a.flags|=y&-17),a.flags|=T&-2049,d}compileThrowStatement(e){var r=this.currentFlow;r.set(264);var i=new Array,s=e.value,a=null;if(s.kind==17){let o=s.args;o.length&&(a=o[0])}return i.push(this.makeAbort(a,e)),r.freeScopedLocals(),this.module.flatten(i)}compileTryStatement(e){return this.error(100,e.range,"Exceptions"),this.module.unreachable()}compileVariableStatement(e){var r=this.module,i=e.declarations,s=i.length,a=this.currentFlow,o=new Array,l=this.resolver;for(let p=0;p<s;++p){let c=i[p],_=c.name.text,f=null,d=0,y=c.type,T=c.initializer;if(y){if(f=l.resolveType(y,a.actualFunction,re(a.contextualTypeArguments)),!f)continue;if(this.checkTypeSupported(f,y),T){let S=this.pendingElements,R=a.addScopedDummyLocal(_,f,e);S.add(R),d=this.compileExpression(T,f,1),S.delete(R),a.freeScopedDummyLocal(_)}}else if(T){let S=this.pendingElements,R=a.addScopedDummyLocal(_,u.auto,e);if(S.add(R),d=this.compileExpression(T,u.auto),S.delete(R),a.freeScopedDummyLocal(_),this.currentType==u.void){this.error(2322,c.range,this.currentType.toString(),"<auto>");continue}f=this.currentType}else{this.error(1110,c.name.range.atEnd);continue}let v=c.is(8),I=!1;if(v)if(d){let S=r.runExpression(d,1);if(S){d=S;let R=null;switch(oe(d)){case F.I32:{R=new Oe(_,-1,f,a.parentFunction),R.setConstantIntegerValue(i64_new(ie(d),0),f);break}case F.I64:{R=new Oe(_,-1,f,a.parentFunction),R.setConstantIntegerValue(i64_new(ze(d),rt(d)),f);break}case F.F32:{R=new Oe(_,-1,f,a.parentFunction),R.setConstantFloatValue(Ke(d),f);break}case F.F64:{R=new Oe(_,-1,f,a.parentFunction),R.setConstantFloatValue(qe(d),f);break}}if(R){let A=a.scopedLocals;if(!A)a.scopedLocals=A=new Map;else if(A.has(_)){let P=assert(A.get(_));return this.errorRelated(2300,c.name.range,P.declaration.name.range,_),this.module.unreachable()}A.set(_,R),I=!0}}}else this.error(1155,c.range);if(!I){let S;if(c.isAny(24)||a.isInline){let R=a.getScopedLocal(_);R?(R.declaration.range.source.isNative?this.error(2300,c.name.range,_):this.errorRelated(2300,c.name.range,R.declaration.name.range,_),S=R):S=a.addScopedLocal(_,f),v&&a.setLocalFlag(S.index,1)}else{let R=a.lookupLocal(_);if(R){this.errorRelated(2300,c.name.range,R.declaration.name.range,_);continue}S=a.parentFunction.addLocal(f,_,c),v&&a.setLocalFlag(S.index,1)}d?o.push(this.makeLocalAssignment(S,d,f,!1)):S.type.isShortIntegerValue&&a.setLocalFlag(S.index,2)}}return this.currentType=u.void,o.length==0?0:r.flatten(o)}compileVoidStatement(e){return this.compileExpression(e.expression,u.void,10)}compileWhileStatement(e){return this.doCompileWhileStatement(e,null)}doCompileWhileStatement(e,r){var i=this.module,s=this.currentFlow,a=s.pushBreakLabel(),o=new Array,l=s.fork(!0);r&&l.unifyLocalFlags(r);var p=l.fork();this.currentFlow=l;var c="while-break|"+a;l.breakLabel=c;var _="while-continue|"+a;l.continueLabel=_;var f=l.fork();this.currentFlow=f;var d=this.makeIsTrueish(this.compileExpression(e.condition,u.bool),this.currentType,e.condition),y=this.evaluateCondition(d);if(y==2)return o.push(i.drop(d)),assert(!l.hasScopedLocals),s.popBreakLabel(),this.currentFlow=s,i.flatten(o);var T=l.getTempLocal(u.bool);o.push(i.local_set(T.index,d,!1)),f.freeScopedLocals(),l.inherit(f),this.currentFlow=l;var v=l.fork();v.inheritNonnullIfTrue(d),this.currentFlow=v;var I=new Array,S=e.statement;if(S.kind==30?this.compileStatements(S.statements,!1,I):I.push(this.compileStatement(S)),v.is(256))I.push(i.unreachable()),y==1?l.inherit(v):l.inheritBranch(v);else if(y==1&&!v.isAny(2064))I.push(i.br(_)),l.set(256);else{let A=v.is(16);if(A?I.push(i.unreachable()):I.push(i.br(_)),y==1?l.inherit(v):l.inheritBranch(v),!A&&Pe.hasIncompatibleLocalStates(p,l))return l.freeTempLocal(T),s.popBreakLabel(),this.currentFlow=s,this.doCompileWhileStatement(e,l)}o.push(i.if(i.local_get(T.index,F.I32),i.flatten(I))),l.freeTempLocal(T),this.currentFlow=l,assert(!l.hasScopedLocals),s.inherit(l),s.popBreakLabel(),this.currentFlow=s;var R=i.block(c,[i.loop(_,i.flatten(o))]);return y==1&&s.is(256)&&(R=i.block(null,[R,i.unreachable()])),R}compileInlineConstant(e,r,i){assert(e.is(18874368));var s=e.type;switch(this.currentType=s,s.kind){case 10:return this.module.i32(e.constantValueKind==1?i64_ne(e.constantIntegerValue,i64_zero):0);case 0:case 1:{let a=s.computeSmallIntegerShift(u.i32);return this.module.i32(e.constantValueKind==1?i64_low(e.constantIntegerValue)<<a>>a:0)}case 5:case 6:{let a=e.type.computeSmallIntegerMask(u.i32);return this.module.i32(e.constantValueKind==1?i64_low(e.constantIntegerValue)&a:0)}case 2:case 7:return this.module.i32(e.constantValueKind==1?i64_low(e.constantIntegerValue):0);case 4:case 9:if(!e.program.options.isWasm64)return this.module.i32(e.constantValueKind==1?i64_low(e.constantIntegerValue):0);case 3:case 8:return e.constantValueKind==1?this.module.i64(i64_low(e.constantIntegerValue),i64_high(e.constantIntegerValue)):this.module.i64(0);case 12:{if(!(e.hasDecorator(512)&&r==u.f32))return this.module.f64(e.constantFloatValue);this.currentType=u.f32}case 11:return this.module.f32(e.constantFloatValue);default:return assert(!1),this.module.unreachable()}}compileExpression(e,r,i=0){for(;e.kind==20;)e=e.expression;this.currentType=r,r==u.void&&(i|=8);var s;switch(e.kind){case 7:{s=this.compileAssertionExpression(e,r,i);break}case 8:{s=this.compileBinaryExpression(e,r,i);break}case 9:{s=this.compileCallExpression(e,r,i);break}case 11:{s=this.compileCommaExpression(e,r,i);break}case 12:{s=this.compileElementAccessExpression(e,r,i);break}case 14:{s=this.compileFunctionExpression(e,r,i);break}case 6:case 13:case 18:case 24:case 23:case 25:{s=this.compileIdentifierExpression(e,r,i);break}case 15:{s=this.compileInstanceOfExpression(e,r,i);break}case 16:{s=this.compileLiteralExpression(e,r,i);break}case 17:{s=this.compileNewExpression(e,r,i);break}case 21:{s=this.compilePropertyAccessExpression(e,r,i);break}case 22:{s=this.compileTernaryExpression(e,r,i);break}case 27:{s=this.compileUnaryPostfixExpression(e,r,i);break}case 28:{s=this.compileUnaryPrefixExpression(e,r,i);break}case 29:{let l=e;s=l.expr,this.currentType=l.type;break}case 10:{this.error(100,e.range,"Block-scoped class declarations or expressions"),s=this.module.unreachable();break}default:assert(!1),s=this.module.unreachable()}var a=this.currentType,o=(i&4)!=0;return a!=r.nonNullableType&&(i&2?(s=this.convertExpression(s,a,r,!0,e),this.currentType=a=r):i&1&&(s=this.convertExpression(s,a,r,!1,e),this.currentType=a=r)),o&&(s=this.ensureSmallIntegerWrap(s,a)),this.options.sourceMap&&this.addDebugLocation(s,e.range),s}convertExpression(e,r,i,s,a){var o=this.module;if(r.kind==20)return assert(i.kind!=20),this.error(2322,a.range,r.toString(),i.toString()),o.unreachable();if(i.kind==20)return o.drop(e);if(r.isReference||i.isReference)return this.currentFlow.isNonnull(e,r)?r=r.nonNullableType:s&&r.isNullableReference&&!i.isNullableReference&&(this.options.noAssert||(e=this.makeRuntimeNonNullCheck(e,r,a)),r=r.nonNullableType),r.isAssignableTo(i)?(assert(i.isExternalReference||r.kind==i.kind),this.currentType=i,e):s&&i.nonNullableType.isAssignableTo(r)?i.isExternalReference?(this.error(100,a.range,"ref.cast"),this.currentType=i,o.unreachable()):(assert(r.kind==i.kind),this.options.noAssert||(e=this.makeRuntimeUpcastCheck(e,r,i,a)),this.currentType=i,e):(this.error(2322,a.range,r.toString(),i.toString()),this.currentType=i,o.unreachable());if(assert(!r.isReference&&!i.isReference),r.isAssignableTo(i)||s||this.error(200,a.range,r.toString(),i.toString()),r.isFloatValue)if(i.isFloatValue)r.kind==11?i.kind==12&&(e=o.unary(43,e)):i.kind==11&&(e=o.unary(44,e));else if(i.isIntegerValue)if(r.kind==11)if(i.isBooleanValue)e=this.makeIsTrueish(e,u.f32,a);else if(i.isSignedIntegerValue){let l=this.options.hasFeature(4);i.isLongIntegerValue?e=o.unary(l?56:26,e):e=o.unary(l?52:25,e)}else{let l=this.options.hasFeature(4);i.isLongIntegerValue?e=o.unary(l?57:28,e):e=o.unary(l?53:27,e)}else if(i.isBooleanValue)e=this.makeIsTrueish(e,u.f64,a);else if(i.isSignedIntegerValue){let l=this.options.hasFeature(4);i.isLongIntegerValue?e=o.unary(l?58:30,e):e=o.unary(l?54:29,e)}else{let l=this.options.hasFeature(4);i.isLongIntegerValue?e=o.unary(l?59:32,e):e=o.unary(l?55:31,e)}else assert(i.flags==0,"void type expected"),e=o.drop(e);else r.isIntegerValue&&i.isFloatValue?i.kind==11?r.isLongIntegerValue?e=o.unary(r.isSignedIntegerValue?39:41,e):e=o.unary(r.isSignedIntegerValue?35:37,e):r.isLongIntegerValue?e=o.unary(r.isSignedIntegerValue?40:42,e):e=o.unary(r.isSignedIntegerValue?36:38,e):r==u.v128&&i.isBooleanValue?e=this.makeIsTrueish(e,u.v128,a):r.isLongIntegerValue?i.isBooleanValue?e=o.binary(41,e,o.i64(0)):i.isLongIntegerValue||(e=o.unary(24,e)):i.isLongIntegerValue?e=o.unary(r.isSignedIntegerValue?22:23,this.ensureSmallIntegerWrap(e,r)):r.isShortIntegerValue?r.size<i.size&&(e=this.ensureSmallIntegerWrap(e,r)):!s&&!this.options.isWasm64&&r.isVaryingIntegerValue&&!i.isVaryingIntegerValue&&this.warning(201,a.range,r.toString(),i.toString());return this.currentType=i,e}compileAssertionExpression(e,r,i){var s=i&-4;switch(e.assertionKind){case 0:case 1:{let a=this.currentFlow,o=this.resolver.resolveType(assert(e.toType),a.actualFunction,re(a.contextualTypeArguments));return o?this.compileExpression(e.expression,o,s|2):this.module.unreachable()}case 2:{assert(!e.toType);let a=this.compileExpression(e.expression,r.exceptVoid,s),o=this.currentType;return this.currentFlow.isNonnull(a,o)?this.info(210,e.expression.range):this.options.noAssert||(a=this.makeRuntimeNonNullCheck(a,o,e)),this.currentType=o.nonNullableType,a}case 3:return this.error(100,e.range,"Const assertion"),this.module.unreachable();default:assert(!1)}return this.module.unreachable()}compileBinaryExpression(e,r,i){var s=this.module,a=e.left,o=e.right,l,p,c,_,f,d,y=!1,T=e.operator;switch(T){case 71:{l=this.compileExpression(a,r),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(21);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(c=this.compileExpression(o,p),_=this.currentType,f=u.commonDenominator(p,_,!0),!f||!f.isNumericValue)return this.error(2365,e.range,"<",p.toString(),_.toString()),this.currentType=r,s.unreachable();l=this.convertExpression(l,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,o),_=f,d=this.makeLt(l,c,f),this.currentType=u.bool;break}case 72:{l=this.compileExpression(a,r),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(19);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(c=this.compileExpression(o,p),_=this.currentType,f=u.commonDenominator(p,_,!0),!f||!f.isNumericValue)return this.error(2365,e.range,">",p.toString(),_.toString()),this.currentType=r,s.unreachable();l=this.convertExpression(l,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,o),_=f,d=this.makeGt(l,c,f),this.currentType=u.bool;break}case 73:{l=this.compileExpression(a,r),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(22);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(c=this.compileExpression(o,p),_=this.currentType,f=u.commonDenominator(p,_,!0),!f||!f.isNumericValue)return this.error(2365,e.range,"<=",p.toString(),_.toString()),this.currentType=r,s.unreachable();l=this.convertExpression(l,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,o),_=f,d=this.makeLe(l,c,f),this.currentType=u.bool;break}case 74:{l=this.compileExpression(a,r),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(20);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(c=this.compileExpression(o,p),_=this.currentType,f=u.commonDenominator(p,_,!0),!f||!f.isNumericValue)return this.error(2365,e.range,">=",p.toString(),_.toString()),this.currentType=r,s.unreachable();l=this.convertExpression(l,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,o),_=f,d=this.makeGe(l,c,f),this.currentType=u.bool;break}case 77:case 75:{l=this.compileExpression(a,r),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(17);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(c=this.compileExpression(o,p),_=this.currentType,f=u.commonDenominator(p,_,!1),!f)return this.error(2365,e.range,Te(e.operator),p.toString(),_.toString()),this.currentType=r,s.unreachable();l=this.convertExpression(l,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,o),_=f,d=this.makeEq(l,c,f,e),this.currentType=u.bool;break}case 78:case 76:{l=this.compileExpression(a,r),p=this.currentType;let R=p.getClass();if(R){let A=R.lookupOverload(18);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(c=this.compileExpression(o,p),_=this.currentType,f=u.commonDenominator(p,_,!1),!f)return this.error(2365,e.range,Te(e.operator),p.toString(),_.toString()),this.currentType=r,s.unreachable();l=this.convertExpression(l,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,o),_=f,d=this.makeNe(l,c,f,e),this.currentType=u.bool;break}case 100:return this.compileAssignment(a,o,r);case 101:y=!0;case 80:{l=this.compileExpression(a,r),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(5);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(y){if(!p.isNumericValue)return this.error(2469,e.range,"+",p.toString()),s.unreachable();c=this.compileExpression(o,p,1),_=f=this.currentType}else{if(c=this.compileExpression(o,p),_=this.currentType,f=u.commonDenominator(p,_,!1),!f||!f.isNumericValue)return this.error(2365,e.range,"+",p.toString(),_.toString()),this.currentType=r,s.unreachable();l=this.convertExpression(l,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,o),_=f}d=this.makeAdd(l,c,f);break}case 102:y=!0;case 81:{l=this.compileExpression(a,r),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(6);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(y){if(!p.isNumericValue)return this.error(2469,e.range,"-",p.toString()),s.unreachable();c=this.compileExpression(o,p,1),_=f=this.currentType}else{if(c=this.compileExpression(o,p),_=this.currentType,f=u.commonDenominator(p,_,!1),!f||!p.isNumericValue)return this.error(2365,e.range,"-",p.toString(),_.toString()),this.currentType=r,s.unreachable();l=this.convertExpression(l,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,o),_=f}d=this.makeSub(l,c,f);break}case 103:y=!0;case 83:{l=this.compileExpression(a,r),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(7);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(y){if(!p.isNumericValue)return this.error(2469,e.range,"*",p.toString()),s.unreachable();c=this.compileExpression(o,p,1),_=f=this.currentType}else{if(c=this.compileExpression(o,p),_=this.currentType,f=u.commonDenominator(p,_,!1),!f||!f.isNumericValue)return this.error(2365,e.range,"*",p.toString(),_.toString()),this.currentType=r,s.unreachable();l=this.convertExpression(l,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,o),_=f}d=this.makeMul(l,c,f);break}case 104:y=!0;case 82:{l=this.compileExpression(a,r),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(10);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(y){if(!p.isNumericValue)return this.error(2469,e.range,"**",p.toString()),s.unreachable();c=this.compileExpression(o,p,1),_=f=this.currentType}else{if(c=this.compileExpression(o,p),_=this.currentType,f=u.commonDenominator(p,_,!1),!f||!f.isNumericValue)return this.error(2365,e.range,"**",p.toString(),_.toString()),this.currentType=r,s.unreachable();l=this.convertExpression(l,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,o),_=f}d=this.makePow(l,c,f,e);break}case 105:y=!0;case 84:{l=this.compileExpression(a,r),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(8);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(y){if(!p.isNumericValue)return this.error(2469,e.range,"/",p.toString()),s.unreachable();c=this.compileExpression(o,p,1),_=f=this.currentType}else{if(c=this.compileExpression(o,p),_=this.currentType,f=u.commonDenominator(p,_,!1),!f||!f.isNumericValue)return this.error(2365,e.range,"/",p.toString(),_.toString()),this.currentType=r,s.unreachable();l=this.convertExpression(l,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,o),_=f}d=this.makeDiv(l,c,f);break}case 106:y=!0;case 85:{l=this.compileExpression(a,r),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(9);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(y){if(!p.isNumericValue)return this.error(2469,e.range,"%",p.toString()),s.unreachable();c=this.compileExpression(o,p,1),_=f=this.currentType}else{if(c=this.compileExpression(o,p),_=this.currentType,f=u.commonDenominator(p,_,!1),!f||!f.isNumericValue)return this.error(2365,e.range,"%",p.toString(),_.toString()),this.currentType=r,s.unreachable();l=this.convertExpression(l,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,o),_=f}d=this.makeRem(l,c,f,e);break}case 107:y=!0;case 88:{l=this.compileExpression(a,r.intType),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(14);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(!p.isIntegerValue)return this.error(2469,e.range,"<<",p.toString()),s.unreachable();c=this.compileExpression(o,p,1),_=this.currentType,d=this.makeShl(l,c,_);break}case 108:y=!0;case 89:{l=this.compileExpression(a,r.intType),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(15);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(!p.isIntegerValue)return this.error(2469,e.range,">>",p.toString()),this.module.unreachable();c=this.compileExpression(o,p,1),_=this.currentType,d=this.makeShr(l,c,_);break}case 109:y=!0;case 90:{l=this.compileExpression(a,r.intType),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(16);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(!p.isIntegerValue)return this.error(2469,e.range,">>>",p.toString()),s.unreachable();c=this.compileExpression(o,p,1),_=this.currentType,d=this.makeShru(l,c,_);break}case 110:y=!0;case 91:{l=this.compileExpression(a,r.intType),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(11);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(y){if(!p.isIntegerValue)return this.error(2469,e.range,"&",p.toString()),s.unreachable();c=this.compileExpression(o,p,1),_=f=this.currentType}else{if(c=this.compileExpression(o,p),_=this.currentType,f=u.commonDenominator(p,_,!1),!f||!f.isIntegerValue)return this.error(2365,e.range,"&",p.toString(),_.toString()),this.currentType=r,s.unreachable();l=this.convertExpression(l,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,o),_=f}d=this.makeAnd(l,c,f);break}case 111:y=!0;case 92:{l=this.compileExpression(a,r.intType),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(12);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(y){if(!p.isIntegerValue)return this.error(2469,e.range,"|",p.toString()),s.unreachable();c=this.compileExpression(o,p,1),_=f=this.currentType}else{if(c=this.compileExpression(o,p),_=this.currentType,f=u.commonDenominator(p,_,!1),!f||!f.isIntegerValue)return this.error(2365,e.range,"|",p.toString(),_.toString()),this.currentType=r,s.unreachable();l=this.convertExpression(l,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,o),_=f}d=this.makeOr(l,c,f);break}case 112:y=!0;case 93:{l=this.compileExpression(a,r.intType),p=this.currentType;let R=p.getClassOrWrapper(this.program);if(R){let A=R.lookupOverload(13);if(A){d=this.compileBinaryOverload(A,a,l,p,o,e);break}}if(y){if(!p.isIntegerValue)return this.error(2469,e.range,"^",p.toString()),s.unreachable();c=this.compileExpression(o,p,1),_=f=this.currentType}else{if(c=this.compileExpression(o,p),_=this.currentType,f=u.commonDenominator(p,_,!1),!f||!f.isIntegerValue)return this.error(2365,e.range,"^",p.toString(),_.toString()),this.currentType=r,s.unreachable();l=this.convertExpression(l,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,o),_=f}d=this.makeXor(l,c,f);break}case 96:{let R=this.currentFlow,A=i&4;l=this.compileExpression(a,r.exceptVoid,A),p=this.currentType;let P=R.fork();if(this.currentFlow=P,P.inheritNonnullIfTrue(l),r==u.bool||r==u.void){l=this.makeIsTrueish(l,p,a);let k=this.evaluateCondition(l);k==2?d=l:(c=this.compileExpression(o,p,A),_=this.currentType,P.freeScopedLocals(),c=this.makeIsTrueish(c,_,o),k==1?d=c:d=s.if(l,c,s.i32(0))),this.currentFlow=R,this.currentType=u.bool}else{if(c=this.compileExpression(o,p,A|1),_=this.currentType,P.freeScopedLocals(),this.currentFlow=R,d=s.tryCopyTrivialExpression(l))d=s.if(this.makeIsTrueish(l,this.currentType,a),c,d);else{let k=R.getTempLocal(p);R.canOverflow(l,p)||R.setLocalFlag(k.index,2),R.isNonnull(l,p)&&R.setLocalFlag(k.index,4),d=s.if(this.makeIsTrueish(s.local_tee(k.index,l,p.isManaged),p,a),c,s.local_get(k.index,p.toRef())),R.freeTempLocal(k)}this.currentType=p}break}case 97:{let R=this.currentFlow,A=i&4;l=this.compileExpression(a,r.exceptVoid,A),p=this.currentType;let P=R.fork();if(this.currentFlow=P,P.inheritNonnullIfFalse(l),r==u.bool||r==u.void){l=this.makeIsTrueish(l,p,a);let k=this.evaluateCondition(l);k==1?d=l:(c=this.compileExpression(o,p,A),_=this.currentType,P.freeScopedLocals(),c=this.makeIsTrueish(c,_,o),k==2?d=c:d=s.if(l,s.i32(1),c)),this.currentFlow=R,this.currentType=u.bool}else{if(c=this.compileExpression(o,p,A|1),_=this.currentType,P.freeScopedLocals(),this.currentFlow=R,d=s.tryCopyTrivialExpression(l))d=s.if(this.makeIsTrueish(l,p,a),d,c);else{let k=R.getTempLocal(p);R.canOverflow(l,p)||R.setLocalFlag(k.index,2),R.isNonnull(l,p)&&R.setLocalFlag(k.index,4),d=s.if(this.makeIsTrueish(s.local_tee(k.index,l,p.isManaged),p,a),s.local_get(k.index,p.toRef()),c),R.freeTempLocal(k)}this.currentType=p}break}default:assert(!1),d=this.module.unreachable()}if(!y)return d;var v=this.resolver,I=v.lookupExpression(a,this.currentFlow);if(!I)return s.unreachable();var S=v.getTypeOfElement(I);return S||(S=u.void),this.currentType.isStrictlyAssignableTo(S)?this.makeAssignment(I,d,this.currentType,o,v.currentThisExpression,v.currentElementExpression,r!=u.void):(this.error(2322,e.range,this.currentType.toString(),S.toString()),s.unreachable())}makeLt(e,r,i){var s=this.module;switch(i.kind){case 0:case 1:e=this.ensureSmallIntegerWrap(e,i),r=this.ensureSmallIntegerWrap(r,i);case 2:return s.binary(17,e,r);case 3:return s.binary(42,e,r);case 4:return s.binary(this.options.isWasm64?42:17,e,r);case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),r=this.ensureSmallIntegerWrap(r,i);case 7:return s.binary(18,e,r);case 9:return s.binary(this.options.isWasm64?43:18,e,r);case 8:return s.binary(43,e,r);case 11:return s.binary(59,e,r);case 12:return s.binary(72,e,r)}return assert(!1),s.unreachable()}makeGt(e,r,i){var s=this.module;switch(i.kind){case 0:case 1:e=this.ensureSmallIntegerWrap(e,i),r=this.ensureSmallIntegerWrap(r,i);case 2:return s.binary(21,e,r);case 4:return s.binary(this.options.isWasm64?46:21,e,r);case 3:return s.binary(46,e,r);case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),r=this.ensureSmallIntegerWrap(r,i);case 7:return s.binary(22,e,r);case 9:return s.binary(this.options.isWasm64?47:22,e,r);case 8:return s.binary(47,e,r);case 11:return s.binary(61,e,r);case 12:return s.binary(74,e,r)}return assert(!1),s.unreachable()}makeLe(e,r,i){var s=this.module;switch(i.kind){case 0:case 1:e=this.ensureSmallIntegerWrap(e,i),r=this.ensureSmallIntegerWrap(r,i);case 2:return s.binary(19,e,r);case 4:return s.binary(this.options.isWasm64?44:19,e,r);case 3:return s.binary(44,e,r);case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),r=this.ensureSmallIntegerWrap(r,i);case 7:return s.binary(20,e,r);case 9:return s.binary(this.options.isWasm64?45:20,e,r);case 8:return s.binary(45,e,r);case 11:return s.binary(60,e,r);case 12:return s.binary(73,e,r)}return assert(!1),s.unreachable()}makeGe(e,r,i){var s=this.module;switch(i.kind){case 0:case 1:e=this.ensureSmallIntegerWrap(e,i),r=this.ensureSmallIntegerWrap(r,i);case 2:return s.binary(23,e,r);case 4:return s.binary(this.options.isWasm64?48:23,e,r);case 3:return s.binary(48,e,r);case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),r=this.ensureSmallIntegerWrap(r,i);case 7:return s.binary(24,e,r);case 9:return s.binary(this.options.isWasm64?49:24,e,r);case 8:return s.binary(49,e,r);case 11:return s.binary(62,e,r);case 12:return s.binary(75,e,r)}return assert(!1),s.unreachable()}makeEq(e,r,i,s){var a=this.module;switch(i.kind){case 0:case 1:case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),r=this.ensureSmallIntegerWrap(r,i);case 2:case 7:return a.binary(15,e,r);case 4:case 9:return a.binary(this.options.isWasm64?40:15,e,r);case 3:case 8:return a.binary(40,e,r);case 11:return a.binary(57,e,r);case 12:return a.binary(70,e,r);case 13:return a.unary(70,a.binary(76,e,r));case 17:case 18:case 19:return a.ref_eq(e,r);case 14:case 15:case 16:return this.error(203,s.range,"ref.eq",i.toString()),a.unreachable()}return assert(!1),a.unreachable()}makeNe(e,r,i,s){var a=this.module;switch(i.kind){case 0:case 1:case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),r=this.ensureSmallIntegerWrap(r,i);case 2:case 7:return a.binary(16,e,r);case 9:case 4:return a.binary(this.options.isWasm64?41:16,e,r);case 3:case 8:return a.binary(41,e,r);case 11:return a.binary(58,e,r);case 12:return a.binary(71,e,r);case 13:return a.unary(67,a.binary(77,e,r));case 17:case 18:case 19:return a.unary(20,a.ref_eq(e,r));case 14:case 15:case 16:return this.error(203,s.range,"ref.eq",i.toString()),a.unreachable()}return assert(!1),a.unreachable()}makeAdd(e,r,i){var s=this.module;switch(i.kind){case 0:case 1:case 5:case 6:case 10:case 2:case 7:return s.binary(0,e,r);case 9:case 4:return s.binary(this.options.isWasm64?25:0,e,r);case 3:case 8:return s.binary(25,e,r);case 11:return s.binary(50,e,r);case 12:return s.binary(63,e,r)}return assert(!1),s.unreachable()}makeSub(e,r,i){var s=this.module;switch(i.kind){case 0:case 1:case 5:case 6:case 10:case 2:case 7:return s.binary(1,e,r);case 9:case 4:return s.binary(this.options.isWasm64?26:1,e,r);case 3:case 8:return s.binary(26,e,r);case 11:return s.binary(51,e,r);case 12:return s.binary(64,e,r)}return assert(!1),s.unreachable()}makeMul(e,r,i){var s=this.module;switch(i.kind){case 0:case 1:case 5:case 6:case 10:case 2:case 7:return s.binary(2,e,r);case 9:case 4:return s.binary(this.options.isWasm64?27:2,e,r);case 3:case 8:return s.binary(27,e,r);case 11:return s.binary(52,e,r);case 12:return s.binary(65,e,r)}return assert(!1),s.unreachable()}makePow(e,r,i,s){let a=this.module;switch(i.kind){case 10:return a.select(a.i32(1),a.binary(15,r,a.i32(0)),e,F.I32);case 0:case 5:case 1:case 6:e=this.ensureSmallIntegerWrap(e,i),r=this.ensureSmallIntegerWrap(r,i);case 2:case 7:{let o=this.i32PowInstance;if(!o){let p=this.program.lookup(w.ipow32);if(!p)return this.error(2304,s.range,"ipow32"),a.unreachable();assert(p.kind==4),this.i32PowInstance=o=this.resolver.resolveFunction(p,null)}if(!o||!this.compileFunction(o))return a.unreachable();let l=this.makeCallDirect(o,[e,r],s);return i.size<32&&(l=this.ensureSmallIntegerWrap(l,i)),l}case 3:case 8:{let o=this.i64PowInstance;if(!o){let l=this.program.lookup(w.ipow64);if(!l)return this.error(2304,s.range,"ipow64"),a.unreachable();assert(l.kind==4),this.i64PowInstance=o=this.resolver.resolveFunction(l,null)}return!o||!this.compileFunction(o)?a.unreachable():this.makeCallDirect(o,[e,r],s)}case 4:case 9:{let o=this.options.isWasm64,l=o?this.i64PowInstance:this.i32PowInstance;if(!l){let p=this.program.lookup(o?w.ipow64:w.ipow32);if(!p)return this.error(2304,s.range,o?"ipow64":"ipow32"),a.unreachable();assert(p.kind==4),l=this.resolver.resolveFunction(p,null),o?this.i64PowInstance=l:this.i32PowInstance=l}return!l||!this.compileFunction(l)?a.unreachable():this.makeCallDirect(l,[e,r],s)}case 11:{let o=this.f32PowInstance;if(!o){let l=this.program.lookup(w.Mathf);if(!l)return this.error(2304,s.range,"Mathf"),a.unreachable();let p=l.members;if(!p||!p.has(w.pow))return this.error(2304,s.range,"Mathf.pow"),a.unreachable();let c=assert(p.get(w.pow));assert(c.kind==4),this.f32PowInstance=o=this.resolver.resolveFunction(c,null)}return!o||!this.compileFunction(o)?a.unreachable():this.makeCallDirect(o,[e,r],s)}case 12:{let o=this.f64PowInstance;if(!o){let l=this.program.lookup(w.Math);if(!l)return this.error(2304,s.range,"Math"),a.unreachable();let p=l.members;if(!p||!p.has(w.pow))return this.error(2304,s.range,"Math.pow"),a.unreachable();let c=assert(p.get(w.pow));assert(c.kind==4),this.f64PowInstance=o=this.resolver.resolveFunction(c,null)}return!o||!this.compileFunction(o)?a.unreachable():this.makeCallDirect(o,[e,r],s)}}return assert(!1),a.unreachable()}makeDiv(e,r,i){var s=this.module;switch(i.kind){case 0:case 1:e=this.ensureSmallIntegerWrap(e,i),r=this.ensureSmallIntegerWrap(r,i);case 2:return s.binary(3,e,r);case 4:return s.binary(this.options.isWasm64?28:3,e,r);case 3:return s.binary(28,e,r);case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),r=this.ensureSmallIntegerWrap(r,i);case 7:return s.binary(4,e,r);case 9:return s.binary(this.options.isWasm64?29:4,e,r);case 8:return s.binary(29,e,r);case 11:return s.binary(53,e,r);case 12:return s.binary(66,e,r)}return assert(!1),s.unreachable()}makeRem(e,r,i,s){var a=this.module;switch(i.kind){case 0:case 1:e=this.ensureSmallIntegerWrap(e,i),r=this.ensureSmallIntegerWrap(r,i);case 2:return a.binary(5,e,r);case 4:return a.binary(this.options.isWasm64?30:5,e,r);case 3:return a.binary(30,e,r);case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),r=this.ensureSmallIntegerWrap(r,i);case 7:return a.binary(6,e,r);case 9:return a.binary(this.options.isWasm64?31:6,e,r);case 8:return a.binary(31,e,r);case 11:{let o=this.f32ModInstance;if(!o){let l=this.program.lookup(w.Mathf);if(!l)return this.error(2304,s.range,"Mathf"),a.unreachable();let p=l.members;if(!p||!p.has(w.mod))return this.error(2304,s.range,"Mathf.mod"),a.unreachable();let c=assert(p.get(w.mod));assert(c.kind==4),this.f32ModInstance=o=this.resolver.resolveFunction(c,null)}return!o||!this.compileFunction(o)?a.unreachable():this.makeCallDirect(o,[e,r],s)}case 12:{let o=this.f64ModInstance;if(!o){let l=this.program.lookup(w.Math);if(!l)return this.error(2304,s.range,"Math"),a.unreachable();let p=l.members;if(!p||!p.has(w.mod))return this.error(2304,s.range,"Math.mod"),a.unreachable();let c=assert(p.get(w.mod));assert(c.kind==4),this.f64ModInstance=o=this.resolver.resolveFunction(c,null)}return!o||!this.compileFunction(o)?a.unreachable():this.makeCallDirect(o,[e,r],s)}}return assert(!1),a.unreachable()}makeShl(e,r,i){var s=this.module;switch(i.kind){case 10:return e;case 0:case 1:case 5:case 6:return s.binary(10,e,s.binary(7,r,s.i32(i.size-1)));case 2:case 7:return s.binary(10,e,r);case 3:case 8:return s.binary(35,e,r);case 9:case 4:return s.binary(this.options.isWasm64?35:10,e,r)}return assert(!1),s.unreachable()}makeShr(e,r,i){var s=this.module;switch(i.kind){case 10:return e;case 0:case 1:return s.binary(11,this.ensureSmallIntegerWrap(e,i),s.binary(7,r,s.i32(i.size-1)));case 5:case 6:return s.binary(12,this.ensureSmallIntegerWrap(e,i),s.binary(7,r,s.i32(i.size-1)));case 2:return s.binary(11,e,r);case 3:return s.binary(36,e,r);case 4:return s.binary(this.options.isWasm64?36:11,e,r);case 7:return s.binary(12,e,r);case 8:return s.binary(37,e,r);case 9:return s.binary(this.options.isWasm64?37:12,e,r)}return assert(!1),s.unreachable()}makeShru(e,r,i){var s=this.module;switch(i.kind){case 10:return e;case 0:case 1:case 5:case 6:return s.binary(12,this.ensureSmallIntegerWrap(e,i),s.binary(7,r,s.i32(i.size-1)));case 2:case 7:return s.binary(12,e,r);case 3:case 8:return s.binary(37,e,r);case 9:case 4:return s.binary(this.options.isWasm64?37:12,e,r)}return assert(!1),s.unreachable()}makeAnd(e,r,i){var s=this.module;switch(i.kind){case 0:case 1:case 2:case 5:case 6:case 10:case 7:return s.binary(7,e,r);case 3:case 8:return s.binary(32,e,r);case 9:case 4:return s.binary(this.options.isWasm64?32:7,e,r)}return assert(!1),s.unreachable()}makeOr(e,r,i){var s=this.module;switch(i.kind){case 0:case 1:case 5:case 6:case 10:return s.binary(8,e,r);case 2:case 7:return s.binary(8,e,r);case 3:case 8:return s.binary(33,e,r);case 9:case 4:return s.binary(this.options.isWasm64?33:8,e,r)}return assert(!1),s.unreachable()}makeXor(e,r,i){var s=this.module;switch(i.kind){case 0:case 1:case 5:case 6:case 10:return s.binary(9,e,r);case 2:case 7:return s.binary(9,e,r);case 3:case 8:return s.binary(34,e,r);case 4:case 9:return s.binary(this.options.isWasm64?34:9,e,r)}return assert(!1),s.unreachable()}compileUnaryOverload(e,r,i,s){return this.makeCallDirect(e,[i],s,!1)}compileBinaryOverload(e,r,i,s,a,o){var l,p=e.signature,c=p.parameterTypes;e.is(131072)?(i=this.convertExpression(i,s,assert(p.thisType),!1,r),l=c[0]):(i=this.convertExpression(i,s,c[0],!1,r),l=c[1]);var _=this.compileExpression(a,l,1);return this.makeCallDirect(e,[i,_],o)}compileAssignment(e,r,i){var s=this.program,a=s.resolver,o=this.currentFlow,l=a.lookupExpression(e,o);if(!l)return this.module.unreachable();var p=a.currentThisExpression,c=a.currentElementExpression,_;switch(l.kind){case 0:if(!this.compileGlobal(l))return this.module.unreachable();case 1:case 11:{if(this.pendingElements.has(l))return this.error(2448,e.range,l.internalName),this.module.unreachable();_=l.type,l.hasDecorator(2048)&&this.checkUnsafe(e);break}case 12:{let y=l,T=a.resolveProperty(y);if(!T)return this.module.unreachable();l=T}case 13:{let y=l,T=y.setterInstance;if(!T)return this.error(2540,e.range,y.internalName),this.module.unreachable();assert(T.signature.parameterTypes.length==1),_=T.signature.parameterTypes[0],T.hasDecorator(2048)&&this.checkUnsafe(e);break}case 17:{let y=l.parent;assert(y.kind==7);let T=y,v=o.is(32768),I=T.lookupOverload(2,v);if(!I)return T.lookupOverload(1,v)?this.error(2542,e.range,T.internalName):this.error(2329,e.range,T.internalName),this.module.unreachable();assert(I.signature.parameterTypes.length==2),_=I.signature.parameterTypes[1],I.hasDecorator(2048)&&this.checkUnsafe(e),!v&&this.options.pedantic&&this.pedantic(904,e.range);break}default:return this.error(2540,e.range,l.internalName),this.module.unreachable()}assert(_!=u.void);var f=this.compileExpression(r,_),d=this.currentType;return this.makeAssignment(l,this.convertExpression(f,d,_,!1,r),d,r,p,c,i!=u.void)}makeAssignment(e,r,i,s,a,o,l){var p=this.module,c=this.currentFlow;switch(e.kind){case 1:{let _=e;return c.isLocalFlag(_.index,1,!0)?(this.error(2540,s.range,e.internalName),this.currentType=l?_.type:u.void,p.unreachable()):this.makeLocalAssignment(_,r,i,l)}case 0:{let _=e;return this.compileGlobal(_)?e.isAny(72)?(this.error(2540,s.range,e.internalName),this.currentType=l?_.type:u.void,p.unreachable()):this.makeGlobalAssignment(_,r,i,l):p.unreachable()}case 11:{let _=e,f=_.initializerNode,d=c.actualFunction.is(262144);if(_.is(64)&&(!d||f))return this.error(2540,s.range,_.internalName),p.unreachable();a=assert(a),d&&a.kind==24&&c.setThisFieldFlag(_,1);let y=_.parent;return assert(y.kind==7),this.makeFieldAssignment(_,r,i,this.compileExpression(a,y.type,33),l)}case 13:{let _=e,f=_.setterInstance;if(!f)return this.error(2540,s.range,e.internalName),p.unreachable();if(assert(f.signature.parameterTypes.length==1),_.is(131072)){let d=assert(f.signature.thisType),y=this.compileExpression(assert(a),d,33);if(!l)return this.makeCallDirect(f,[y,r],s);let T=assert(e.getterInstance);assert(T.signature.thisType==d);let v=T.signature.returnType,I=v.toRef(),S=c.getTempLocal(v),R=p.block(null,[this.makeCallDirect(f,[p.local_tee(S.index,y,v.isManaged),r],s),this.makeCallDirect(T,[p.local_get(S.index,I)],s)],I);return c.freeTempLocal(S),R}else{if(!l)return this.makeCallDirect(f,[r],s);let d=assert(e.getterInstance);return p.block(null,[this.makeCallDirect(f,[r],s),this.makeCallDirect(d,null,s)],d.signature.returnType.toRef())}}case 17:{let f=e.parent;assert(f.kind==7);let d=f;assert(d.kind==7);let y=c.is(32768),T=d.lookupOverload(1,y);if(!T)return this.error(2329,s.range,d.internalName),p.unreachable();let v=d.lookupOverload(2,y);if(!v)return this.error(2542,s.range,d.internalName),this.currentType=l?T.signature.returnType:u.void,p.unreachable();assert(v.signature.parameterTypes.length==2);let I=d.type,S=this.compileExpression(assert(a),I,33),R=this.compileExpression(assert(o),u.i32,1),A=this.currentType;if(l){let P=c.getTempLocal(I),k=c.getTempLocal(A),W=T.signature.returnType,U=p.block(null,[this.makeCallDirect(v,[p.local_tee(P.index,S,I.isManaged),p.local_tee(k.index,R,A.isManaged),r],s),this.makeCallDirect(T,[p.local_get(P.index,P.type.toRef()),p.local_get(k.index,k.type.toRef())],s)],W.toRef());return c.freeTempLocal(k),c.freeTempLocal(P),U}else return this.makeCallDirect(v,[S,R,r],s)}}return assert(!1),p.unreachable()}makeLocalAssignment(e,r,i,s){var a=this.module,o=this.currentFlow,l=e.type;assert(l!=u.void);var p=e.index;return l.isNullableReference&&(!i.isNullableReference||o.isNonnull(r,l)?o.setLocalFlag(p,4):o.unsetLocalFlag(p,4)),o.setLocalFlag(p,8),l.isShortIntegerValue&&(o.canOverflow(r,l)?o.unsetLocalFlag(p,2):o.setLocalFlag(p,2)),s?(this.currentType=l,a.local_tee(p,r,l.isManaged)):(this.currentType=u.void,a.local_set(p,r,l.isManaged))}makeGlobalAssignment(e,r,i,s){var a=this.module,o=e.type;assert(o!=u.void);var l=o.toRef();return r=this.ensureSmallIntegerWrap(r,o),s?(this.currentType=o,a.block(null,[a.global_set(e.internalName,r),a.global_get(e.internalName,l)],l)):(this.currentType=u.void,a.global_set(e.internalName,r))}makeFieldAssignment(e,r,i,s,a){var o=this.module,l=this.currentFlow,p=e.type,c=p.toRef();assert(e.parent.kind==7);var _=e.parent.type;if(!e.is(4194304)){e.set(4194304);let f=e.typeNode;f&&this.checkTypeSupported(e.type,f)}if(a){this.compileField(e);let f=l.getTempLocal(_),d=o.block(null,[o.call(e.internalSetterName,[o.local_tee(f.index,s,_.isManaged),r],F.None),o.call(e.internalGetterName,[o.local_get(f.index,_.toRef())],c)],c);return l.freeTempLocal(f),this.currentType=p,d}else{this.compileFieldSetter(e);let f=o.call(e.internalSetterName,[s,r],F.None);return this.currentType=u.void,f}}compileCallExpression(e,r,i){var s=this.module,a=this.currentFlow;if(e.expression.kind==23){let _=this.currentFlow,f=_.actualFunction;if(!f.is(262144))return this.error(2337,e.range),s.unreachable();let d=assert(f.parent);assert(d.kind==7);let y=d,T=y.base;if(!T)return this.error(2335,e.expression.range),s.unreachable();let v=assert(_.lookupLocal(w.this_)),I=this.options.sizeTypeRef,S=this.ensureConstructor(T,e);this.checkFieldInitialization(T,e);let R=this.compileCallDirect(S,e.args,e,s.local_get(v.index,I));return _.isAny(8256)?(this.error(17009,e.range),s.unreachable()):(_.set(192),this.currentType=u.void,s.local_set(v.index,R,y.type.isManaged))}var o=this.resolver.lookupExpression(e.expression,a);if(!o)return s.unreachable();var l=this.resolver.currentThisExpression,p,c;switch(o.kind){case 4:{let _=o;if(_.hasDecorator(512))return this.compileCallExpressionBuiltin(_,e,r);let f=this.resolver.maybeInferCall(e,_,a);if(!f)return this.module.unreachable();o=f}case 5:{let _=o,f=0;return _.is(131072)&&(f=this.compileExpression(assert(l),assert(_.signature.thisType),33)),this.compileCallDirect(_,e.args,e,f,i)}case 1:{let _=o;if(p=_.type.signatureReference,p){if(_.is(16777216)){let f=_.constantIntegerValue;this.options.isWasm64?c=s.i64(i64_low(f),i64_high(f)):(assert(!i64_high(f)),c=s.i32(i64_low(f)))}else c=s.local_get(_.index,this.options.sizeTypeRef);break}return this.error(2349,e.range,_.type.toString()),s.unreachable()}case 0:{let _=o;if(p=_.type.signatureReference,p){c=s.global_get(_.internalName,_.type.toRef());break}return this.error(2349,e.range,_.type.toString()),s.unreachable()}case 11:{let _=o,f=_.type;if(p=f.signatureReference,p){let d=_.parent;assert(d.kind==7);let y=this.options.usizeType;c=s.load(y.byteSize,!1,this.compileExpression(assert(l),d.type,33),y.toRef(),_.memoryOffset);break}return this.error(2349,e.range,f.toString()),s.unreachable()}case 12:{let _=this.resolver.resolveProperty(o);if(!_)return s.unreachable();o=_}case 13:{let _=o,f=_.getterInstance,d=assert(this.resolver.getTypeOfElement(o));if(!f)return this.error(2349,e.range,d.toString()),s.unreachable();let y=0;if(_.is(131072)&&(y=this.compileExpression(assert(l),assert(f.signature.thisType),33)),c=this.compileCallDirect(f,[],e.expression,y),p=this.currentType.signatureReference,!p)return this.error(2349,e.range,this.currentType.toString()),s.unreachable();break}case 7:{let f=o.getTypeArgumentsTo(this.program.functionPrototype);if(f&&f.length>0){let d=f[0];p=d.getSignature(),c=this.compileExpression(e.expression,d,1);break}}default:{let _=this.resolver.getTypeOfElement(o);return _?this.error(2757,e.range,_.toString()):this.error(225,e.range),s.unreachable()}}return this.compileCallIndirect(assert(p),c,e.args,e,0,r==u.void)}compileCallExpressionLike(e,r,i,s,a,o=0){var l=this._reusableCallExpression;return l?(l.expression=e,l.typeArguments=r,l.args=i,l.range=s):this._reusableCallExpression=l=O.createCallExpression(e,r,i,s),this.compileCallExpression(l,a,o)}compileCallExpressionBuiltin(e,r,i){e.hasDecorator(2048)&&this.checkUnsafe(r);var s=null,a=e.typeParameterNodes,o=r.typeArguments;r.typeArguments&&(e.is(32768)||this.error(2315,r.range,e.internalName),s=this.resolver.resolveTypeArguments(assert(a),o,this.currentFlow.actualFunction.parent,re(this.currentFlow.contextualTypeArguments),r));var l=r.expression,p=new oo(this,e,s,r.args,l.kind==21?l.expression:null,i,r,!1),c=e.internalName;if(E.has(c))return assert(E.get(c))(p);var _=e.parent;if(_.kind==7&&_.prototype==this.program.functionPrototype){let d=e.name;if(ao.has(d))return assert(ao.get(d))(p)}return assert(!1),this.module.unreachable()}checkCallSignature(e,r,i,s){var a=e.thisType;if(i!=(a!=null))return this.error(2685,s.range),!1;var o=e.hasRest;if(o)return this.error(100,s.range,"Rest parameters"),!1;var l=e.requiredParameters,p=e.parameterTypes.length;return r<l?(this.error(l<p?2555:2554,s.range,l.toString(),r.toString()),!1):r>p&&!o?(this.error(2554,s.range,p.toString(),r.toString()),!1):!0}checkUnsafe(e,r=null){this.options.noUnsafe&&!e.range.source.isLibrary&&(r?this.errorRelated(101,e.range,r.range):this.error(101,e.range))}compileCallDirect(e,r,i,s=0,a=0){var o=r.length,l=e.signature;if(!this.checkCallSignature(l,o,s!=0,i))return this.currentType=l.returnType,this.module.unreachable();e.hasDecorator(2048)&&this.checkUnsafe(i);let p=this.currentFlow.actualFunction;if(p.is(262144)&&i.isAccessOnThis){let y=p.parent;assert(y.kind==7),this.checkFieldInitialization(y,i)}if(e.hasDecorator(64)&&(!e.is(134217728)||i.isAccessOnSuper)){assert(!e.is(67108864));let y=this.inlineStack;if(y.includes(e))this.warning(217,i.range,e.internalName);else{y.push(e);let T=l.parameterTypes;assert(o<=T.length);let v=new Array(o);for(let S=0;S<o;++S)v[S]=this.compileExpression(r[S],T[S],1);let I=this.makeCallInline(e,v,s,(a&8)!=0);return y.pop(),I}}var c=s?o+1:o,_=new Array(c),f=0;s&&(_[0]=s,f=1);var d=l.parameterTypes;for(let y=0;y<o;++y,++f){let T=d[y],v=this.compileExpression(r[y],T,1);_[f]=v}return assert(f==c),this.makeCallDirect(e,_,i,(a&8)!=0)}makeCallInline(e,r,i=0,s=!1){var a=this.module,o=r?r.length:0,l=e.signature,p=l.parameterTypes,c=p.length,_=this.currentFlow,f=Pe.createInline(_.parentFunction,e),d=[],y=new Set;for(let I=o-1;I>=0;--I){let S=r[I],R=p[I],A=f.addScopedLocal(e.getParameterName(I),R,y);lt(S,y),_.canOverflow(S,R)||f.setLocalFlag(A.index,2),f.isNonnull(S,R)&&f.setLocalFlag(A.index,4),d.unshift(a.local_set(A.index,S,R.isManaged))}if(i){let I=assert(e.parent);assert(I.kind==7);let S=I,R=assert(e.signature.thisType),A=f.addScopedLocal(w.this_,R,y);d.unshift(a.local_set(A.index,i,R.isManaged));let P=S.base;P&&f.addScopedAlias(w.super_,P.type,A.index)}else assert(!e.signature.thisType);this.currentFlow=f;var T=e.is(262144);T&&f.set(65536);for(let I=o;I<c;++I){let S=p[I],R=this.compileExpression(assert(e.prototype.functionTypeNode.parameters[I].initializer),S,1),A=f.addScopedLocal(e.getParameterName(I),S);d.push(this.makeLocalAssignment(A,R,S,!1))}if(f.unset(65536),this.compileFunctionBody(e,d),T){let I=e.parent;assert(I.kind==7),this.checkFieldInitializationInFlow(I,f)}f.freeScopedLocals();var v=f.returnType;return this.currentFlow=_,this.currentType=v,a.block(f.inlineReturnLabel,d,v.toRef())}ensureArgumentsLength(){var e=h.argumentsLength;if(!this.builtinArgumentsLength){let r=this.module;this.builtinArgumentsLength=r.addGlobal(e,F.I32,!0,r.i32(0))}return e}ensureVarargsStub(e){var r=e.varargsStub;if(r)return r;var i=e.signature,s=i.parameterTypes,a=e.prototype.functionTypeNode.parameters,o=i.returnType,l=e.is(131072),p=i.requiredParameters,c=p,_=s.length,f=_;l&&(++c,++f);var d=assert(f-c),y=new Array(c),T=0,v=new Array,I=this.module,S=i.thisType;S&&(y[0]=I.local_get(0,S.toRef()),T=1);for(let H=0;H<p;++H,++T){let Z=s[H];y[T]=I.local_get(T,Z.toRef())}assert(T==c),r=e.newStub("varargs"),r.signature.requiredParameters=_,e.varargsStub=r;var R=this.currentFlow,A=r.flow;e.is(262144)&&A.set(65536),this.currentFlow=A;var P=d+1,k=new Array(P),W="of"+d.toString();for(let H=0;H<P;++H){let Z=H.toString()+W;k[H]=Z}var U=this.ensureArgumentsLength(),V=I.block(k[0],[I.block("outOfRange",[I.switch(k,"outOfRange",p?I.binary(1,I.global_get(U,F.I32),I.i32(p)):I.global_get(U,F.I32))]),I.unreachable()]);for(let H=0;H<d;++H,++T){let Z=s[p+H],le=a[p+H],ee=le.initializer,M;ee?(M=this.compileExpression(ee,Z,1),M=I.local_set(T,M,Z.isManaged)):(this.error(215,le.range),M=I.unreachable()),V=I.block(k[H+1],[V,M]),y[T]=I.local_get(T,Z.toRef())}assert(T==f),v.push(V),v.push(this.makeCallDirect(e,y,e.declaration.name)),A.freeScopedLocals(),this.currentFlow=R;var K=I.addFunction(r.internalName,r.signature.paramRefs,r.signature.resultRefs,Kr(r.additionalLocals),I.flatten(v,o.toRef()));return r.set(4194304),r.finalize(I,K),r}ensureVirtualStub(e){var r=e.virtualStub;if(r)return r;r=e.newStub("virtual"),e.virtualStub=r;var i=this.module;return r.ref=i.addFunction(r.internalName,r.signature.paramRefs,r.signature.resultRefs,null,i.unreachable()),this.virtualStubs.add(e),r}finalizeVirtualStub(e){var r=this.ensureVirtualStub(e);if(!r.is(4194304)){assert(e.parent.kind==7||e.parent.kind==9);var i=this.module,s=this.options.usizeType,a=s.toRef(),o=e.signature.parameterTypes,l=e.signature.returnType,p=o.length,c=1+o.length,_=new Pn(this.module,i.load(4,!1,i.binary(a==F.I64?26:1,i.local_get(0,a),a==F.I64?i.i64(8):i.i32(8)),F.I32)),f=this.resolver.resolveOverloads(e);if(f)for(let T=0,v=f.length;T<v;++T){let I=f[T];if(!I.is(4194304))continue;let S=I.type,R=e.type;if(!S.isAssignableTo(R)){this.error(2322,I.identifierNode.range,S.toString(),R.toString());continue}let A=I.signature,P=A.parameterTypes,k=P.length,W=new Array(1+k);W[0]=i.local_get(0,a);for(let ee=1;ee<=p;++ee)W[ee]=i.local_get(ee,o[ee-1].toRef());let U=!1;for(let ee=p;ee<k;++ee)W[1+ee]=this.makeZero(P[ee],I.declaration),U=!0;let V=U?this.ensureVarargsStub(I).internalName:I.internalName,K=A.returnType.toRef(),H=new Array;U&&H.push(i.global_set(this.ensureArgumentsLength(),i.i32(p))),l==u.void?(H.push(i.call(V,W,K)),H.push(i.return())):H.push(i.return(i.call(V,W,K)));let Z=assert(I.getClassOrInterface());_.addCase(Z.id,H);let le=Z.getAllExtendees(e.declaration.name.text);for(let ee=Set_values(le),M=0,ye=ee.length;M<ye;++M){let fe=ee[M];_.addCase(fe.id,H)}}var d;if(e.prototype.bodyNode){let T=new Array(p);T[0]=i.local_get(0,a);for(let v=0,I=o.length;v<I;++v)T[1+v]=i.local_get(1+v,o[v].toRef());d=i.call(e.internalName,T,l.toRef())}else d=i.unreachable();var y=r.ref;y&&i.removeFunction(r.internalName),r.ref=i.addFunction(r.internalName,r.signature.paramRefs,r.signature.resultRefs,[F.I32],i.block(null,[_.render(c),d],l.toRef())),r.set(4194304)}}operandsTostack(e,r){if(!!this.options.stackSize){var i=this.module,s=0,a=e.thisType;if(a){if(a.isManaged){let p=r[0],c=i.runExpression(p,0);be(c)||(r[s]=i.tostack(p))}++s}var o=0,l=e.parameterTypes;for(assert(l.length>=r.length-s);s<r.length;){if(l[o].isManaged){let c=r[s],_=i.runExpression(c,0);be(_)||(r[s]=i.tostack(c))}++s,++o}}}makeCallDirect(e,r,i,s=!1){if(e.hasDecorator(64))if(e.is(134217728))this.warning(228,i.range,e.internalName);else{assert(!e.is(67108864));let v=this.inlineStack;if(v.includes(e))this.warning(217,i.range,e.internalName);else{v.push(e);let I;if(e.is(131072)){let S=assert(r);assert(S.length),I=this.makeCallInline(e,S.slice(1),S[0],s)}else I=this.makeCallInline(e,r,0,s);return v.pop(),I}}var a=this.module,o=r?r.length:0,l=o,p=e.signature.requiredParameters,c=p,_=e.signature.parameterTypes,f=_.length,d=f;if(e.is(131072)&&(++c,++d,--l),assert(o>=c),!this.compileFunction(e))return a.unreachable();var y=e.signature.returnType;if(o<d){r||(r=new Array(d),r.length=0);let v=e.prototype.functionTypeNode.parameters;assert(v.length==_.length);let I=!0;for(let S=l;S<f;++S){let R=v[S].initializer;if(R){if(R.compilesToConst){r.push(this.compileExpression(R,_[S],1));continue}let A=this.resolver.lookupExpression(R,e.flow,_[S],1);if(A&&A.kind==0){let P=A;if(this.compileGlobal(P)){P.is(16777216)?r.push(this.compileInlineConstant(P,_[S],1)):r.push(this.convertExpression(a.global_get(P.internalName,P.type.toRef()),P.type,_[S],!1,R));continue}}}r.push(this.makeZero(_[S],e.declaration)),I=!1}if(!I&&!e.is(1048576)){let S=e;if(e=this.ensureVarargsStub(e),!this.compileFunction(e))return a.unreachable();e.flow.flags=S.flow.flags;let R=y.toRef(),A=r[d-1];assert(!(fi(A,a.ref)&32));let P=_[f-1];r[d-1]=a.block(null,[a.global_set(this.ensureArgumentsLength(),a.i32(l)),A],P.toRef()),this.operandsTostack(e.signature,r);let k=a.call(e.internalName,r,R);return y!=u.void&&s?(k=a.drop(k),this.currentType=u.void):this.currentType=y,k}}e.is(134217728)&&!i.isAccessOnSuper&&(e=this.ensureVirtualStub(e)),r&&this.operandsTostack(e.signature,r);var T=a.call(e.internalName,r,y.toRef());return this.currentType=y,T}compileCallIndirect(e,r,i,s,a=0,o=!1){var l=i.length;if(!this.checkCallSignature(e,l,a!=0,s))return this.module.unreachable();var p=a?l+1:l,c=new Array(p),_=0;a&&(c[0]=a,_=1);var f=e.parameterTypes;for(let d=0;d<l;++d,++_)c[_]=this.compileExpression(i[d],f[d],1);return assert(_==p),this.makeCallIndirect(e,r,s,c,o)}makeCallIndirect(e,r,i,s=null,a=!1){var o=this.module,l=s?s.length:0,p=l,c=e.requiredParameters,_=c,f=e.parameterTypes,d=e.returnType,y=f.length,T=y;if(e.thisType&&(++_,++T,--p),assert(l>=_),l<T){s||(s=new Array(T),s.length=0);let R=e.parameterTypes;for(let A=p;A<y;++A)s.push(this.makeZero(R[A],i))}var v=this.ensureArgumentsLength(),I=this.options.sizeTypeRef;if(fi(r,o.ref)&32){let R=this.currentFlow,A=R.getTempLocal(this.options.usizeType,lt(r));r=o.block(null,[o.local_set(A.index,r,!0),o.global_set(v,o.i32(p)),o.local_get(A.index,I)],I),R.freeTempLocal(A)}else r=o.block(null,[o.global_set(v,o.i32(p)),r],I);s&&this.operandsTostack(e,s);var S=o.call_indirect(null,o.load(4,!1,r,F.I32),s,e.paramRefs,e.resultRefs);return this.currentType=d,S}compileCommaExpression(e,r,i){var s=e.expressions,a=s.length,o=new Array(a--);for(let l=0;l<a;++l)o[l]=this.compileExpression(s[l],u.void,9);return o[a]=this.compileExpression(s[a],r,i),this.module.flatten(o,this.currentType.toRef())}compileElementAccessExpression(e,r,i){var s=this.module,a=e.expression,o=this.resolver.resolveExpression(a,this.currentFlow);if(o){let l=o.getClassOrWrapper(this.program);if(l){let p=this.currentFlow.is(32768),c=l.lookupOverload(1,p);if(c){let _=assert(c.signature.thisType),f=this.compileExpression(a,_,1);return!p&&this.options.pedantic&&this.pedantic(904,e.range),this.compileCallDirect(c,[e.elementExpression],e,f,i)}}this.error(2329,e.expression.range,o.toString())}return s.unreachable()}compileFunctionExpression(e,r,i){var s=e.declaration.clone();assert(!s.typeParameters);var a=this.currentFlow,o=a.actualFunction,l=s.name.text.length>0,p=!l||r!=u.void,c=new We(p?(l?s.name.text+"|":"anonymous|")+(o.nextAnonymousId++).toString():s.name.text,o,s,0),_,f=re(a.contextualTypeArguments),d=this.module,y=r.signatureReference;if(y){let I=c.functionTypeNode,S=I.parameters,R=S.length,A=y.parameterTypes,P=A.length;if(R>P)return this.error(2554,e.range,P.toString(),R.toString()),d.unreachable();for(let H=0;H<R;++H){let Z=S[H];if(!Se(Z.type)){let le=this.resolver.resolveType(Z.type,o.parent,f);if(!le)return d.unreachable();if(!A[H].isStrictlyAssignableTo(le))return this.error(2322,Z.range,A[H].toString(),le.toString()),d.unreachable()}}let k=y.returnType;if(!Se(I.returnType)){let H=this.resolver.resolveType(I.returnType,o.parent,f);if(!H)return d.unreachable();if(k==u.void?H!=u.void:!H.isStrictlyAssignableTo(k))return this.error(2322,I.returnType.range,H.toString(),k.toString()),d.unreachable()}let W=y.thisType,U=I.explicitThisType;if(U){if(!W)return this.error(2332,U.range),d.unreachable();let H=this.resolver.resolveType(U,o.parent,f);if(!H)return d.unreachable();if(!W.isStrictlyAssignableTo(H))return this.error(2322,U.range,W.toString(),H.toString()),d.unreachable()}let V=new ge(this.program,A,k,W);V.requiredParameters=P,_=new Xe(c.name,c,null,V,f),_.flow.outer=a;let K=this.compileFunction(_);if(this.currentType=y.type,!K)return d.unreachable()}else{if(_=this.resolver.resolveFunction(c,null,f),!_)return this.module.unreachable();_.flow.outer=a;let I=this.compileFunction(_);if(this.currentType=_.signature.type,!I)return d.unreachable()}var T=this.ensureRuntimeFunction(_),v=this.options.isWasm64?d.i64(i64_low(T),i64_high(T)):d.i32(i64_low(T));if(!p){let I=_.name,S=a.getScopedLocal(I);if(S)S.declaration.range.source.isNative?this.error(2300,s.name.range,I):this.errorRelated(2300,s.name.range,S.declaration.name.range,I);else{let R=_.type,A=a.addScopedLocal(_.name,R);a.setLocalFlag(A.index,1),v=d.local_tee(A.index,v,R.isManaged)}}return v}maybeCompileEnclosingSource(e){var r=e.range.source.internalPath,i=this.program.filesByName;assert(i.has(r));var s=assert(i.get(r));s.is(4194304)||this.compileFileByPath(r,e)}compileIdentifierExpression(e,r,i){var s=this.module,a=this.currentFlow,o=a.actualFunction;switch(e.kind){case 18:{let c=this.options;if(r.isReference){let _=r.getClass();if(_)return this.currentType=_.type.asNullable(),c.isWasm64?s.i64(0):s.i32(0);let f=r.getSignature();return f?(this.currentType=f.type.asNullable(),c.isWasm64?s.i64(0):s.i32(0)):this.makeZero(r,e)}return this.currentType=c.usizeType,this.warning(226,e.range,this.currentType.toString()),c.isWasm64?s.i64(0):s.i32(0)}case 25:return this.currentType=u.bool,s.i32(1);case 13:return this.currentType=u.bool,s.i32(0);case 24:{let c=o.signature.thisType;if(!c)return this.error(2332,e.range),this.currentType=this.options.usizeType,s.unreachable();if(o.is(262144)&&(a.is(65536)&&this.error(2333,e.range),!(i&32))){let f=o.parent;assert(f.kind==7),this.checkFieldInitialization(f,e)}let _=assert(a.lookupLocal(w.this_));return a.set(64),this.currentType=c,s.local_get(_.index,c.toRef())}case 23:{if(o.is(262144)&&(a.is(65536)?this.error(2336,e.range):a.is(128)||this.error(17011,e.range)),a.isInline){let c=a.lookupLocal(w.this_);if(c){let f=assert(c.type.getClass()).base;if(f)return this.currentType=f.type,s.local_get(c.index,f.type.toRef())}}if(o.is(131072)){let c=assert(o.parent);assert(c.kind==7);let f=c.base;if(f){let d=f.type;return this.currentType=d,s.local_get(0,d.toRef())}}return this.error(2335,e.range),this.currentType=this.options.usizeType,s.unreachable()}}this.maybeCompileEnclosingSource(e);var l=this.currentParent;l||(l=o);var p=this.resolver.lookupIdentifierExpression(e,a,l);if(!p)return this.currentType==u.void&&(this.currentType=u.i32),s.unreachable();switch(p.kind){case 1:{let c=p,_=c.type;if(assert(_!=u.void),this.pendingElements.has(c))return this.error(2448,e.range,c.internalName),this.currentType=_,s.unreachable();if(c.is(16777216))return this.compileInlineConstant(c,r,i);let f=c.index;return assert(f>=0),_.isNullableReference&&a.isLocalFlag(f,4,!1)&&(_=_.nonNullableType),this.currentType=_,p.parent!=a.parentFunction?(this.error(100,e.range,"Closures"),s.unreachable()):s.local_get(f,_.toRef())}case 0:{let c=p;if(!this.compileGlobal(c))return s.unreachable();let _=c.type;return this.pendingElements.has(c)?(this.error(2448,e.range,c.internalName),this.currentType=_,s.unreachable()):(assert(_!=u.void),c.is(16777216)?this.compileInlineConstant(c,r,i):(this.currentType=_,s.global_get(c.internalName,_.toRef())))}case 3:{let c=p;return p.is(4194304)?(this.currentType=u.i32,c.is(16777216)?(assert(c.constantValueKind==1),s.i32(i64_low(c.constantIntegerValue))):s.global_get(c.internalName,F.I32)):(this.error(2651,e.range),this.currentType=u.i32,s.unreachable())}case 4:{let c=p,_=c.typeParameterNodes;if(_&&_.length!=0){this.error(1140,e.range);break}let f=this.resolver.resolveFunction(c,null,re(a.contextualTypeArguments));if(!f||!this.compileFunction(f))return s.unreachable();if(f.hasDecorator(512))return this.error(100,e.range,"First-class built-ins"),this.currentType=f.type,s.unreachable();if(r.isExternalReference)return this.currentType=u.funcref,s.ref_func(f.internalName,F.Funcref);let d=this.ensureRuntimeFunction(f);return this.currentType=f.signature.type,this.options.isWasm64?s.i64(i64_low(d),i64_high(d)):s.i32(i64_low(d))}}return this.error(234,e.range),s.unreachable()}compileInstanceOfExpression(e,r,i){var s=this.currentFlow,a=e.isType;if(a.kind==1){let l=a;if(!(l.isNullable||l.hasTypeArguments)){let p=this.resolver.resolveTypeName(l.name,s.actualFunction,1);if(p&&p.kind==6){let c=p;if(c.is(32768))return this.makeInstanceofClass(e,c)}}}var o=this.resolver.resolveType(e.isType,s.actualFunction,re(s.contextualTypeArguments));return o?this.makeInstanceofType(e,o):(this.currentType=u.bool,this.module.unreachable())}makeInstanceofType(e,r){var i=this.module,s=this.currentFlow,a=this.compileExpression(e.expression,r),o=this.currentType;if(this.currentType=u.bool,r.isValue)return i.maybeDropCondition(a,i.i32(o==r?1:0));if(o.isValue)return i.maybeDropCondition(a,i.i32(0));var l=o.toRef();if(o.isNullableReference&&!r.isNullableReference){if(o.nonNullableType.isAssignableTo(r))return i.binary(l==F.I64?41:16,a,this.makeZero(o,e.expression));if(r.isAssignableTo(o)){let p=this.program;if(o.isUnmanaged||r.isUnmanaged)this.error(2365,e.range,"instanceof",o.toString(),r.toString());else{let c=s.getTempLocal(o),_=assert(p.instanceofInstance);this.compileFunction(_);let f=i.if(i.unary(l==F.I64?21:20,i.local_tee(c.index,a,o.isManaged)),i.i32(0),this.makeCallDirect(_,[i.local_get(c.index,l),i.i32(r.classReference.id)],e));return s.freeTempLocal(c),this.options.pedantic&&this.pedantic(903,e.range),f}}}else{if(o.isAssignableTo(r))return i.maybeDropCondition(a,i.i32(1));if(r.isAssignableTo(o)){let p=this.program;if(o.isUnmanaged||r.isUnmanaged)this.error(2365,e.range,"instanceof",o.toString(),r.toString());else{let c=s.getTempLocal(o),_=assert(p.instanceofInstance);this.compileFunction(_);let f=i.if(i.unary(l==F.I64?21:20,i.local_tee(c.index,a,o.isManaged)),i.i32(0),this.makeCallDirect(_,[i.local_get(c.index,l),i.i32(r.classReference.id)],e));return s.freeTempLocal(c),f}}}return i.maybeDropCondition(a,i.i32(0))}makeInstanceofClass(e,r){var i=this.module,s=this.compileExpression(e.expression,u.auto),a=this.currentType,o=a.toRef();this.currentType=u.bool;var l=a.getClass();if(l){if(l.extends(r))return a.isNullableReference?i.binary(o==F.I64?41:16,s,this.makeZero(a,e.expression)):i.maybeDropCondition(s,i.i32(1));if(r.extends(l.prototype))return this.pendingClassInstanceOf.add(r),i.call(r.internalName+"~instanceof",[s],F.I32)}return i.maybeDropCondition(s,i.i32(0))}compileLiteralExpression(e,r,i,s=!1){var a=this.module;switch(e.literalKind){case 5:return assert(!s),this.compileArrayLiteral(e,r,i);case 0:{let o=e.value;return s&&(o=-o),r==u.f32?a.f32(o):(this.currentType=u.f64,a.f64(o))}case 1:{let o=e.value;s&&(o=i64_sub(i64_new(0),o));let l=this.resolver.determineIntegerLiteralType(o,r);switch(this.currentType=l,l.kind){case 4:if(!this.options.isWasm64)return a.i32(i64_low(o));case 3:return a.i64(i64_low(o),i64_high(o));case 9:if(!this.options.isWasm64)return a.i32(i64_low(o));case 8:return a.i64(i64_low(o),i64_high(o));case 11:return a.f32(i64_to_f32(o));case 12:return a.f64(i64_to_f64(o));default:return a.i32(i64_low(o))}}case 2:return assert(!s),this.compileStringLiteral(e,i);case 3:return assert(!s),this.compileTemplateLiteral(e,i);case 6:return assert(!s),this.compileObjectLiteral(e,r);case 4:return this.error(100,e.range,"Regular expressions"),this.currentType=r,a.unreachable()}return assert(!1),a.unreachable()}compileStringLiteral(e,r){return this.ensureStaticString(e.value)}compileTemplateLiteral(e,r){var i=e.tag,s=e.parts,a=s.length,o=e.expressions,l=o.length;assert(l==a-1);var p=this.module,c=this.program.stringInstance,_=c.type;if(!i){if(a==1)return this.ensureStaticString(s[0]);if(a==2){let M=o[0],ye=s[0].length,fe=s[1].length;if(!ye&&!fe)return this.makeToString(this.compileExpression(M,_),this.currentType,M);let Pt=ye!=0;if(Pt^fe!=0){let Ze,rr,dt=this.makeToString(this.compileExpression(M,_),this.currentType,M);Pt?(Ze=this.ensureStaticString(s[0]),rr=dt):(Ze=dt,rr=this.ensureStaticString(s[1]));let vi=assert(c.getMethod("concat"));return this.makeCallDirect(vi,[Ze,rr],M)}}if(a==3&&!s[0].length&&!s[1].length&&!s[2].length){let M=o[0],ye=o[1],fe=this.makeToString(this.compileExpression(M,_),this.currentType,M),Pt=this.makeToString(this.compileExpression(ye,_),this.currentType,ye),Ze=assert(c.getMethod("concat"));return this.makeCallDirect(Ze,[fe,Pt],e)}let P=a+l,k=new Array(P);k[0]=this.ensureStaticString(s[0]);for(let M=1;M<a;++M)k[2*M-1]=p.usize(0),k[2*M]=this.ensureStaticString(s[M]);let W=assert(this.resolver.resolveClass(this.program.staticArrayPrototype,[_])),U=this.addStaticBuffer(_,k,W.id),V=i64_add(U.offset,i64_new(this.program.totalOverhead)),K=assert(W.getMethod("join")),H=assert(W.lookupOverload(2,!0)),Z=new Array(2*l+1),le=new Array(l),ee=this.currentFlow;for(let M=0;M<l;++M){let ye=o[M],fe=ee.getTempLocal(_);le[M]=fe,Z[M]=p.local_set(fe.index,this.makeToString(this.compileExpression(ye,_),this.currentType,ye),!0)}for(let M=0;M<l;++M)Z[l+M]=this.makeCallDirect(H,[p.usize(V),p.i32(2*M+1),p.local_get(le[M].index,_.toRef())],e),ee.freeTempLocal(le[M]);return Z[2*l]=this.makeCallDirect(K,[p.usize(V),this.ensureStaticString("")],e),p.flatten(Z,_.toRef())}var f=this.program.templateStringsArrayInstance,d=f,y=this.resolver.lookupExpression(i,this.currentFlow,u.auto,1);if(y)switch(y.kind){case 4:{let P=this.resolver.resolveFunction(y,null,re(),1);if(!P)break;y=P}case 5:{let k=y.signature.parameterTypes;if(k.length){let W=k[0].getClass();W&&!W.extends(f.prototype)&&(d=assert(this.resolver.resolveClass(this.program.arrayPrototype,[_])))}break}}var T=e.rawParts;assert(T.length==a);var v=new Array(a);for(let P=0;P<a;++P)v[P]=this.ensureStaticString(s[P]);var I;if(d==f){var S=new Array(a);for(let P=0;P<a;++P)S[P]=this.ensureStaticString(T[P]);I=this.addStaticArrayHeader(_,this.addStaticBuffer(this.options.usizeType,v),d);var R=this.addStaticArrayHeader(_,this.addStaticBuffer(this.options.usizeType,S));d.writeField("raw",i64_add(R.offset,i64_new(this.program.totalOverhead)),I.buffer)}else I=this.addStaticArrayHeader(_,this.addStaticBuffer(this.options.usizeType,v),d);var A=o.slice();return A.unshift(O.createCompiledExpression(p.usize(i64_add(I.offset,i64_new(this.program.totalOverhead))),d.type,this.program.nativeRange)),this.error(100,e.range,"Tagged template literals"),this.compileCallExpressionLike(i,null,A,e.range,_)}compileArrayLiteral(e,r,i){var s=this.module,a=this.currentFlow,o=this.program;let l=r.getClass();if(l&&l.extends(o.staticArrayPrototype))return this.compileStaticArrayLiteral(e,r,i);var p=this.resolver.lookupExpression(e,a,this.currentType);if(!p)return s.unreachable();assert(p.kind==7);var c=p,_=c.type,f=c.getTypeArgumentsTo(o.arrayPrototype)[0],d=assert(o.arrayBufferInstance),y=a.getTempLocal(this.options.usizeType),T=a.getTempLocal(d.type),v=e.elementExpressions,I=v.length,S=new Array(I),R=!f.isExternalReference;for(let U=0;U<I;++U){let V=v[U];if(V.kind!=19){let K=this.compileExpression(V,f,1);if(oe(K)!=f.toRef())R=!1;else{let H=s.runExpression(K,1);H?K=H:R=!1}S[U]=K}else S[U]=this.makeZero(f,V)}if(R){a.freeTempLocal(y),a.freeTempLocal(T);let U=o.totalOverhead,V=this.addStaticBuffer(f,S),K=i64_add(V.offset,i64_new(U));if(i&16){let H=this.addStaticArrayHeader(f,V),Z=i64_add(H.offset,i64_new(U));return this.currentType=_,o.options.isWasm64?this.module.i64(i64_low(Z),i64_high(Z)):this.module.i32(i64_low(Z))}else return this.makeNewArray(c,I,K,e)}var A=c.lookupOverload(2,!0);if(!A)return a.freeTempLocal(y),a.freeTempLocal(T),this.error(2542,e.range,c.internalName),this.currentType=_,s.unreachable();var P=_.toRef(),k=new Array;k.push(s.local_set(y.index,this.makeNewArray(c,I,i64_new(0),e),_.isManaged));var W=assert(c.getMember("dataStart"));assert(W.kind==11),k.push(s.local_set(T.index,s.load(_.byteSize,!1,s.local_get(y.index,P),P,W.memoryOffset),!0));for(let U=0;U<I;++U)k.push(s.call(A.internalName,[s.local_get(y.index,P),s.i32(U),S[U]],F.None));return k.push(s.local_get(y.index,P)),a.freeTempLocal(y),a.freeTempLocal(T),I&&this.compileFunction(A),this.currentType=_,s.flatten(k,P)}makeNewArray(e,r,i,s){var a=this.program,o=this.module;assert(!e.extends(a.staticArrayPrototype));var l=e.getArrayValueType(),p=this.makeCallDirect(a.newArrayInstance,[o.i32(r),a.options.isWasm64?o.i64(l.alignLog2):o.i32(l.alignLog2),o.i32(e.id),a.options.isWasm64?o.i64(i64_low(i),i64_high(i)):o.i32(i64_low(i))],s);return this.currentType=e.type,p}compileStaticArrayLiteral(e,r,i){var s=this.module,a=this.currentFlow,o=this.program,l=assert(r.getClass()),p=l.type,c=assert(l.getTypeArgumentsTo(o.staticArrayPrototype)),_=c[0],f=a.getTempLocal(this.options.usizeType),d=e.elementExpressions,y=d.length,T=new Array(y),v=!_.isExternalReference;for(let k=0;k<y;++k){let W=d[k];if(W.kind!=19){let U=this.compileExpression(W,_,1),V=s.runExpression(U,1);V?U=V:v=!1,T[k]=U}else T[k]=this.makeZero(_,W)}var I=this.options.isWasm64,S=T.length<<_.alignLog2;if(v){a.freeTempLocal(f);let k=this.addStaticBuffer(_,T,l.id),W=i64_add(k.offset,i64_new(o.totalOverhead));if(i&16){let U=this.options.isWasm64?s.i64(i64_low(W),i64_high(W)):s.i32(i64_low(W));return this.currentType=p,U}else{let U=this.makeCallDirect(o.newBufferInstance,[I?s.i64(S):s.i32(S),s.i32(l.id),I?s.i64(i64_low(W),i64_high(W)):s.i32(i64_low(W))],e);return this.currentType=p,U}}var R=l.lookupOverload(2,!0);if(!R)return a.freeTempLocal(f),this.error(2542,e.range,l.internalName),this.currentType=p,s.unreachable();var A=p.toRef(),P=new Array;P.push(s.local_set(f.index,this.makeCallDirect(o.newBufferInstance,[I?s.i64(S):s.i32(S),s.i32(l.id)],e),p.isManaged));for(let k=0;k<y;++k)P.push(s.call(R.internalName,[s.local_get(f.index,A),s.i32(k),T[k]],F.None));return P.push(s.local_get(f.index,A)),a.freeTempLocal(f),y&&this.compileFunction(R),this.currentType=p,s.flatten(P,A)}compileObjectLiteral(e,r){var i=this.module,s=r.getClass();if(!s)return this.error(2322,e.range,"<object>",r.toString()),i.unreachable();var a=s.type;if(this.currentType=a.nonNullableType,s.kind==9)return this.error(100,e.range,"Interface hidden classes"),i.unreachable();if(s.is(128))return this.error(2511,e.range),i.unreachable();var o=s.prototype.constructorPrototype;if(o)return this.errorRelated(216,e.range,o.identifierNode.range,a.toString()),i.unreachable();var l=a.isManaged;l||this.checkUnsafe(e,bt(6,s.decoratorNodes));var p=e.names,c=p.length,_=e.values,f=s.members,d=!1,y=new Array,T=this.currentFlow,v=T.getTempLocal(a),I=a.toRef();assert(c==_.length);var S=new Set;if(f)for(let A=Map_keys(f),P=0,k=A.length;P<k;++P){let W=A[P],U=assert(f.get(W));U&&U.kind==11&&S.add(U)}for(let A=0;A<c;++A){let P=p[A].text,k=s.getMember(P);if(!k||k.kind!=11){this.error(2339,p[A].range,P,a.toString()),d=!0;continue}if(k.is(512)){this.error(2341,p[A].range,P,a.toString()),d=!0;continue}if(k.is(1024)){this.error(2445,p[A].range,P,a.toString()),d=!0;continue}let W=k,U=W.type,V=this.compileExpression(_[A],U,1);y.push(i.call(W.internalSetterName,[i.local_get(v.index,I),V],F.None)),this.compileFieldSetter(W),S.delete(W)}if(this.currentType=a.nonNullableType,d)return i.unreachable();for(let A=Set_values(S),P=0,k=A.length;P<k;++P){let W=A[P],U=W.type;if(!W.initializerNode){if(U.isReference&&!U.isNullableReference){this.error(2741,e.range,W.name,"<object>",a.toString()),d=!0;continue}switch(U.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:{y.push(i.call(W.internalSetterName,[i.local_get(v.index,I),this.makeZero(U,e)],F.None)),this.compileFieldSetter(W);continue}}this.error(2741,e.range,W.name,"<object>",a.toString()),d=!0}}if(d)return i.unreachable();var R=this.ensureConstructor(s,e);return y.unshift(i.local_set(v.index,this.compileInstantiate(R,[],0,e),a.isManaged)),y.push(i.local_get(v.index,I)),l||T.freeTempLocal(v),this.currentType=a.nonNullableType,i.flatten(y,I)}compileNewExpression(e,r,i){var s=this.module,a=this.currentFlow,o=this.resolver.resolveTypeName(e.typeName,a.actualFunction);if(!o)return s.unreachable();if(o.kind!=6)return this.error(2351,e.typeName.range),this.module.unreachable();if(o.is(128))return this.error(2511,e.typeName.range),this.module.unreachable();var l=o,p=null,c=e.typeArguments,_;if(!c&&(_=r.classReference)&&_.prototype==l&&_.is(32768)?p=this.resolver.resolveClass(l,_.typeArguments,re(a.contextualTypeArguments)):p=this.resolver.resolveClassInclTypeArguments(l,c,a.actualFunction.parent,re(a.contextualTypeArguments),e),!p)return s.unreachable();r==u.void&&(i|=8);var f=this.ensureConstructor(p,e);return f.hasDecorator(64)||this.checkFieldInitialization(p,e),this.compileInstantiate(f,e.args,i,e)}ensureConstructor(e,r){var i=e.constructorInstance;if(i){if(i.is(4194304))return i;i.hasDecorator(64)||this.compileFunction(i)}else{let s=e.base,a=re(e.contextualTypeArguments);if(s){let R=this.ensureConstructor(s,r);this.checkFieldInitialization(s,r),i=new Xe(w.constructor,new We(w.constructor,e,R.declaration.clone()),null,R.signature,a)}else i=new Xe(w.constructor,new We(w.constructor,e,this.program.makeNativeFunctionDeclaration(w.constructor,393216)),null,new ge(this.program,null,e.type,e.type),a);i.set(4194304),i.prototype.setResolvedInstance("",i),e.is(524288)&&i.set(524288),e.constructorInstance=i;let o=e.members;o||(e.members=o=new Map),o.set("constructor",i.prototype);let l=this.currentFlow,p=i.flow;this.currentFlow=p;let c=i.signature,_=this.module,f=this.options.sizeTypeRef,d=new Array;if(d.push(this.makeConditionalAllocation(e,0)),s){let R=c.parameterTypes,A=R.length,P=new Array(1+A);P[0]=_.local_get(0,f);for(let k=1;k<=A;++k)P[k]=_.local_get(k,R[k-1].toRef());d.push(_.local_set(0,this.makeCallDirect(assert(s.constructorInstance),P,r,!1),s.type.isManaged))}this.makeFieldInitializationInConstructor(e,d),d.push(_.local_get(0,f)),p.freeScopedLocals(),this.currentFlow=l;let y=i.localsByIndex,T=new Array,v=1+c.parameterTypes.length,I=y.length;if(I>v)for(let R=v;R<I;++R)T.push(y[R].type.toRef());let S=_.addFunction(i.internalName,c.paramRefs,c.resultRefs,T,_.flatten(d,f));i.finalize(_,S)}return i}checkFieldInitialization(e,r=null){if(!e.didCheckFieldInitialization){e.didCheckFieldInitialization=!0;var i=assert(e.constructorInstance);this.checkFieldInitializationInFlow(e,i.flow,r)}}checkFieldInitializationInFlow(e,r,i=null){var s=e.members;if(s)for(let a=Map_values(s),o=0,l=a.length;o<l;++o){let p=a[o];if(p.kind==11&&p.parent==e){let c=p;!c.initializerNode&&!r.isThisFieldFlag(c,1)?c.is(8192)||(i?this.errorRelated(2564,c.declaration.name.range,i.range,c.internalName):this.error(2564,c.declaration.name.range,c.internalName)):c.is(8192)&&(c.type.isReference?this.warning(233,c.identifierNode.range,c.internalName):this.pedantic(906,c.identifierNode.range))}}}compileInstantiate(e,r,i,s){assert(e.is(262144));var a=e.parent;assert(a.kind==7);var o=a;(o.type.isUnmanaged||e.hasDecorator(2048))&&this.checkUnsafe(s);var l=this.compileCallDirect(e,r,s,this.makeZero(this.options.usizeType,s),i);return oe(l)!=F.None&&(this.currentType=o.type),l}compilePropertyAccessExpression(e,r,i){var s=this.module,a=this.currentFlow;this.maybeCompileEnclosingSource(e);var o=this.resolver,l=o.lookupExpression(e,a,r);if(!l)return s.unreachable();var p=o.currentThisExpression;switch(l.hasDecorator(2048)&&this.checkUnsafe(e),l.kind){case 0:{let c=l;if(!this.compileGlobal(c))return s.unreachable();let _=c.type;return assert(_!=u.void),this.pendingElements.has(c)?(this.error(2448,e.range,c.internalName),this.currentType=_,s.unreachable()):c.is(16777216)?this.compileInlineConstant(c,r,i):(this.currentType=_,s.global_get(c.internalName,_.toRef()))}case 3:{let c=l,_=assert(c.parent);assert(_.kind==2);let f=_;return this.compileEnum(f)?(this.currentType=u.i32,c.is(16777216)?(assert(c.constantValueKind==1),this.compileInlineConstant(c,r,i)):(assert(c.type==u.i32),s.global_get(c.internalName,F.I32))):(this.currentType=u.i32,this.module.unreachable())}case 11:{let c=l,_=c.type;assert(c.memoryOffset>=0);let f=c.parent;assert(f.kind==7),p=assert(p);let d=this.compileExpression(p,f.type,33),y=this.currentType;if(a.actualFunction.is(262144)&&p.kind==24&&!a.isThisFieldFlag(c,1)&&!c.is(8192)&&this.errorRelated(2565,e.range,c.identifierNode.range,c.internalName),y.isNullableReference&&(a.isNonnull(d,y)||this.error(2531,p.range)),!c.is(4194304)){c.set(4194304);let v=c.typeNode;v&&this.checkTypeSupported(c.type,v)}this.currentType=_;let T=s.load(_.byteSize,_.isSignedIntegerValue,d,_.toRef(),c.memoryOffset);return c.is(8192)&&_.isReference&&!_.isNullableReference&&(T=this.makeRuntimeNonNullCheck(T,_,e)),T}case 12:{let c=l,_=this.resolver.resolveProperty(c);if(!_)return s.unreachable();l=_}case 13:{let _=l.getterInstance;if(!_)return s.unreachable();let f=0;return _.is(131072)&&(f=this.compileExpression(assert(p),assert(_.signature.thisType),33)),this.compileCallDirect(_,[],e,f)}case 4:{let c=l,_=this.resolver.resolveFunction(c,null);if(!_||!this.compileFunction(_))return s.unreachable();this.currentType=_.type;let f=this.ensureRuntimeFunction(_);return this.options.isWasm64?s.i64(i64_low(f),i64_high(f)):s.i32(i64_low(f))}}return this.error(234,e.range),this.module.unreachable()}compileTernaryExpression(e,r,i){var s=this.module,a=e.ifThen,o=e.ifElse,l=this.makeIsTrueish(this.compileExpression(e.condition,u.bool),this.currentType,e.condition),p=this.evaluateCondition(l);if(p==1)return s.maybeDropCondition(l,this.compileExpression(a,r));if(p==2)return s.maybeDropCondition(l,this.compileExpression(o,r));var c=this.currentFlow,_=c.fork();_.inheritNonnullIfTrue(l),this.currentFlow=_;var f=this.compileExpression(a,r),d=this.currentType,y=c.fork();y.inheritNonnullIfFalse(l),this.currentFlow=y;var T=this.compileExpression(o,r==u.auto?d:r),v=this.currentType;if(r==u.void)d!=u.void&&(f=s.drop(f),d=u.void),v!=u.void&&(T=s.drop(T),v=u.void),this.currentType=u.void;else{let I=u.commonDenominator(d,v,!1);if(!I)return this.error(2322,o.range,v.toString(),d.toString()),this.currentType=r,s.unreachable();f=this.convertExpression(f,d,I,!1,a),d=I,T=this.convertExpression(T,v,I,!1,o),v=I,this.currentType=I}return _.freeScopedLocals(),y.freeScopedLocals(),this.currentFlow=c,c.inheritMutual(_,y),s.if(l,f,T)}compileUnaryPostfixExpression(e,r,i){var s=this.module,a=this.currentFlow,o=this.compileExpression(e.operand,r.exceptVoid,0);if(te(o)==23)return o;var l=null;r!=u.void&&(l=a.getTempLocal(this.currentType),o=s.local_tee(l.index,o,this.currentType.isManaged));var p;switch(e.operator){case 86:{let y=this.currentType.getClassOrWrapper(this.program);if(y){let T=y.lookupOverload(29);if(T){let v=T.is(131072);if(l&&!v&&(o=mr(o),a.freeTempLocal(l),l=null),p=this.compileUnaryOverload(T,e.operand,o,e),v)break;return p}}if(!this.currentType.isValue)return this.error(2469,e.range,"++",this.currentType.toString()),l&&a.freeTempLocal(l),s.unreachable();switch(this.currentType.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:{p=s.binary(0,o,s.i32(1));break}case 9:case 4:{let T=this.options;p=s.binary(T.isWasm64?25:0,o,this.makeOne(this.currentType));break}case 3:case 8:{p=s.binary(25,o,s.i64(1));break}case 11:{p=s.binary(50,o,s.f32(1));break}case 12:{p=s.binary(63,o,s.f64(1));break}default:return this.error(2469,e.range,"++",this.currentType.toString()),s.unreachable()}break}case 87:{let y=this.currentType.getClassOrWrapper(this.program);if(y){let T=y.lookupOverload(30);if(T){let v=T.is(131072);if(l&&!v&&(o=mr(o),a.freeTempLocal(l),l=null),p=this.compileUnaryOverload(T,e.operand,o,e),T.is(131072))break;return p}}if(!this.currentType.isValue)return this.error(2469,e.range,"--",this.currentType.toString()),l&&a.freeTempLocal(l),s.unreachable();switch(this.currentType.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:{p=s.binary(1,o,s.i32(1));break}case 9:case 4:{let T=this.options;p=s.binary(T.isWasm64?26:1,o,this.makeOne(this.currentType));break}case 3:case 8:{p=s.binary(26,o,s.i64(1));break}case 11:{p=s.binary(51,o,s.f32(1));break}case 12:{p=s.binary(64,o,s.f64(1));break}default:return this.error(2469,e.range,"--",this.currentType.toString()),s.unreachable()}break}default:return assert(!1),s.unreachable()}var c=this.resolver,_=c.lookupExpression(e.operand,a);if(!_)return l&&a.freeTempLocal(l),s.unreachable();if(!l)return this.makeAssignment(_,p,this.currentType,e.operand,c.currentThisExpression,c.currentElementExpression,!1);var f=this.makeAssignment(_,p,this.currentType,e.operand,c.currentThisExpression,c.currentElementExpression,!1);this.currentType=l.type,a.freeTempLocal(l);var d=l.type.toRef();return s.block(null,[f,s.local_get(l.index,d)],d)}compileUnaryPrefixExpression(e,r,i){var s=this.module,a=!1,o;switch(e.operator){case 80:{o=this.compileExpression(e.operand,r.exceptVoid,0);let c=this.currentType.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(23);if(_)return this.compileUnaryOverload(_,e.operand,o,e)}if(!this.currentType.isValue)return this.error(2469,e.range,"+",this.currentType.toString()),s.unreachable();break}case 81:{let c=e.operand;if(c.isNumericLiteral){o=this.compileLiteralExpression(c,r,0,!0),this.options.sourceMap&&this.addDebugLocation(o,e.range);break}o=this.compileExpression(e.operand,r.exceptVoid,0);let _=this.currentType.getClassOrWrapper(this.program);if(_){let f=_.lookupOverload(24);if(f)return this.compileUnaryOverload(f,e.operand,o,e)}if(!this.currentType.isValue)return this.error(2469,e.range,"-",this.currentType.toString()),s.unreachable();switch(this.currentType.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:{o=s.binary(1,s.i32(0),o);break}case 9:case 4:{o=s.binary(this.options.isWasm64?26:1,this.makeZero(this.currentType,e.operand),o);break}case 3:case 8:{o=s.binary(26,s.i64(0),o);break}case 11:{o=s.unary(6,o);break}case 12:{o=s.unary(7,o);break}default:this.error(2469,e.range,"-",this.currentType.toString()),o=s.unreachable()}break}case 86:{a=!0,o=this.compileExpression(e.operand,r.exceptVoid,0);let c=this.currentType.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(27);if(_){if(o=this.compileUnaryOverload(_,e.operand,o,e),_.is(131072))break;return o}}if(!this.currentType.isValue)return this.error(2469,e.range,"++",this.currentType.toString()),s.unreachable();switch(this.currentType.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:{o=s.binary(0,o,this.module.i32(1));break}case 9:case 4:{o=s.binary(this.options.isWasm64?25:0,o,this.makeOne(this.currentType));break}case 3:case 8:{o=s.binary(25,o,s.i64(1));break}case 11:{o=s.binary(50,o,s.f32(1));break}case 12:{o=s.binary(63,o,s.f64(1));break}default:this.error(2469,e.range,"++",this.currentType.toString()),o=s.unreachable()}break}case 87:{a=!0,o=this.compileExpression(e.operand,r.exceptVoid,0);let c=this.currentType.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(28);if(_){if(o=this.compileUnaryOverload(_,e.operand,o,e),_.is(131072))break;return o}}if(!this.currentType.isValue)return this.error(2469,e.range,"--",this.currentType.toString()),s.unreachable();switch(this.currentType.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:{o=s.binary(1,o,s.i32(1));break}case 9:case 4:{o=s.binary(this.options.isWasm64?26:1,o,this.makeOne(this.currentType));break}case 3:case 8:{o=s.binary(26,o,s.i64(1));break}case 11:{o=s.binary(51,o,s.f32(1));break}case 12:{o=s.binary(64,o,s.f64(1));break}default:this.error(2469,e.range,"--",this.currentType.toString()),o=s.unreachable()}break}case 94:{o=this.compileExpression(e.operand,r.exceptVoid,0);let c=this.currentType.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(25);if(_)return this.compileUnaryOverload(_,e.operand,o,e)}o=s.unary(20,this.makeIsTrueish(o,this.currentType,e.operand)),this.currentType=u.bool;break}case 95:{o=this.compileExpression(e.operand,r==u.void?u.i32:r.isFloatValue?u.i64:r,0);let c=this.currentType.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(26);if(_)return this.compileUnaryOverload(_,e.operand,o,e)}if(!this.currentType.isValue)return this.error(2469,e.range,"~",this.currentType.toString()),s.unreachable();switch(o=this.convertExpression(o,this.currentType,this.currentType.intType,!1,e.operand),this.currentType.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:{o=s.binary(9,o,s.i32(-1));break}case 9:case 4:{o=s.binary(this.options.isWasm64?34:9,o,this.makeNegOne(this.currentType));break}case 3:case 8:{o=s.binary(34,o,s.i64(-1,-1));break}default:this.error(2469,e.range,"~",this.currentType.toString()),o=s.unreachable()}break}case 55:return this.compileTypeof(e,r,i);case 68:return this.error(100,e.range,"Spread operator"),s.unreachable();default:return assert(!1),s.unreachable()}if(!a)return o;var l=this.resolver,p=l.lookupExpression(e.operand,this.currentFlow);return p?this.makeAssignment(p,o,this.currentType,e.operand,l.currentThisExpression,l.currentElementExpression,r!=u.void):s.unreachable()}compileTypeof(e,r,i){var s=e.operand,a=0,o=this.program.stringInstance,l;if(s.kind==18)l="object";else{let p=this.resolver.lookupExpression(s,this.currentFlow,u.auto,1);if(p)switch(p.kind){case 6:case 14:case 2:{l="object";break}case 4:{l="function";break}default:{a=this.compileExpression(s,u.auto);let c=this.currentType;if(a=this.convertExpression(a,c,u.void,!0,s),c.isReference)if(c.getSignature())l="function";else{let f=c.getClass();f?f.prototype==o.prototype?l="string":l="object":l="externref"}else c==u.bool?l="boolean":c.isNumericValue?l="number":l="undefined";break}}else{switch(s.kind){case 6:break;case 21:case 12:if(s=(s.kind==21,s.expression),!this.resolver.resolveExpression(s,this.currentFlow,u.auto,0))return this.currentType=o.type,this.module.unreachable();default:a=this.compileExpression(s,u.auto),a=this.convertExpression(a,this.currentType,u.void,!0,s)}l="undefined"}}return this.currentType=o.type,a?this.module.block(null,[a,this.ensureStaticString(l)],this.options.sizeTypeRef):this.ensureStaticString(l)}ensureSmallIntegerWrap(e,r){var i=this.module,s=this.currentFlow;switch(r.kind){case 0:{s.canOverflow(e,r)&&(e=this.options.hasFeature(1)?i.unary(47,e):i.binary(11,i.binary(10,e,i.i32(24)),i.i32(24)));break}case 1:{s.canOverflow(e,r)&&(e=this.options.hasFeature(1)?i.unary(48,e):i.binary(11,i.binary(10,e,i.i32(16)),i.i32(16)));break}case 5:{s.canOverflow(e,r)&&(e=i.binary(7,e,i.i32(255)));break}case 6:{s.canOverflow(e,r)&&(e=i.binary(7,e,i.i32(65535)));break}case 10:{s.canOverflow(e,r)&&(e=i.binary(16,e,i.i32(0)));break}}return e}addDebugLocation(e,r){var i=this.currentFlow.parentFunction,s=r.source;s.debugInfoIndex<0&&(s.debugInfoIndex=this.module.addDebugInfoFile(s.normalizedPath)),r.debugInfoRef=e,i.debugLocations.push(r)}checkFeatureEnabled(e,r){return this.options.hasFeature(e)?!0:(this.error(103,r.range,zr(e)),!1)}checkTypeSupported(e,r){switch(e.kind){case 13:return this.checkFeatureEnabled(16,r);case 14:case 15:return this.checkFeatureEnabled(256,r);case 16:case 17:case 18:case 19:return this.checkFeatureEnabled(256,r)&&this.checkFeatureEnabled(1024,r)}let i=e.getClass();if(i)do{let s=i.typeArguments;if(s){for(let a=0,o=s.length;a<o;++a)if(!this.checkTypeSupported(s[a],r))return!1}i=i.base}while(i);else{let s=e.getSignature();if(s){let a=s.thisType;if(a&&!this.checkTypeSupported(a,r))return!1;let o=s.parameterTypes;for(let p=0,c=o.length;p<c;++p)if(!this.checkTypeSupported(o[p],r))return!1;let l=s.returnType;if(!this.checkTypeSupported(l,r))return!1}}return!0}checkSignatureSupported(e,r){var i=!0,s=r.explicitThisType;s&&(this.checkTypeSupported(assert(e.thisType),s)||(i=!1));var a=e.parameterTypes,o=r.parameters;for(let l=0,p=a.length;l<p;++l){let c;o.length>l?c=o[l]:c=r,this.checkTypeSupported(a[l],c)||(i=!1)}return this.checkTypeSupported(e.returnType,r.returnType)||(i=!1),i}evaluateCondition(e){let r=oe(e);if(r==F.Unreachable)return 0;assert(r==F.I32);var i=this.module,s=i.runExpression(e,0);return s?ie(s)?1:2:0}makeZero(e,r){var i=this.module;switch(e.kind){default:assert(!1);case 0:case 1:case 2:case 5:case 6:case 7:case 10:return i.i32(0);case 4:case 9:if(e.size!=64)return i.i32(0);case 3:case 8:return i.i64(0);case 11:return i.f32(0);case 12:return i.f64(0);case 13:return i.v128(Mo);case 14:case 15:case 16:case 17:case 19:return i.ref_null(e.toRef());case 18:return i.i31_new(i.i32(0))}}makeOne(e){var r=this.module;switch(e.kind){default:assert(!1);case 0:case 1:case 2:case 5:case 6:case 7:case 10:return r.i32(1);case 4:case 9:if(e.size!=64)return r.i32(1);case 3:case 8:return r.i64(1);case 11:return r.f32(1);case 12:return r.f64(1);case 18:return r.i31_new(r.i32(1))}}makeNegOne(e){var r=this.module;switch(e.kind){default:assert(!1);case 0:case 1:case 2:case 5:case 6:case 7:return r.i32(-1);case 4:case 9:if(e.size!=64)return r.i32(-1);case 3:case 8:return r.i64(-1,-1);case 11:return r.f32(-1);case 12:return r.f64(-1)}}makeIsTrueish(e,r,i){var s=this.module;switch(r.kind){case 0:case 1:case 5:case 6:e=this.ensureSmallIntegerWrap(e,r);case 10:case 2:case 7:return e;case 3:case 8:return s.binary(41,e,s.i64(0));case 9:case 4:return r.size==64?s.binary(41,e,s.i64(0)):e;case 11:return s.binary(20,s.binary(1,s.binary(10,s.unary(33,e),s.i32(1)),s.i32(2)),s.i32(4278190078));case 12:return s.binary(45,s.binary(26,s.binary(35,s.unary(34,e),s.i64(1)),s.i64(2)),s.i64(4294967294,4292870143));case 13:return s.unary(67,e);case 14:case 15:case 16:case 17:case 19:case 18:return s.unary(20,s.ref_is(0,e));default:return assert(!1),s.i32(0)}}makeToString(e,r,i){var s=this.program.stringInstance.type;if(r==s)return e;var a=r.getClassOrWrapper(this.program);if(a){let o=a.getMethod("toString");if(o){let l=o.signature;if(!this.checkCallSignature(l,0,!0,i))return this.currentType=s,this.module.unreachable();if(!r.isStrictlyAssignableTo(assert(l.thisType)))return this.errorRelated(2685,i.range,o.identifierAndSignatureRange),this.currentType=s,this.module.unreachable();let p=l.returnType;return p.isStrictlyAssignableTo(s)?this.makeCallDirect(o,[e],i):(this.errorRelated(2322,i.range,o.identifierAndSignatureRange,p.toString(),s.toString()),this.currentType=s,this.module.unreachable())}}return this.error(2322,i.range,r.toString(),s.toString()),this.currentType=s,this.module.unreachable()}makeAllocation(e){var r=this.program;assert(e.program==r);var i=this.module,s=this.options;if(this.currentType=e.type,e.hasDecorator(16)){let a=r.allocInstance;return this.compileFunction(a),i.call(a.internalName,[s.isWasm64?i.i64(e.nextMemoryOffset):i.i32(e.nextMemoryOffset)],s.sizeTypeRef)}else{let a=r.newInstance;return this.compileFunction(a),i.call(a.internalName,[s.isWasm64?i.i64(e.nextMemoryOffset):i.i32(e.nextMemoryOffset),i.i32(e.id)],s.sizeTypeRef)}}makeConditionalAllocation(e,r){var i=this.module,s=e.type,a=s.toRef();return assert(a==this.options.sizeTypeRef),i.if(i.unary(a==F.I64?21:20,i.local_get(r,a)),i.local_set(r,this.makeAllocation(e),e.type.isManaged))}makeFieldInitializationInConstructor(e,r=[]){var i=e.members;if(!i)return r;var s=this.module,a=this.currentFlow,o=a.isInline,l=o?a.lookupLocal(w.this_).index:0,p=this.options.sizeTypeRef,c=null;for(let _=Map_values(i),f=0,d=_.length;f<d;++f){let y=unchecked(_[f]);if(y.kind!=11||y.parent!=e)continue;let T=y;assert(!T.isAny(8));let v=T.prototype,I=v.parameterIndex;if(I<0){c||(c=new Array),c.push(T);continue}let R=T.type.toRef();assert(!v.initializerNode),this.compileFieldSetter(T),r.push(s.call(T.internalSetterName,[s.local_get(l,p),s.local_get(o?a.lookupLocal(T.name).index:1+I,R)],F.None))}if(c)for(let _=0,f=c.length;_<f;++_){let d=unchecked(c[_]),y=d.type,T=d.prototype,v=T.initializerNode;assert(T.parameterIndex<0),this.compileFieldSetter(d),r.push(s.call(d.internalSetterName,[s.local_get(l,p),v?this.compileExpression(v,y,1):this.makeZero(y,T.declaration)],F.None))}return this.currentType=u.void,r}makeAbort(e,r){var i=this.program,s=i.abortInstance;if(!s||!this.compileFunction(s))return this.module.unreachable();var a=i.stringInstance,o;return e?o=this.compileExpression(e,a.type,1):o=this.makeZero(a.type,r),this.makeStaticAbort(o,r)}makeStaticAbort(e,r){var i=this.program,s=this.module,a=i.abortInstance;if(!a||!this.compileFunction(a))return s.unreachable();var o=this.ensureStaticString(r.range.source.normalizedPath),l=r.range,p=l.source;return s.block(null,[s.call(a.internalName,[e,o,s.i32(p.lineAt(l.start)),s.i32(p.columnAt())],F.None),s.unreachable()])}makeRuntimeNonNullCheck(e,r,i){var s=this.module,a=this.currentFlow,o=a.getTempLocal(r);return a.canOverflow(e,r)||a.setLocalFlag(o.index,2),a.setLocalFlag(o.index,4),e=s.if(s.local_tee(o.index,e,r.isManaged),s.local_get(o.index,r.toRef()),this.makeStaticAbort(this.ensureStaticString("unexpected null"),i)),a.freeTempLocal(o),this.currentType=r.nonNullableType,e}makeRuntimeUpcastCheck(e,r,i,s){assert(i.isReference&&i.nonNullableType.isAssignableTo(r));var a=this.module,o=this.currentFlow,l=o.getTempLocal(r),p=this.program.instanceofInstance;return assert(this.compileFunction(p)),!i.isNullableReference||o.isNonnull(e,r)?e=a.if(a.call(p.internalName,[a.local_tee(l.index,e,r.isManaged),a.i32(i.classReference.id)],F.I32),a.local_get(l.index,r.toRef()),this.makeStaticAbort(this.ensureStaticString("unexpected upcast"),s)):e=a.if(a.local_tee(l.index,e,r.isManaged),a.if(a.call(p.internalName,[a.local_get(l.index,r.toRef()),a.i32(i.classReference.id)],F.I32),a.local_get(l.index,r.toRef()),this.makeStaticAbort(this.ensureStaticString("unexpected upcast"),s)),a.usize(0)),o.freeTempLocal(l),this.currentType=i,e}};function Dc(t,n){yr=n.range.source.simplePath,Yt=Ie(t.name,t.parent,t.is(131072),!0);let e=n.overriddenModuleName;if(e&&(yr=e),!!t.hasDecorator(128)){var r=t.program,i=assert(bt(9,n.decorators)),s=i.args;if(s&&s.length>0){let a=s[0];a.isLiteralKind(2)?(Yt=a.value,s.length>=2&&(a=s[1],a.isLiteralKind(2)?(yr=Yt,Yt=a.value,s.length>2&&r.error(2554,i.range,"2",s.length.toString())):r.error(1141,a.range))):r.error(1141,a.range)}else r.error(2555,i.range,"1","0")}}var yr,Yt;var h;(m=>(m.start="~start",m.started="~started",m.argumentsLength="~argumentsLength",m.setArgumentsLength="~setArgumentsLength",m.abort="~lib/builtins/abort",m.trace="~lib/builtins/trace",m.seed="~lib/builtins/seed",m.isInteger="~lib/builtins/isInteger",m.isFloat="~lib/builtins/isFloat",m.isBoolean="~lib/builtins/isBoolean",m.isSigned="~lib/builtins/isSigned",m.isReference="~lib/builtins/isReference",m.isString="~lib/builtins/isString",m.isArray="~lib/builtins/isArray",m.isArrayLike="~lib/builtins/isArrayLike",m.isFunction="~lib/builtins/isFunction",m.isNullable="~lib/builtins/isNullable",m.isDefined="~lib/builtins/isDefined",m.isConstant="~lib/builtins/isConstant",m.isManaged="~lib/builtins/isManaged",m.isVoid="~lib/builtins/isVoid",m.add="~lib/builtins/add",m.sub="~lib/builtins/sub",m.mul="~lib/builtins/mul",m.div="~lib/builtins/div",m.clz="~lib/builtins/clz",m.ctz="~lib/builtins/ctz",m.popcnt="~lib/builtins/popcnt",m.rotl="~lib/builtins/rotl",m.rotr="~lib/builtins/rotr",m.abs="~lib/builtins/abs",m.max="~lib/builtins/max",m.min="~lib/builtins/min",m.ceil="~lib/builtins/ceil",m.floor="~lib/builtins/floor",m.copysign="~lib/builtins/copysign",m.nearest="~lib/builtins/nearest",m.reinterpret="~lib/builtins/reinterpret",m.sqrt="~lib/builtins/sqrt",m.trunc="~lib/builtins/trunc",m.eq="~lib/builtins/eq",m.ne="~lib/builtins/ne",m.load="~lib/builtins/load",m.store="~lib/builtins/store",m.atomic_load="~lib/builtins/atomic.load",m.atomic_store="~lib/builtins/atomic.store",m.atomic_add="~lib/builtins/atomic.add",m.atomic_sub="~lib/builtins/atomic.sub",m.atomic_and="~lib/builtins/atomic.and",m.atomic_or="~lib/builtins/atomic.or",m.atomic_xor="~lib/builtins/atomic.xor",m.atomic_xchg="~lib/builtins/atomic.xchg",m.atomic_cmpxchg="~lib/builtins/atomic.cmpxchg",m.atomic_wait="~lib/builtins/atomic.wait",m.atomic_notify="~lib/builtins/atomic.notify",m.atomic_fence="~lib/builtins/atomic.fence",m.sizeof="~lib/builtins/sizeof",m.alignof="~lib/builtins/alignof",m.offsetof="~lib/builtins/offsetof",m.nameof="~lib/builtins/nameof",m.lengthof="~lib/builtins/lengthof",m.select="~lib/builtins/select",m.unreachable="~lib/builtins/unreachable",m.changetype="~lib/builtins/changetype",m.assert="~lib/builtins/assert",m.call_indirect="~lib/builtins/call_indirect",m.unchecked="~lib/builtins/unchecked",m.instantiate="~lib/builtins/instantiate",m.idof="~lib/builtins/idof",m.i8="~lib/builtins/i8",m.i16="~lib/builtins/i16",m.i32="~lib/builtins/i32",m.i64="~lib/builtins/i64",m.isize="~lib/builtins/isize",m.u8="~lib/builtins/u8",m.u16="~lib/builtins/u16",m.u32="~lib/builtins/u32",m.u64="~lib/builtins/u64",m.usize="~lib/builtins/usize",m.bool="~lib/builtins/bool",m.f32="~lib/builtins/f32",m.f64="~lib/builtins/f64",m.v128="~lib/builtins/v128",m.i32_clz="~lib/builtins/i32.clz",m.i64_clz="~lib/builtins/i64.clz",m.i32_ctz="~lib/builtins/i32.ctz",m.i64_ctz="~lib/builtins/i64.ctz",m.i32_popcnt="~lib/builtins/i32.popcnt",m.i64_popcnt="~lib/builtins/i64.popcnt",m.i32_rotl="~lib/builtins/i32.rotl",m.i64_rotl="~lib/builtins/i64.rotl",m.i32_rotr="~lib/builtins/i32.rotr",m.i64_rotr="~lib/builtins/i64.rotr",m.f32_abs="~lib/builtins/f32.abs",m.f64_abs="~lib/builtins/f64.abs",m.f32_max="~lib/builtins/f32.max",m.f64_max="~lib/builtins/f64.max",m.f32_min="~lib/builtins/f32.min",m.f64_min="~lib/builtins/f64.min",m.f32_ceil="~lib/builtins/f32.ceil",m.f64_ceil="~lib/builtins/f64.ceil",m.f32_floor="~lib/builtins/f32.floor",m.f64_floor="~lib/builtins/f64.floor",m.f32_copysign="~lib/builtins/f32.copysign",m.f64_copysign="~lib/builtins/f64.copysign",m.f32_nearest="~lib/builtins/f32.nearest",m.f64_nearest="~lib/builtins/f64.nearest",m.i32_reinterpret_f32="~lib/builtins/i32.reinterpret_f32",m.i64_reinterpret_f64="~lib/builtins/i64.reinterpret_f64",m.f32_reinterpret_i32="~lib/builtins/f32.reinterpret_i32",m.f64_reinterpret_i64="~lib/builtins/f64.reinterpret_i64",m.f32_sqrt="~lib/builtins/f32.sqrt",m.f64_sqrt="~lib/builtins/f64.sqrt",m.f32_trunc="~lib/builtins/f32.trunc",m.f64_trunc="~lib/builtins/f64.trunc",m.i32_add="~lib/builtins/i32.add",m.i64_add="~lib/builtins/i64.add",m.f32_add="~lib/builtins/f32.add",m.f64_add="~lib/builtins/f64.add",m.i32_sub="~lib/builtins/i32.sub",m.i64_sub="~lib/builtins/i64.sub",m.f32_sub="~lib/builtins/f32.sub",m.f64_sub="~lib/builtins/f64.sub",m.i32_mul="~lib/builtins/i32.mul",m.i64_mul="~lib/builtins/i64.mul",m.f32_mul="~lib/builtins/f32.mul",m.f64_mul="~lib/builtins/f64.mul",m.i32_div_s="~lib/builtins/i32.div_s",m.i32_div_u="~lib/builtins/i32.div_u",m.i64_div_s="~lib/builtins/i64.div_s",m.i64_div_u="~lib/builtins/i64.div_u",m.f32_div="~lib/builtins/f32.div",m.f64_div="~lib/builtins/f64.div",m.i32_eq="~lib/builtins/i32.eq",m.i64_eq="~lib/builtins/i64.eq",m.f32_eq="~lib/builtins/f32.eq",m.f64_eq="~lib/builtins/f64.eq",m.i32_ne="~lib/builtins/i32.ne",m.i64_ne="~lib/builtins/i64.ne",m.f32_ne="~lib/builtins/f32.ne",m.f64_ne="~lib/builtins/f64.ne",m.i32_load8_s="~lib/builtins/i32.load8_s",m.i32_load8_u="~lib/builtins/i32.load8_u",m.i32_load16_s="~lib/builtins/i32.load16_s",m.i32_load16_u="~lib/builtins/i32.load16_u",m.i32_load="~lib/builtins/i32.load",m.i64_load8_s="~lib/builtins/i64.load8_s",m.i64_load8_u="~lib/builtins/i64.load8_u",m.i64_load16_s="~lib/builtins/i64.load16_s",m.i64_load16_u="~lib/builtins/i64.load16_u",m.i64_load32_s="~lib/builtins/i64.load32_s",m.i64_load32_u="~lib/builtins/i64.load32_u",m.i64_load="~lib/builtins/i64.load",m.f32_load="~lib/builtins/f32.load",m.f64_load="~lib/builtins/f64.load",m.i32_store8="~lib/builtins/i32.store8",m.i32_store16="~lib/builtins/i32.store16",m.i32_store="~lib/builtins/i32.store",m.i64_store8="~lib/builtins/i64.store8",m.i64_store16="~lib/builtins/i64.store16",m.i64_store32="~lib/builtins/i64.store32",m.i64_store="~lib/builtins/i64.store",m.f32_store="~lib/builtins/f32.store",m.f64_store="~lib/builtins/f64.store",m.i32_atomic_load8_u="~lib/builtins/i32.atomic.load8_u",m.i32_atomic_load16_u="~lib/builtins/i32.atomic.load16_u",m.i32_atomic_load="~lib/builtins/i32.atomic.load",m.i64_atomic_load8_u="~lib/builtins/i64.atomic.load8_u",m.i64_atomic_load16_u="~lib/builtins/i64.atomic.load16_u",m.i64_atomic_load32_u="~lib/builtins/i64.atomic.load32_u",m.i64_atomic_load="~lib/builtins/i64.atomic.load",m.i32_atomic_store8="~lib/builtins/i32.atomic.store8",m.i32_atomic_store16="~lib/builtins/i32.atomic.store16",m.i32_atomic_store="~lib/builtins/i32.atomic.store",m.i64_atomic_store8="~lib/builtins/i64.atomic.store8",m.i64_atomic_store16="~lib/builtins/i64.atomic.store16",m.i64_atomic_store32="~lib/builtins/i64.atomic.store32",m.i64_atomic_store="~lib/builtins/i64.atomic.store",m.i32_atomic_rmw8_add_u="~lib/builtins/i32.atomic.rmw8.add_u",m.i32_atomic_rmw16_add_u="~lib/builtins/i32.atomic.rmw16.add_u",m.i32_atomic_rmw_add="~lib/builtins/i32.atomic.rmw.add",m.i64_atomic_rmw8_add_u="~lib/builtins/i64.atomic.rmw8.add_u",m.i64_atomic_rmw16_add_u="~lib/builtins/i64.atomic.rmw16.add_u",m.i64_atomic_rmw32_add_u="~lib/builtins/i64.atomic.rmw32.add_u",m.i64_atomic_rmw_add="~lib/builtins/i64.atomic.rmw.add",m.i32_atomic_rmw8_sub_u="~lib/builtins/i32.atomic.rmw8.sub_u",m.i32_atomic_rmw16_sub_u="~lib/builtins/i32.atomic.rmw16.sub_u",m.i32_atomic_rmw_sub="~lib/builtins/i32.atomic.rmw.sub",m.i64_atomic_rmw8_sub_u="~lib/builtins/i64.atomic.rmw8.sub_u",m.i64_atomic_rmw16_sub_u="~lib/builtins/i64.atomic.rmw16.sub_u",m.i64_atomic_rmw32_sub_u="~lib/builtins/i64.atomic.rmw32.sub_u",m.i64_atomic_rmw_sub="~lib/builtins/i64.atomic.rmw.sub",m.i32_atomic_rmw8_and_u="~lib/builtins/i32.atomic.rmw8.and_u",m.i32_atomic_rmw16_and_u="~lib/builtins/i32.atomic.rmw16.and_u",m.i32_atomic_rmw_and="~lib/builtins/i32.atomic.rmw.and",m.i64_atomic_rmw8_and_u="~lib/builtins/i64.atomic.rmw8.and_u",m.i64_atomic_rmw16_and_u="~lib/builtins/i64.atomic.rmw16.and_u",m.i64_atomic_rmw32_and_u="~lib/builtins/i64.atomic.rmw32.and_u",m.i64_atomic_rmw_and="~lib/builtins/i64.atomic.rmw.and",m.i32_atomic_rmw8_or_u="~lib/builtins/i32.atomic.rmw8.or_u",m.i32_atomic_rmw16_or_u="~lib/builtins/i32.atomic.rmw16.or_u",m.i32_atomic_rmw_or="~lib/builtins/i32.atomic.rmw.or",m.i64_atomic_rmw8_or_u="~lib/builtins/i64.atomic.rmw8.or_u",m.i64_atomic_rmw16_or_u="~lib/builtins/i64.atomic.rmw16.or_u",m.i64_atomic_rmw32_or_u="~lib/builtins/i64.atomic.rmw32.or_u",m.i64_atomic_rmw_or="~lib/builtins/i64.atomic.rmw.or",m.i32_atomic_rmw8_xor_u="~lib/builtins/i32.atomic.rmw8.xor_u",m.i32_atomic_rmw16_xor_u="~lib/builtins/i32.atomic.rmw16.xor_u",m.i32_atomic_rmw_xor="~lib/builtins/i32.atomic.rmw.xor",m.i64_atomic_rmw8_xor_u="~lib/builtins/i64.atomic.rmw8.xor_u",m.i64_atomic_rmw16_xor_u="~lib/builtins/i64.atomic.rmw16.xor_u",m.i64_atomic_rmw32_xor_u="~lib/builtins/i64.atomic.rmw32.xor_u",m.i64_atomic_rmw_xor="~lib/builtins/i64.atomic.rmw.xor",m.i32_atomic_rmw8_xchg_u="~lib/builtins/i32.atomic.rmw8.xchg_u",m.i32_atomic_rmw16_xchg_u="~lib/builtins/i32.atomic.rmw16.xchg_u",m.i32_atomic_rmw_xchg="~lib/builtins/i32.atomic.rmw.xchg",m.i64_atomic_rmw8_xchg_u="~lib/builtins/i64.atomic.rmw8.xchg_u",m.i64_atomic_rmw16_xchg_u="~lib/builtins/i64.atomic.rmw16.xchg_u",m.i64_atomic_rmw32_xchg_u="~lib/builtins/i64.atomic.rmw32.xchg_u",m.i64_atomic_rmw_xchg="~lib/builtins/i64.atomic.rmw.xchg",m.i32_atomic_rmw8_cmpxchg_u="~lib/builtins/i32.atomic.rmw8.cmpxchg_u",m.i32_atomic_rmw16_cmpxchg_u="~lib/builtins/i32.atomic.rmw16.cmpxchg_u",m.i32_atomic_rmw_cmpxchg="~lib/builtins/i32.atomic.rmw.cmpxchg",m.i64_atomic_rmw8_cmpxchg_u="~lib/builtins/i64.atomic.rmw8.cmpxchg_u",m.i64_atomic_rmw16_cmpxchg_u="~lib/builtins/i64.atomic.rmw16.cmpxchg_u",m.i64_atomic_rmw32_cmpxchg_u="~lib/builtins/i64.atomic.rmw32.cmpxchg_u",m.i64_atomic_rmw_cmpxchg="~lib/builtins/i64.atomic.rmw.cmpxchg",m.i32_wait="~lib/builtins/i32.wait",m.i64_wait="~lib/builtins/i64.wait",m.v128_splat="~lib/builtins/v128.splat",m.v128_extract_lane="~lib/builtins/v128.extract_lane",m.v128_replace_lane="~lib/builtins/v128.replace_lane",m.v128_shuffle="~lib/builtins/v128.shuffle",m.v128_swizzle="~lib/builtins/v128.swizzle",m.v128_load_splat="~lib/builtins/v128.load_splat",m.v128_load_ext="~lib/builtins/v128.load_ext",m.v128_load_zero="~lib/builtins/v128.load_zero",m.v128_load_lane="~lib/builtins/v128.load_lane",m.v128_store_lane="~lib/builtins/v128.store_lane",m.v128_load="~lib/builtins/v128.load",m.v128_load8x8_s="~lib/builtins/v128.load8x8_s",m.v128_load8x8_u="~lib/builtins/v128.load8x8_u",m.v128_load16x4_s="~lib/builtins/v128.load16x4_s",m.v128_load16x4_u="~lib/builtins/v128.load16x4_u",m.v128_load32x2_s="~lib/builtins/v128.load32x2_s",m.v128_load32x2_u="~lib/builtins/v128.load32x2_u",m.v128_load8_splat="~lib/builtins/v128.load8_splat",m.v128_load16_splat="~lib/builtins/v128.load16_splat",m.v128_load32_splat="~lib/builtins/v128.load32_splat",m.v128_load64_splat="~lib/builtins/v128.load64_splat",m.v128_load32_zero="~lib/builtins/v128.load32_zero",m.v128_load64_zero="~lib/builtins/v128.load64_zero",m.v128_load8_lane="~lib/builtins/v128.load8_lane",m.v128_load16_lane="~lib/builtins/v128.load16_lane",m.v128_load32_lane="~lib/builtins/v128.load32_lane",m.v128_load64_lane="~lib/builtins/v128.load64_lane",m.v128_store8_lane="~lib/builtins/v128.store8_lane",m.v128_store16_lane="~lib/builtins/v128.store16_lane",m.v128_store32_lane="~lib/builtins/v128.store32_lane",m.v128_store64_lane="~lib/builtins/v128.store64_lane",m.v128_store="~lib/builtins/v128.store",m.v128_add="~lib/builtins/v128.add",m.v128_sub="~lib/builtins/v128.sub",m.v128_mul="~lib/builtins/v128.mul",m.v128_div="~lib/builtins/v128.div",m.v128_neg="~lib/builtins/v128.neg",m.v128_add_sat="~lib/builtins/v128.add_sat",m.v128_sub_sat="~lib/builtins/v128.sub_sat",m.v128_shl="~lib/builtins/v128.shl",m.v128_shr="~lib/builtins/v128.shr",m.v128_and="~lib/builtins/v128.and",m.v128_or="~lib/builtins/v128.or",m.v128_xor="~lib/builtins/v128.xor",m.v128_andnot="~lib/builtins/v128.andnot",m.v128_not="~lib/builtins/v128.not",m.v128_bitselect="~lib/builtins/v128.bitselect",m.v128_any_true="~lib/builtins/v128.any_true",m.v128_all_true="~lib/builtins/v128.all_true",m.v128_bitmask="~lib/builtins/v128.bitmask",m.v128_popcnt="~lib/builtins/v128.popcnt",m.v128_min="~lib/builtins/v128.min",m.v128_max="~lib/builtins/v128.max",m.v128_pmin="~lib/builtins/v128.pmin",m.v128_pmax="~lib/builtins/v128.pmax",m.v128_dot="~lib/builtins/v128.dot",m.v128_avgr="~lib/builtins/v128.avgr",m.v128_abs="~lib/builtins/v128.abs",m.v128_sqrt="~lib/builtins/v128.sqrt",m.v128_ceil="~lib/builtins/v128.ceil",m.v128_floor="~lib/builtins/v128.floor",m.v128_trunc="~lib/builtins/v128.trunc",m.v128_nearest="~lib/builtins/v128.nearest",m.v128_eq="~lib/builtins/v128.eq",m.v128_ne="~lib/builtins/v128.ne",m.v128_lt="~lib/builtins/v128.lt",m.v128_le="~lib/builtins/v128.le",m.v128_gt="~lib/builtins/v128.gt",m.v128_ge="~lib/builtins/v128.ge",m.v128_convert="~lib/builtins/v128.convert",m.v128_convert_low="~lib/builtins/v128.convert_low",m.v128_trunc_sat="~lib/builtins/v128.trunc_sat",m.v128_trunc_sat_zero="~lib/builtins/v128.trunc_sat_zero",m.v128_narrow="~lib/builtins/v128.narrow",m.v128_extend_low="~lib/builtins/v128.extend_low",m.v128_extend_high="~lib/builtins/v128.extend_high",m.v128_extadd_pairwise="~lib/builtins/v128.extadd_pairwise",m.v128_demote_zero="~lib/builtins/v128.demote_zero",m.v128_promote_low="~lib/builtins/v128.promote_low",m.v128_q15mulr_sat="~lib/builtins/v128.q15mulr_sat",m.v128_extmul_low="~lib/builtins/v128.extmul_low",m.v128_extmul_high="~lib/builtins/v128.extmul_high",m.i8x16="~lib/builtins/i8x16",m.i16x8="~lib/builtins/i16x8",m.i32x4="~lib/builtins/i32x4",m.i64x2="~lib/builtins/i64x2",m.f32x4="~lib/builtins/f32x4",m.f64x2="~lib/builtins/f64x2",m.i8x16_splat="~lib/builtins/i8x16.splat",m.i8x16_extract_lane_s="~lib/builtins/i8x16.extract_lane_s",m.i8x16_extract_lane_u="~lib/builtins/i8x16.extract_lane_u",m.i8x16_replace_lane="~lib/builtins/i8x16.replace_lane",m.i8x16_add="~lib/builtins/i8x16.add",m.i8x16_sub="~lib/builtins/i8x16.sub",m.i8x16_mul="~lib/builtins/i8x16.mul",m.i8x16_min_s="~lib/builtins/i8x16.min_s",m.i8x16_min_u="~lib/builtins/i8x16.min_u",m.i8x16_max_s="~lib/builtins/i8x16.max_s",m.i8x16_max_u="~lib/builtins/i8x16.max_u",m.i8x16_avgr_u="~lib/builtins/i8x16.avgr_u",m.i8x16_abs="~lib/builtins/i8x16.abs",m.i8x16_neg="~lib/builtins/i8x16.neg",m.i8x16_add_sat_s="~lib/builtins/i8x16.add_sat_s",m.i8x16_add_sat_u="~lib/builtins/i8x16.add_sat_u",m.i8x16_sub_sat_s="~lib/builtins/i8x16.sub_sat_s",m.i8x16_sub_sat_u="~lib/builtins/i8x16.sub_sat_u",m.i8x16_shl="~lib/builtins/i8x16.shl",m.i8x16_shr_s="~lib/builtins/i8x16.shr_s",m.i8x16_shr_u="~lib/builtins/i8x16.shr_u",m.i8x16_all_true="~lib/builtins/i8x16.all_true",m.i8x16_bitmask="~lib/builtins/i8x16.bitmask",m.i8x16_popcnt="~lib/builtins/i8x16.popcnt",m.i8x16_eq="~lib/builtins/i8x16.eq",m.i8x16_ne="~lib/builtins/i8x16.ne",m.i8x16_lt_s="~lib/builtins/i8x16.lt_s",m.i8x16_lt_u="~lib/builtins/i8x16.lt_u",m.i8x16_le_s="~lib/builtins/i8x16.le_s",m.i8x16_le_u="~lib/builtins/i8x16.le_u",m.i8x16_gt_s="~lib/builtins/i8x16.gt_s",m.i8x16_gt_u="~lib/builtins/i8x16.gt_u",m.i8x16_ge_s="~lib/builtins/i8x16.ge_s",m.i8x16_ge_u="~lib/builtins/i8x16.ge_u",m.i8x16_narrow_i16x8_s="~lib/builtins/i8x16.narrow_i16x8_s",m.i8x16_narrow_i16x8_u="~lib/builtins/i8x16.narrow_i16x8_u",m.i8x16_shuffle="~lib/builtins/i8x16.shuffle",m.i8x16_swizzle="~lib/builtins/i8x16.swizzle",m.i16x8_splat="~lib/builtins/i16x8.splat",m.i16x8_extract_lane_s="~lib/builtins/i16x8.extract_lane_s",m.i16x8_extract_lane_u="~lib/builtins/i16x8.extract_lane_u",m.i16x8_replace_lane="~lib/builtins/i16x8.replace_lane",m.i16x8_add="~lib/builtins/i16x8.add",m.i16x8_sub="~lib/builtins/i16x8.sub",m.i16x8_mul="~lib/builtins/i16x8.mul",m.i16x8_min_s="~lib/builtins/i16x8.min_s",m.i16x8_min_u="~lib/builtins/i16x8.min_u",m.i16x8_max_s="~lib/builtins/i16x8.max_s",m.i16x8_max_u="~lib/builtins/i16x8.max_u",m.i16x8_avgr_u="~lib/builtins/i16x8.avgr_u",m.i16x8_abs="~lib/builtins/i16x8.abs",m.i16x8_neg="~lib/builtins/i16x8.neg",m.i16x8_add_sat_s="~lib/builtins/i16x8.add_sat_s",m.i16x8_add_sat_u="~lib/builtins/i16x8.add_sat_u",m.i16x8_sub_sat_s="~lib/builtins/i16x8.sub_sat_s",m.i16x8_sub_sat_u="~lib/builtins/i16x8.sub_sat_u",m.i16x8_shl="~lib/builtins/i16x8.shl",m.i16x8_shr_s="~lib/builtins/i16x8.shr_s",m.i16x8_shr_u="~lib/builtins/i16x8.shr_u",m.i16x8_all_true="~lib/builtins/i16x8.all_true",m.i16x8_bitmask="~lib/builtins/i16x8.bitmask",m.i16x8_eq="~lib/builtins/i16x8.eq",m.i16x8_ne="~lib/builtins/i16x8.ne",m.i16x8_lt_s="~lib/builtins/i16x8.lt_s",m.i16x8_lt_u="~lib/builtins/i16x8.lt_u",m.i16x8_le_s="~lib/builtins/i16x8.le_s",m.i16x8_le_u="~lib/builtins/i16x8.le_u",m.i16x8_gt_s="~lib/builtins/i16x8.gt_s",m.i16x8_gt_u="~lib/builtins/i16x8.gt_u",m.i16x8_ge_s="~lib/builtins/i16x8.ge_s",m.i16x8_ge_u="~lib/builtins/i16x8.ge_u",m.i16x8_narrow_i32x4_s="~lib/builtins/i16x8.narrow_i32x4_s",m.i16x8_narrow_i32x4_u="~lib/builtins/i16x8.narrow_i32x4_u",m.i16x8_extend_low_i8x16_s="~lib/builtins/i16x8.extend_low_i8x16_s",m.i16x8_extend_low_i8x16_u="~lib/builtins/i16x8.extend_low_i8x16_u",m.i16x8_extend_high_i8x16_s="~lib/builtins/i16x8.extend_high_i8x16_s",m.i16x8_extend_high_i8x16_u="~lib/builtins/i16x8.extend_high_i8x16_u",m.i16x8_extadd_pairwise_i8x16_s="~lib/builtins/i16x8.extadd_pairwise_i8x16_s",m.i16x8_extadd_pairwise_i8x16_u="~lib/builtins/i16x8.extadd_pairwise_i8x16_u",m.i16x8_q15mulr_sat_s="~lib/builtins/i16x8.q15mulr_sat_s",m.i16x8_extmul_low_i8x16_s="~lib/builtins/i16x8.extmul_low_i8x16_s",m.i16x8_extmul_low_i8x16_u="~lib/builtins/i16x8.extmul_low_i8x16_u",m.i16x8_extmul_high_i8x16_s="~lib/builtins/i16x8.extmul_high_i8x16_s",m.i16x8_extmul_high_i8x16_u="~lib/builtins/i16x8.extmul_high_i8x16_u",m.i32x4_splat="~lib/builtins/i32x4.splat",m.i32x4_extract_lane="~lib/builtins/i32x4.extract_lane",m.i32x4_replace_lane="~lib/builtins/i32x4.replace_lane",m.i32x4_add="~lib/builtins/i32x4.add",m.i32x4_sub="~lib/builtins/i32x4.sub",m.i32x4_mul="~lib/builtins/i32x4.mul",m.i32x4_min_s="~lib/builtins/i32x4.min_s",m.i32x4_min_u="~lib/builtins/i32x4.min_u",m.i32x4_max_s="~lib/builtins/i32x4.max_s",m.i32x4_max_u="~lib/builtins/i32x4.max_u",m.i32x4_dot_i16x8_s="~lib/builtins/i32x4.dot_i16x8_s",m.i32x4_abs="~lib/builtins/i32x4.abs",m.i32x4_neg="~lib/builtins/i32x4.neg",m.i32x4_shl="~lib/builtins/i32x4.shl",m.i32x4_shr_s="~lib/builtins/i32x4.shr_s",m.i32x4_shr_u="~lib/builtins/i32x4.shr_u",m.i32x4_all_true="~lib/builtins/i32x4.all_true",m.i32x4_bitmask="~lib/builtins/i32x4.bitmask",m.i32x4_eq="~lib/builtins/i32x4.eq",m.i32x4_ne="~lib/builtins/i32x4.ne",m.i32x4_lt_s="~lib/builtins/i32x4.lt_s",m.i32x4_lt_u="~lib/builtins/i32x4.lt_u",m.i32x4_le_s="~lib/builtins/i32x4.le_s",m.i32x4_le_u="~lib/builtins/i32x4.le_u",m.i32x4_gt_s="~lib/builtins/i32x4.gt_s",m.i32x4_gt_u="~lib/builtins/i32x4.gt_u",m.i32x4_ge_s="~lib/builtins/i32x4.ge_s",m.i32x4_ge_u="~lib/builtins/i32x4.ge_u",m.i32x4_trunc_sat_f32x4_s="~lib/builtins/i32x4.trunc_sat_f32x4_s",m.i32x4_trunc_sat_f32x4_u="~lib/builtins/i32x4.trunc_sat_f32x4_u",m.i32x4_trunc_sat_f64x2_s_zero="~lib/builtins/i32x4.trunc_sat_f64x2_s_zero",m.i32x4_trunc_sat_f64x2_u_zero="~lib/builtins/i32x4.trunc_sat_f64x2_u_zero",m.i32x4_extend_low_i16x8_s="~lib/builtins/i32x4.extend_low_i16x8_s",m.i32x4_extend_low_i16x8_u="~lib/builtins/i32x4.extend_low_i16x8_u",m.i32x4_extend_high_i16x8_s="~lib/builtins/i32x4.extend_high_i16x8_s",m.i32x4_extend_high_i16x8_u="~lib/builtins/i32x4.extend_high_i16x8_u",m.i32x4_extadd_pairwise_i16x8_s="~lib/builtins/i32x4.extadd_pairwise_i16x8_s",m.i32x4_extadd_pairwise_i16x8_u="~lib/builtins/i32x4.extadd_pairwise_i16x8_u",m.i32x4_extmul_low_i16x8_s="~lib/builtins/i32x4.extmul_low_i16x8_s",m.i32x4_extmul_low_i16x8_u="~lib/builtins/i32x4.extmul_low_i16x8_u",m.i32x4_extmul_high_i16x8_s="~lib/builtins/i32x4.extmul_high_i16x8_s",m.i32x4_extmul_high_i16x8_u="~lib/builtins/i32x4.extmul_high_i16x8_u",m.i64x2_splat="~lib/builtins/i64x2.splat",m.i64x2_extract_lane="~lib/builtins/i64x2.extract_lane",m.i64x2_replace_lane="~lib/builtins/i64x2.replace_lane",m.i64x2_add="~lib/builtins/i64x2.add",m.i64x2_sub="~lib/builtins/i64x2.sub",m.i64x2_mul="~lib/builtins/i64x2.mul",m.i64x2_abs="~lib/builtins/i64x2.abs",m.i64x2_neg="~lib/builtins/i64x2.neg",m.i64x2_shl="~lib/builtins/i64x2.shl",m.i64x2_shr_s="~lib/builtins/i64x2.shr_s",m.i64x2_shr_u="~lib/builtins/i64x2.shr_u",m.i64x2_all_true="~lib/builtins/i64x2.all_true",m.i64x2_bitmask="~lib/builtins/i64x2.bitmask",m.i64x2_eq="~lib/builtins/i64x2.eq",m.i64x2_ne="~lib/builtins/i64x2.ne",m.i64x2_lt_s="~lib/builtins/i64x2.lt_s",m.i64x2_lt_u="~lib/builtins/i64x2.lt_u",m.i64x2_le_s="~lib/builtins/i64x2.le_s",m.i64x2_le_u="~lib/builtins/i64x2.le_u",m.i64x2_gt_s="~lib/builtins/i64x2.gt_s",m.i64x2_gt_u="~lib/builtins/i64x2.gt_u",m.i64x2_ge_s="~lib/builtins/i64x2.ge_s",m.i64x2_ge_u="~lib/builtins/i64x2.ge_u",m.i64x2_extend_low_i32x4_s="~lib/builtins/i64x2.extend_low_i32x4_s",m.i64x2_extend_low_i32x4_u="~lib/builtins/i64x2.extend_low_i32x4_u",m.i64x2_extend_high_i32x4_s="~lib/builtins/i64x2.extend_high_i32x4_s",m.i64x2_extend_high_i32x4_u="~lib/builtins/i64x2.extend_high_i32x4_u",m.i64x2_extmul_low_i32x4_s="~lib/builtins/i64x2.extmul_low_i32x4_s",m.i64x2_extmul_low_i32x4_u="~lib/builtins/i64x2.extmul_low_i32x4_u",m.i64x2_extmul_high_i32x4_s="~lib/builtins/i64x2.extmul_high_i32x4_s",m.i64x2_extmul_high_i32x4_u="~lib/builtins/i64x2.extmul_high_i32x4_u",m.f32x4_splat="~lib/builtins/f32x4.splat",m.f32x4_extract_lane="~lib/builtins/f32x4.extract_lane",m.f32x4_replace_lane="~lib/builtins/f32x4.replace_lane",m.f32x4_add="~lib/builtins/f32x4.add",m.f32x4_sub="~lib/builtins/f32x4.sub",m.f32x4_mul="~lib/builtins/f32x4.mul",m.f32x4_div="~lib/builtins/f32x4.div",m.f32x4_neg="~lib/builtins/f32x4.neg",m.f32x4_min="~lib/builtins/f32x4.min",m.f32x4_max="~lib/builtins/f32x4.max",m.f32x4_pmin="~lib/builtins/f32x4.pmin",m.f32x4_pmax="~lib/builtins/f32x4.pmax",m.f32x4_abs="~lib/builtins/f32x4.abs",m.f32x4_sqrt="~lib/builtins/f32x4.sqrt",m.f32x4_ceil="~lib/builtins/f32x4.ceil",m.f32x4_floor="~lib/builtins/f32x4.floor",m.f32x4_trunc="~lib/builtins/f32x4.trunc",m.f32x4_nearest="~lib/builtins/f32x4.nearest",m.f32x4_eq="~lib/builtins/f32x4.eq",m.f32x4_ne="~lib/builtins/f32x4.ne",m.f32x4_lt="~lib/builtins/f32x4.lt",m.f32x4_le="~lib/builtins/f32x4.le",m.f32x4_gt="~lib/builtins/f32x4.gt",m.f32x4_ge="~lib/builtins/f32x4.ge",m.f32x4_convert_i32x4_s="~lib/builtins/f32x4.convert_i32x4_s",m.f32x4_convert_i32x4_u="~lib/builtins/f32x4.convert_i32x4_u",m.f32x4_demote_f64x2_zero="~lib/builtins/f32x4.demote_f64x2_zero",m.f64x2_splat="~lib/builtins/f64x2.splat",m.f64x2_extract_lane="~lib/builtins/f64x2.extract_lane",m.f64x2_replace_lane="~lib/builtins/f64x2.replace_lane",m.f64x2_add="~lib/builtins/f64x2.add",m.f64x2_sub="~lib/builtins/f64x2.sub",m.f64x2_mul="~lib/builtins/f64x2.mul",m.f64x2_div="~lib/builtins/f64x2.div",m.f64x2_neg="~lib/builtins/f64x2.neg",m.f64x2_min="~lib/builtins/f64x2.min",m.f64x2_max="~lib/builtins/f64x2.max",m.f64x2_pmin="~lib/builtins/f64x2.pmin",m.f64x2_pmax="~lib/builtins/f64x2.pmax",m.f64x2_abs="~lib/builtins/f64x2.abs",m.f64x2_sqrt="~lib/builtins/f64x2.sqrt",m.f64x2_ceil="~lib/builtins/f64x2.ceil",m.f64x2_floor="~lib/builtins/f64x2.floor",m.f64x2_trunc="~lib/builtins/f64x2.trunc",m.f64x2_nearest="~lib/builtins/f64x2.nearest",m.f64x2_eq="~lib/builtins/f64x2.eq",m.f64x2_ne="~lib/builtins/f64x2.ne",m.f64x2_lt="~lib/builtins/f64x2.lt",m.f64x2_le="~lib/builtins/f64x2.le",m.f64x2_gt="~lib/builtins/f64x2.gt",m.f64x2_ge="~lib/builtins/f64x2.ge",m.f64x2_convert_low_i32x4_s="~lib/builtins/f64x2.convert_low_i32x4_s",m.f64x2_convert_low_i32x4_u="~lib/builtins/f64x2.convert_low_i32x4_u",m.f64x2_promote_low_f32x4="~lib/builtins/f64x2.promote_low_f32x4",m.i31_new="~lib/builtins/i31.new",m.i31_get="~lib/builtins/i31.get",m.data_end="~lib/memory/__data_end",m.stack_pointer="~lib/memory/__stack_pointer",m.heap_base="~lib/memory/__heap_base",m.rtti_base="~lib/rt/__rtti_base",m.visit_globals="~lib/rt/__visit_globals",m.visit_members="~lib/rt/__visit_members",m.tostack="~lib/rt/__tostack",m.isNaN="~lib/number/isNaN",m.isFinite="~lib/number/isFinite",m.ERROR="~lib/diagnostics/ERROR",m.WARNING="~lib/diagnostics/WARNING",m.INFO="~lib/diagnostics/INFO",m.Function="~lib/function/Function",m.memory_size="~lib/memory/memory.size",m.memory_grow="~lib/memory/memory.grow",m.memory_copy="~lib/memory/memory.copy",m.memory_fill="~lib/memory/memory.fill",m.memory_data="~lib/memory/memory.data",m.Int8Array="~lib/typedarray/Int8Array",m.Uint8Array="~lib/typedarray/Uint8Array",m.Uint8ClampedArray="~lib/typedarray/Uint8ClampedArray",m.Int16Array="~lib/typedarray/Int16Array",m.Uint16Array="~lib/typedarray/Uint16Array",m.Int32Array="~lib/typedarray/Int32Array",m.Uint32Array="~lib/typedarray/Uint32Array",m.Int64Array="~lib/typedarray/Int64Array",m.Uint64Array="~lib/typedarray/Uint64Array",m.Float32Array="~lib/typedarray/Float32Array",m.Float64Array="~lib/typedarray/Float64Array",m.String_raw="~lib/string/String.raw",m.String_eq="~lib/string/String.__eq",m.String_ne="~lib/string/String.__ne",m.String_not="~lib/string/String.__not",m.wasiAbort="~lib/wasi/index/abort",m.wasiTrace="~lib/wasi/index/trace",m.wasiSeed="~lib/wasi/index/seed"))(h||={});var oo=class{constructor(n,e,r,i,s,a,o,l){this.compiler=n;this.prototype=e;this.typeArguments=r;this.operands=i;this.thisOperand=s;this.contextualType=a;this.reportNode=o;this.contextIsExact=l}},E=new Map,ao=new Map;function sE(t){var n=t.compiler,e=n.module,r=Ae(t);return n.currentType=u.bool,r?ve(t,e.i32(r.isIntegerValue?1:0)):e.unreachable()}E.set(h.isInteger,sE);function aE(t){var n=t.compiler,e=n.module,r=Ae(t);return n.currentType=u.bool,r?ve(t,e.i32(r.isFloatValue?1:0)):e.unreachable()}E.set(h.isFloat,aE);function oE(t){var n=t.compiler,e=n.module,r=Ae(t);return n.currentType=u.bool,r?ve(t,e.i32(r.isBooleanValue?1:0)):e.unreachable()}E.set(h.isBoolean,oE);function lE(t){var n=t.compiler,e=n.module,r=Ae(t);return n.currentType=u.bool,r?ve(t,e.i32(r.isSignedIntegerValue?1:0)):e.unreachable()}E.set(h.isSigned,lE);function uE(t){var n=t.compiler,e=n.module,r=Ae(t);return n.currentType=u.bool,r?ve(t,e.i32(r.isReference?1:0)):e.unreachable()}E.set(h.isReference,uE);function pE(t){var n=t.compiler,e=n.module,r=Ae(t);if(n.currentType=u.bool,!r)return e.unreachable();var i=r.getClass();return ve(t,e.i32(i&&i.isAssignableTo(n.program.stringInstance)?1:0))}E.set(h.isString,pE);function cE(t){var n=t.compiler,e=n.module,r=Ae(t);if(n.currentType=u.bool,!r)return e.unreachable();var i=r.getClass();return ve(t,e.i32(i&&i.extends(n.program.arrayPrototype)?1:0))}E.set(h.isArray,cE);function _E(t){var n=t.compiler,e=n.module,r=Ae(t);if(n.currentType=u.bool,!r)return e.unreachable();var i=r.getClass();return ve(t,e.i32(i&&i.isArrayLike?1:0))}E.set(h.isArrayLike,_E);function fE(t){var n=t.compiler,e=n.module,r=Ae(t);return n.currentType=u.bool,r?ve(t,e.i32(r.isFunction?1:0)):e.unreachable()}E.set(h.isFunction,fE);function hE(t){var n=t.compiler,e=n.module,r=Ae(t);return n.currentType=u.bool,r?ve(t,e.i32(r.isNullableReference?1:0)):e.unreachable()}E.set(h.isNullable,hE);function mE(t){var n=t.compiler,e=n.module;if(n.currentType=u.bool,b(t)|Y(t,1))return e.unreachable();var r=n.resolver.lookupExpression(t.operands[0],n.currentFlow,u.auto,1);return e.i32(r?1:0)}E.set(h.isDefined,mE);function dE(t){var n=t.compiler,e=n.module;if(n.currentType=u.bool,b(t)|Y(t,1))return e.unreachable();var r=n.compileExpression(t.operands[0],u.auto);return n.currentType=u.bool,fo(r,e.ref)?e.block(null,[e.maybeDrop(r),e.i32(0)],oe(r)):e.i32(e.isConstExpression(r)?1:0)}E.set(h.isConstant,dE);function EE(t){var n=t.compiler,e=n.module,r=Ae(t);return n.currentType=u.bool,r?ve(t,e.i32(r.isManaged?1:0)):e.unreachable()}E.set(h.isManaged,EE);function yE(t){var n=t.compiler,e=n.module,r=Ae(t);return n.currentType=u.bool,r?ve(t,e.i32(r.kind==20?1:0)):e.unreachable()}E.set(h.isVoid,yE);function gE(t){var n=t.compiler,e=n.module,r=Ae(t);if(n.currentType=u.i32,!r)return e.unreachable();var i=r.signatureReference;return i?ve(t,e.i32(i.parameterTypes.length)):(n.error(2757,t.reportNode.range,r.toString()),e.unreachable())}E.set(h.lengthof,gE);function TE(t){var n=t.compiler,e=n.module;if(n.currentType=n.options.usizeType,q(t)|Y(t,0))return e.unreachable();var r=t.typeArguments[0],i=r.byteSize;return i?co(n,i64_new(i),t.contextualType):(n.error(203,t.reportNode.typeArgumentsRange,"sizeof",r.toString()),e.unreachable())}E.set(h.sizeof,TE);function bE(t){var n=t.compiler,e=n.module;if(n.currentType=n.options.usizeType,q(t)|Y(t,0))return e.unreachable();var r=t.typeArguments[0],i=r.byteSize;return Et(i)?co(n,i64_new(ctz(i)),t.contextualType):(n.error(203,t.reportNode.typeArgumentsRange,"alignof",r.toString()),e.unreachable())}E.set(h.alignof,bE);function IE(t){var n=t.compiler,e=n.module;if(n.currentType=n.options.usizeType,q(t)|Ee(t,0,1))return e.unreachable();var r=t.operands,i=t.contextualType,s=t.typeArguments[0],a=s.getClassOrWrapper(n.program);if(!a)return n.error(203,t.reportNode.typeArgumentsRange,"offsetof",s.toString()),n.options.isWasm64?i.isIntegerValue&&i.size<=32&&(n.currentType=u.u32):i.isIntegerValue&&i.size==64&&(n.currentType=u.u64),e.unreachable();if(r.length){let o=r[0];if(!o.isLiteralKind(2))return n.error(1141,r[0].range),e.unreachable();let l=o.value,p=a.members;if(p&&p.has(l)){let c=assert(p.get(l));if(c.kind==11)return co(n,i64_new(c.memoryOffset),i)}return n.error(2460,o.range,a.internalName,l),e.unreachable()}return co(n,i64_new(a.nextMemoryOffset),i)}E.set(h.offsetof,IE);function vE(t){var n=t.compiler,e=n.module,r=Ae(t);if(!r)return n.currentType=n.program.stringInstance.type,e.unreachable();var i;if(r.isInternalReference){let s=r.getClass();s?i=s.name:(assert(r.getSignature()),i="Function")}else i=r.toString();return ve(t,n.ensureStaticString(i))}E.set(h.nameof,vE);function xE(t){var n=t.compiler,e=n.module,r=Ae(t);if(n.currentType=u.u32,!r)return e.unreachable();let i=r.getSignature();if(i)return ve(t,e.i32(i.id));let s=r.getClassOrWrapper(n.program);return s&&!s.hasDecorator(16)?ve(t,e.i32(s.id)):(n.error(203,t.reportNode.typeArgumentsRange,"idof",r.toString()),e.unreachable())}E.set(h.idof,xE);function au(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,1))return e.unreachable();var r=t.typeArguments,i=r?n.compileExpression(t.operands[0],r[0],5):n.compileExpression(t.operands[0],u.i32,4),s=n.currentType;if(s.isValue)switch(s.kind){case 10:case 0:case 5:case 1:case 6:case 2:case 7:return e.unary(0,i);case 9:case 4:return e.unary(n.options.isWasm64?1:0,i);case 3:case 8:return e.unary(1,i)}return n.error(203,t.reportNode.typeArgumentsRange,"clz",s.toString()),e.unreachable()}E.set(h.clz,au);function ou(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,1))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i?n.compileExpression(r[0],i[0],5):n.compileExpression(r[0],u.i32,4),a=n.currentType;if(a.isValue)switch(a.kind){case 10:case 0:case 5:case 1:case 6:case 2:case 7:return e.unary(2,s);case 9:case 4:return e.unary(n.options.isWasm64?3:2,s);case 3:case 8:return e.unary(3,s)}return n.error(203,t.reportNode.typeArgumentsRange,"ctz",a.toString()),e.unreachable()}E.set(h.ctz,ou);function lu(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,1))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i?n.compileExpression(r[0],i[0],5):n.compileExpression(r[0],u.i32,4),a=n.currentType;if(a.isValue)switch(n.currentType.kind){case 10:return s;case 0:case 5:case 1:case 6:case 2:case 7:return e.unary(4,s);case 3:case 8:return e.unary(5,s);case 4:case 9:return e.unary(n.options.isWasm64?5:4,s)}return n.error(203,t.reportNode.typeArgumentsRange,"popcnt",a.toString()),e.unreachable()}E.set(h.popcnt,lu);function uu(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,2))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i?n.compileExpression(r[0],i[0],5):n.compileExpression(r[0],u.i32,4),a=n.currentType;if(a.isValue){let o=n.compileExpression(r[1],a,1);switch(a.kind){case 10:return s;case 0:case 1:case 5:case 6:{let l=n.currentFlow,p=l.getTempLocal(a,lt(o));l.setLocalFlag(p.index,2);let c=l.getTempLocal(a);l.setLocalFlag(c.index,2);let _=e.binary(8,e.binary(10,e.local_tee(p.index,s,!1),e.binary(7,e.local_tee(c.index,o,!1),e.i32(a.size-1))),e.binary(12,e.local_get(p.index,F.I32),e.binary(7,e.binary(1,e.i32(0),e.local_get(c.index,F.I32)),e.i32(a.size-1))));return l.freeTempLocal(c),l.freeTempLocal(p),_}case 2:case 7:return e.binary(13,s,o);case 9:case 4:return e.binary(n.options.isWasm64?38:13,s,o);case 3:case 8:return e.binary(38,s,o)}}return n.error(203,t.reportNode.typeArgumentsRange,"rotl",a.toString()),e.unreachable()}E.set(h.rotl,uu);function pu(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,2))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i?n.compileExpression(r[0],i[0],5):n.compileExpression(r[0],u.i32,4),a=n.currentType;if(a.isValue){let o=n.compileExpression(r[1],a,1);switch(a.kind){case 10:return s;case 0:case 1:case 5:case 6:{let l=n.currentFlow,p=l.getTempLocal(a,lt(o));l.setLocalFlag(p.index,2);let c=l.getTempLocal(a);l.setLocalFlag(c.index,2);let _=e.binary(8,e.binary(12,e.local_tee(p.index,s,!1),e.binary(7,e.local_tee(c.index,o,!1),e.i32(a.size-1))),e.binary(10,e.local_get(p.index,F.I32),e.binary(7,e.binary(1,e.i32(0),e.local_get(c.index,F.I32)),e.i32(a.size-1))));return l.freeTempLocal(c),l.freeTempLocal(p),_}case 2:case 7:return e.binary(14,s,o);case 9:case 4:return e.binary(n.options.isWasm64?39:14,s,o);case 3:case 8:return e.binary(39,s,o)}}return n.error(203,t.reportNode.typeArgumentsRange,"rotr",a.toString()),e.unreachable()}E.set(h.rotr,pu);function cu(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,1))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i?n.compileExpression(r[0],i[0],5):n.compileExpression(r[0],u.auto,4),a=n.currentType;if(a.isValue)switch(a.kind){case 0:case 1:case 2:{let o=n.currentFlow,l=o.getTempLocal(u.i32),p=o.getTempLocal(u.i32),c=e.binary(9,e.binary(0,e.local_tee(p.index,e.binary(11,e.local_tee(l.index,s,!1),e.i32(31)),!1),e.local_get(l.index,F.I32)),e.local_get(p.index,F.I32));return o.freeTempLocal(p),o.freeTempLocal(l),c}case 4:{let o=n.options,l=n.currentFlow,p=o.isWasm64,c=l.getTempLocal(o.usizeType),_=l.getTempLocal(o.usizeType),f=e.binary(p?34:9,e.binary(p?25:0,e.local_tee(_.index,e.binary(p?36:11,e.local_tee(c.index,s,!1),p?e.i64(63):e.i32(31)),!1),e.local_get(c.index,o.sizeTypeRef)),e.local_get(_.index,o.sizeTypeRef));return l.freeTempLocal(_),l.freeTempLocal(c),f}case 3:{let o=n.currentFlow,l=o.getTempLocal(u.i64),p=o.getTempLocal(u.i64),c=e.binary(34,e.binary(25,e.local_tee(p.index,e.binary(36,e.local_tee(l.index,s,!1),e.i64(63)),!1),e.local_get(l.index,F.I64)),e.local_get(p.index,F.I64));return o.freeTempLocal(p),o.freeTempLocal(l),c}case 9:case 5:case 6:case 7:case 8:case 10:return s;case 11:return e.unary(8,s);case 12:return e.unary(9,s)}return n.error(203,t.reportNode.typeArgumentsRange,"abs",a.toString()),e.unreachable()}E.set(h.abs,cu);function _u(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,2))return e.unreachable();var r=t.operands,i=t.typeArguments,s=r[0],a=i?n.compileExpression(s,i[0],5):n.compileExpression(r[0],u.auto,4),o=n.currentType;if(o.isValue){let l;!i&&s.isNumericLiteral?(l=n.compileExpression(r[1],o,4),n.currentType!=o&&(a=n.compileExpression(s,o=n.currentType,5))):l=n.compileExpression(r[1],o,5);let p=-1;switch(o.kind){case 0:case 1:case 2:{p=21;break}case 5:case 6:case 7:case 10:{p=22;break}case 3:{p=46;break}case 8:{p=47;break}case 4:{p=n.options.isWasm64?46:21;break}case 9:{p=n.options.isWasm64?47:22;break}case 11:return e.binary(56,a,l);case 12:return e.binary(69,a,l)}if(p!=-1){let c=n.currentFlow,_=o.toRef(),f=c.getTempLocal(o,lt(l));c.setLocalFlag(f.index,2);let d=c.getTempLocal(o);c.setLocalFlag(d.index,2);let y=e.select(e.local_tee(f.index,a,!1),e.local_tee(d.index,l,!1),e.binary(p,e.local_get(f.index,_),e.local_get(d.index,_)),_);return c.freeTempLocal(d),c.freeTempLocal(f),y}}return n.error(203,t.reportNode.typeArgumentsRange,"max",o.toString()),e.unreachable()}E.set(h.max,_u);function fu(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,2))return e.unreachable();var r=t.operands,i=t.typeArguments,s=r[0],a=i?n.compileExpression(s,i[0],5):n.compileExpression(r[0],u.auto,4),o=n.currentType;if(o.isValue){let l;!i&&s.isNumericLiteral?(l=n.compileExpression(r[1],o,4),n.currentType!=o&&(a=n.compileExpression(s,o=n.currentType,5))):l=n.compileExpression(r[1],o,5);let p=-1;switch(o.kind){case 0:case 1:case 2:{p=17;break}case 5:case 6:case 7:case 10:{p=18;break}case 3:{p=42;break}case 8:{p=43;break}case 4:{p=n.options.isWasm64?42:17;break}case 9:{p=n.options.isWasm64?43:18;break}case 11:return e.binary(55,a,l);case 12:return e.binary(68,a,l)}if(p!=-1){let c=n.currentFlow,_=o.toRef(),f=c.getTempLocal(o,lt(l));c.setLocalFlag(f.index,2);let d=c.getTempLocal(o);c.setLocalFlag(d.index,2);let y=e.select(e.local_tee(f.index,a,!1),e.local_tee(d.index,l,!1),e.binary(p,e.local_get(f.index,_),e.local_get(d.index,_)),_);return c.freeTempLocal(d),c.freeTempLocal(f),y}}return n.error(203,t.reportNode.typeArgumentsRange,"min",o.toString()),e.unreachable()}E.set(h.min,fu);function hu(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,1))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i?n.compileExpression(r[0],i[0],1):n.compileExpression(r[0],u.auto,0),a=n.currentType;if(a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s;case 11:return e.unary(10,s);case 12:return e.unary(11,s)}return n.error(203,t.reportNode.typeArgumentsRange,"ceil",a.toString()),e.unreachable()}E.set(h.ceil,hu);function mu(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,1))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i?n.compileExpression(r[0],i[0],1):n.compileExpression(r[0],u.auto,0),a=n.currentType;if(a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s;case 11:return e.unary(12,s);case 12:return e.unary(13,s)}return n.error(203,t.reportNode.typeArgumentsRange,"floor",a.toString()),e.unreachable()}E.set(h.floor,mu);function du(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,2))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i?n.compileExpression(r[0],i[0],1):n.compileExpression(r[0],u.f64,0),a=n.currentType;if(a.isValue){let o=n.compileExpression(r[1],a,1);switch(a.kind){case 11:return e.binary(54,s,o);case 12:return e.binary(67,s,o)}}return n.error(203,t.reportNode.typeArgumentsRange,"copysign",a.toString()),e.unreachable()}E.set(h.copysign,du);function Eu(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,1))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i?n.compileExpression(r[0],i[0],1):n.compileExpression(r[0],u.auto,0),a=n.currentType;if(a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s;case 11:return e.unary(16,s);case 12:return e.unary(17,s)}return n.error(203,t.reportNode.typeArgumentsRange,"nearest",a.toString()),e.unreachable()}E.set(h.nearest,Eu);function wn(t){var n=t.compiler,e=n.module;if(q(t,!0)|Y(t,1))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0];if(s.isValue)switch(s.kind){case 2:case 7:{let a=n.compileExpression(r[0],u.f32,1);return n.currentType=s,e.unary(33,a)}case 3:case 8:{let a=n.compileExpression(r[0],u.f64,1);return n.currentType=s,e.unary(34,a)}case 4:case 9:{let a=n.compileExpression(r[0],n.options.isWasm64?u.f64:u.f32,1);return n.currentType=s,e.unary(n.options.isWasm64?34:33,a)}case 11:{let a=n.compileExpression(r[0],u.i32,1);return n.currentType=u.f32,e.unary(45,a)}case 12:{let a=n.compileExpression(r[0],u.i64,1);return n.currentType=u.f64,e.unary(46,a)}}return n.error(203,t.reportNode.typeArgumentsRange,"reinterpret",s.toString()),e.unreachable()}E.set(h.reinterpret,wn);function yu(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,1))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i?n.compileExpression(r[0],i[0],1):n.compileExpression(r[0],u.f64,0),a=n.currentType;if(a.isValue)switch(a.kind){case 11:return e.unary(18,s);case 12:return e.unary(19,s)}return n.error(203,t.reportNode.typeArgumentsRange,"sqrt",a.toString()),e.unreachable()}E.set(h.sqrt,yu);function gu(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,1))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i?n.compileExpression(r[0],i[0],1):n.compileExpression(r[0],u.auto,0),a=n.currentType;if(a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s;case 11:return e.unary(14,s);case 12:return e.unary(15,s)}return n.error(203,t.reportNode.typeArgumentsRange,"trunc",a.toString()),e.unreachable()}E.set(h.trunc,gu);function SE(t){var n=t.compiler,e=n.module;if(ae(t)|Y(t,1))return n.currentType=u.bool,e.unreachable();var r=t.operands,i=t.typeArguments,s=i?n.compileExpression(r[0],i[0],1):n.compileExpression(r[0],u.auto),a=n.currentType;if(n.currentType=u.bool,a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:return e.maybeDropCondition(s,e.i32(0));case 11:{if(te(s)==8)return e.binary(58,s,e.local_get(pt(s),F.F32));let o=n.currentFlow,l=o.getTempLocal(u.f32),p=e.binary(58,e.local_tee(l.index,s,!1),e.local_get(l.index,F.F32));return o.freeTempLocal(l),p}case 12:{if(te(s)==8)return e.binary(71,s,e.local_get(pt(s),F.F64));let o=n.currentFlow,l=o.getTempLocal(u.f64),p=e.binary(71,e.local_tee(l.index,s,!1),e.local_get(l.index,F.F64));return o.freeTempLocal(l),p}}return n.error(203,t.reportNode.typeArgumentsRange,"isNaN",a.toString()),e.unreachable()}E.set(h.isNaN,SE);function RE(t){var n=t.compiler,e=n.module;if(ae(t)|Y(t,1))return n.currentType=u.bool,e.unreachable();var r=t.operands,i=t.typeArguments,s=i?n.compileExpression(r[0],i[0],1):n.compileExpression(r[0],u.auto),a=n.currentType;if(n.currentType=u.bool,a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:return e.maybeDropCondition(s,e.i32(1));case 11:{if(te(s)==8)return e.binary(57,e.binary(51,s,e.local_get(pt(s),F.F32)),e.f32(0));let o=n.currentFlow,l=o.getTempLocal(u.f32),p=e.binary(57,e.binary(51,e.local_tee(l.index,s,!1),e.local_get(l.index,F.F32)),e.f32(0));return o.freeTempLocal(l),p}case 12:{if(te(s)==8)return e.binary(70,e.binary(64,s,e.local_get(pt(s),F.F64)),e.f64(0));let o=n.currentFlow,l=o.getTempLocal(u.f64),p=e.binary(70,e.binary(64,e.local_tee(l.index,s,!1),e.local_get(l.index,F.F64)),e.f64(0));return o.freeTempLocal(l),p}}return n.error(203,t.reportNode.typeArgumentsRange,"isFinite",a.toString()),e.unreachable()}E.set(h.isFinite,RE);function xe(t){var n=t.compiler,e=n.module;if(q(t,!0)|Ee(t,1,3))return e.unreachable();var r=t.operands,i=t.typeArguments,s=t.contextualType,a=i[0],o=s!=u.auto&&a.isIntegerValue&&s.isIntegerValue&&s.size>a.size?s:a,l=n.compileExpression(r[0],n.options.usizeType,1),p=r.length,c=0,_=a.byteSize;return p>=2&&(c=Qe(r[1],n),c<0||p==3&&(_=Rt(r[2],_,n),_<0))?(n.currentType=o,e.unreachable()):(n.currentType=o,e.load(a.byteSize,a.isSignedIntegerValue,l,o.toRef(),c,_))}E.set(h.load,xe);function it(t){var n=t.compiler,e=n.module;if(n.currentType=u.void,q(t)|Ee(t,2,4))return e.unreachable();var r=t.operands,i=r.length,s=t.typeArguments,a=t.contextualType,o=s[0],l=n.compileExpression(r[0],n.options.usizeType,1),p=t.contextIsExact?n.compileExpression(r[1],a,1):n.compileExpression(r[1],o,o.isIntegerValue?0:1),c=n.currentType;o.isIntegerValue&&(!c.isIntegerValue||c.size<o.size)&&(p=n.convertExpression(p,c,o,!1,r[1]),c=o);var _=0,f=o.byteSize;if(i>=3){if(_=Qe(r[2],n),_<0)return n.currentType=u.void,e.unreachable();if(i==4&&(f=Rt(r[3],f,n),f<0))return n.currentType=u.void,e.unreachable()}return n.currentType=u.void,e.store(o.byteSize,l,p,c.toRef(),_,f)}E.set(h.store,it);function Mn(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,2))return e.unreachable();var r=t.operands,i=t.typeArguments,s=r[0],a=i?n.compileExpression(s,i[0],1):n.compileExpression(r[0],u.auto),o=n.currentType;if(o.isValue){let l;if(!i&&s.isNumericLiteral?(l=n.compileExpression(r[1],o),n.currentType!=o&&(a=n.compileExpression(s,o=n.currentType,1))):l=n.compileExpression(r[1],o,1),o.isNumericValue)return n.makeAdd(a,l,o)}return n.error(203,t.reportNode.typeArgumentsRange,"add",o.toString()),e.unreachable()}E.set(h.add,Mn);function Un(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,2))return e.unreachable();var r=t.operands,i=t.typeArguments,s=r[0],a=i?n.compileExpression(s,i[0],1):n.compileExpression(r[0],u.auto),o=n.currentType;if(o.isValue){let l;if(!i&&s.isNumericLiteral?(l=n.compileExpression(r[1],o),n.currentType!=o&&(a=n.compileExpression(s,o=n.currentType,1))):l=n.compileExpression(r[1],o,1),o.isNumericValue)return n.makeSub(a,l,o)}return n.error(203,t.reportNode.typeArgumentsRange,"sub",o.toString()),e.unreachable()}E.set(h.sub,Un);function Bn(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,2))return e.unreachable();var r=t.operands,i=t.typeArguments,s=r[0],a=i?n.compileExpression(s,i[0],1):n.compileExpression(r[0],u.auto),o=n.currentType;if(o.isValue){let l;if(!i&&s.isNumericLiteral?(l=n.compileExpression(r[1],o),n.currentType!=o&&(a=n.compileExpression(s,o=n.currentType,1))):l=n.compileExpression(r[1],o,1),o.isNumericValue)return n.makeMul(a,l,o)}return n.error(203,t.reportNode.typeArgumentsRange,"mul",o.toString()),e.unreachable()}E.set(h.mul,Bn);function Tr(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,2))return e.unreachable();var r=t.operands,i=t.typeArguments,s=r[0],a=i?n.compileExpression(s,i[0],1):n.compileExpression(r[0],u.auto),o=n.currentType;if(o.isValue){let l;if(!i&&s.isNumericLiteral?(l=n.compileExpression(r[1],o),n.currentType!=o&&(a=n.compileExpression(s,o=n.currentType,1))):l=n.compileExpression(r[1],o,1),o.isNumericValue)return n.makeDiv(a,l,o)}return n.error(203,t.reportNode.typeArgumentsRange,"div",o.toString()),e.unreachable()}E.set(h.div,Tr);function Dn(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,2))return e.unreachable();var r=t.operands,i=t.typeArguments,s=r[0],a=i?n.compileExpression(s,i[0],1):n.compileExpression(r[0],u.auto),o=n.currentType;if(o.isValue){let l;if(!i&&s.isNumericLiteral?(l=n.compileExpression(r[1],o),n.currentType!=o&&(a=n.compileExpression(s,o=n.currentType,1))):l=n.compileExpression(r[1],o,1),o.isNumericValue)return n.currentType=u.i32,n.makeEq(a,l,o,t.reportNode)}return n.error(203,t.reportNode.typeArgumentsRange,"eq",o.toString()),e.unreachable()}E.set(h.eq,Dn);function Gn(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,2))return e.unreachable();var r=t.operands,i=t.typeArguments,s=r[0],a=i?n.compileExpression(s,i[0],1):n.compileExpression(r[0],u.auto),o=n.currentType;if(o.isValue){let l;if(!i&&s.isNumericLiteral?(l=n.compileExpression(r[1],o),n.currentType!=o&&(a=n.compileExpression(s,o=n.currentType,1))):l=n.compileExpression(r[1],o,1),o.isNumericValue)return n.currentType=u.i32,n.makeNe(a,l,o,t.reportNode)}return n.error(203,t.reportNode.typeArgumentsRange,"ne",o.toString()),e.unreachable()}E.set(h.ne,Gn);function Ht(t){var n=t.compiler,e=n.module;if(X(t,32)|q(t,!0)|Ee(t,1,2))return e.unreachable();var r=t.operands,i=t.typeArguments,s=t.contextualType,a=i[0],o=a.isIntegerValue&&s.isIntegerValue&&s.size>a.size?s:a;if(!a.isIntegerValue)return n.error(203,t.reportNode.typeArgumentsRange,"atomic.load",a.toString()),n.currentType=o,e.unreachable();var l=n.compileExpression(r[0],n.options.usizeType,1),p=r.length==2?Qe(r[1],n):0;return p<0?(n.currentType=o,e.unreachable()):(n.currentType=o,e.atomic_load(a.byteSize,l,o.toRef(),p))}E.set(h.atomic_load,Ht);function Xt(t){var n=t.compiler,e=n.module;if(X(t,32)|q(t)|Ee(t,2,3))return e.unreachable();var r=t.operands,i=t.typeArguments,s=t.contextualType,a=i[0];if(!a.isIntegerValue)return n.error(203,t.reportNode.typeArgumentsRange,"atomic.store",a.toString()),n.currentType=u.void,e.unreachable();var o=n.compileExpression(r[0],n.options.usizeType,1),l=t.contextIsExact?n.compileExpression(r[1],s,1):n.compileExpression(r[1],a,a.isIntegerValue?0:1),p=n.currentType;a.isIntegerValue&&(!p.isIntegerValue||p.size<a.size)&&(l=n.convertExpression(l,p,a,!1,r[1]),p=a);var c=r.length==3?Qe(r[2],n):0;return c<0?(n.currentType=u.void,e.unreachable()):(n.currentType=u.void,e.atomic_store(a.byteSize,o,l,p.toRef(),c))}E.set(h.atomic_store,Xt);function di(t,n,e){var r=t.compiler,i=r.module;if(X(t,32)|q(t,!0)|Ee(t,2,3))return i.unreachable();var s=t.operands,a=t.typeArguments,o=t.contextualType,l=a[0];if(!l.isIntegerValue||l.size<8)return r.error(203,t.reportNode.typeArgumentsRange,e,l.toString()),i.unreachable();var p=r.compileExpression(s[0],r.options.usizeType,1),c=t.contextIsExact?r.compileExpression(s[1],o,1):r.compileExpression(s[1],l,l.isIntegerValue?0:1),_=r.currentType;l.isIntegerValue&&(!_.isIntegerValue||_.size<l.size)&&(c=r.convertExpression(c,_,l,!1,s[1]),_=l);var f=s.length==3?Qe(s[2],r):0;return f<0?(r.currentType=_,i.unreachable()):(r.currentType=_,i.atomic_rmw(n,l.byteSize,f,p,c,_.toRef()))}function Kt(t){return di(t,0,"atomic.add")}E.set(h.atomic_add,Kt);function qt(t){return di(t,1,"atomic.sub")}E.set(h.atomic_sub,qt);function Qt(t){return di(t,2,"atomic.and")}E.set(h.atomic_and,Qt);function Zt(t){return di(t,3,"atomic.or")}E.set(h.atomic_or,Zt);function jt(t){return di(t,4,"atomic.xor")}E.set(h.atomic_xor,jt);function Jt(t){return di(t,5,"atomic.xchg")}E.set(h.atomic_xchg,Jt);function $t(t){var n=t.compiler,e=n.module;if(X(t,32)|q(t,!0)|Ee(t,3,4))return e.unreachable();var r=t.operands,i=t.typeArguments,s=t.contextualType,a=i[0];if(!a.isIntegerValue||a.size<8)return n.error(203,t.reportNode.typeArgumentsRange,"atomic.cmpxchg",a.toString()),e.unreachable();var o=n.compileExpression(r[0],n.options.usizeType,1),l=t.contextIsExact?n.compileExpression(r[1],s,1):n.compileExpression(r[1],a,a.isIntegerValue?0:1),p=n.currentType,c=n.compileExpression(r[2],p,1);a.isIntegerValue&&(!p.isIntegerValue||p.size<a.size)&&(l=n.convertExpression(l,p,a,!1,r[1]),c=n.convertExpression(c,p,a,!1,r[2]),p=a);var _=r.length==4?Qe(r[3],n):0;return _<0?(n.currentType=p,e.unreachable()):(n.currentType=p,e.atomic_cmpxchg(a.byteSize,_,o,l,c,p.toRef()))}E.set(h.atomic_cmpxchg,$t);function Tu(t){var n=t.compiler,e=n.module;if(X(t,32)|q(t)|Ee(t,2,3))return n.currentType=u.i32,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],n.options.usizeType,1),o=n.compileExpression(r[1],s,1),l=r.length==3?n.compileExpression(r[2],u.i64,1):e.i64(-1,-1);switch(n.currentType=u.i32,s.kind){case 2:case 3:case 4:case 7:case 8:case 9:return e.atomic_wait(a,o,l,s.toRef())}return n.error(203,t.reportNode.typeArgumentsRange,"atomic.wait",s.toString()),e.unreachable()}E.set(h.atomic_wait,Tu);function AE(t){var n=t.compiler,e=n.module;if(X(t,32)|b(t)|Ee(t,1,2))return n.currentType=u.i32,e.unreachable();var r=t.operands,i=n.compileExpression(r[0],n.options.usizeType,1),s=r.length==2?n.compileExpression(r[1],u.i32,1):e.i32(-1);return n.currentType=u.i32,e.atomic_notify(i,s)}E.set(h.atomic_notify,AE);function NE(t){var n=t.compiler,e=n.module;return n.currentType=u.void,X(t,32)|b(t)|Y(t,0)?e.unreachable():e.atomic_fence()}E.set(h.atomic_fence,NE);function LE(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Y(t,3))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i?n.compileExpression(r[0],i[0],1):n.compileExpression(r[0],u.auto),a=n.currentType;if(!a.isAny(384))return n.error(203,t.reportNode.typeArgumentsRange,"select",a.toString()),e.unreachable();var o=n.compileExpression(r[1],a,1),l=n.makeIsTrueish(n.compileExpression(r[2],u.bool),n.currentType,r[2]);return n.currentType=a,e.select(s,o,l,a.toRef())}E.set(h.select,LE);function CE(t){return b(t),Y(t,0),t.compiler.module.unreachable()}E.set(h.unreachable,CE);function FE(t){var n=t.compiler,e=n.module;return n.currentType=u.i32,b(t)|Y(t,0)?e.unreachable():e.memory_size()}E.set(h.memory_size,FE);function kE(t){var n=t.compiler,e=n.module;return n.currentType=u.i32,b(t)|Y(t,1)?e.unreachable():e.memory_grow(n.compileExpression(t.operands[0],u.i32,1))}E.set(h.memory_grow,kE);function PE(t){var n=t.compiler,e=n.module;if(n.currentType=u.void,b(t)|Y(t,3))return e.unreachable();var r=t.operands;if(!n.options.hasFeature(8)){let l=n.resolver.resolveFunction(t.prototype,null);return n.currentType=u.void,!l||!n.compileFunction(l,!0)?e.unreachable():n.compileCallDirect(l,r,t.reportNode)}var i=n.options.usizeType,s=n.compileExpression(r[0],i,1),a=n.compileExpression(r[1],i,1),o=n.compileExpression(r[2],i,1);return n.currentType=u.void,e.memory_copy(s,a,o)}E.set(h.memory_copy,PE);function OE(t){var n=t.compiler,e=n.module;if(n.currentType=u.void,b(t)|Y(t,3))return e.unreachable();var r=t.operands;if(!n.options.hasFeature(8)){let l=n.resolver.resolveFunction(t.prototype,null);return n.currentType=u.void,!l||!n.compileFunction(l,!0)?e.unreachable():n.compileCallDirect(l,r,t.reportNode)}var i=n.options.usizeType,s=n.compileExpression(r[0],i,1),a=n.compileExpression(r[1],u.u8,1),o=n.compileExpression(r[2],i,1);return n.currentType=u.void,e.memory_fill(s,a,o)}E.set(h.memory_fill,OE);function wE(t){var n=t.compiler,e=n.module;if(n.currentType=u.i32,ae(t)|Ee(t,1,2))return e.unreachable();var r=t.typeArguments,i=t.operands,s=i.length,a=n.options.usizeType,o;if(r&&r.length>0){let l=r[0];if(!l.isValue)return n.error(203,t.reportNode.typeArgumentsRange,"memory.data",l.toString()),n.currentType=a,e.unreachable();let p=i[0];if(p.kind!=16||p.literalKind!=5)return n.error(227,i[0].range),n.currentType=a,e.unreachable();let c=p.elementExpressions,_=c.length,f=new Array(_),d=!0;for(let v=0;v<_;++v){let I=c[v];if(I.kind!=19){let S=n.compileExpression(I,l,1),R=e.runExpression(S,1);R?S=R:d=!1,f[v]=S}else f[v]=n.makeZero(l,I)}if(!d)return n.error(220,p.range),n.currentType=a,e.unreachable();let y=l.byteSize;if(s==2&&(y=Rt(i[1],y,n),y<0))return n.currentType=a,e.unreachable();let T=new Uint8Array(_*l.byteSize);assert(n.writeStaticBuffer(T,0,l,f)==T.byteLength),o=n.addAlignedMemorySegment(T,y).offset}else{let l=n.compileExpression(i[0],u.i32,1),p=e.runExpression(l,1);if(!p)return n.error(220,i[0].range),n.currentType=a,e.unreachable();let c=ie(p);if(c<1)return n.error(222,i[0].range,"1",i32.MAX_VALUE.toString()),n.currentType=a,e.unreachable();let _=16;if(s==2&&(_=Rt(i[1],_,n),_<0))return n.currentType=a,e.unreachable();o=n.addAlignedMemorySegment(new Uint8Array(c),_).offset}return n.currentType=a,a==u.usize32?(assert(!i64_high(o)),e.i32(i64_low(o))):e.i64(i64_low(o),i64_high(o))}E.set(h.memory_data,wE);function ME(t){var n=t.compiler,e=n.module;if(b(t)|Y(t,1))return e.unreachable();var r=t.operands,i=n.compileExpression(r[0],u.i32,1);return n.currentType=u.i31ref,e.i31_new(i)}E.set(h.i31_new,ME);function UE(t){var n=t.compiler,e=n.module;if(b(t)|Y(t,1))return e.unreachable();var r=t.operands,i=n.compileExpression(r[0],u.i31ref,1);return t.contextualType.is(2)?(n.currentType=u.u32,e.i31_get(i,!1)):(n.currentType=u.i32,e.i31_get(i,!0))}E.set(h.i31_get,UE);function BE(t){var n=t.compiler,e=n.module;if(q(t,!0)|Y(t,1))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.auto),o=n.currentType;return n.currentType=s,o.isChangeableTo(s)?a:(n.error(202,t.reportNode.range,o.toString(),s.toString()),e.unreachable())}E.set(h.changetype,BE);function DE(t){var n=t.compiler,e=n.module,r=t.typeArguments;if(ae(t,!0)|Ee(t,1,2))return r&&(assert(r.length),n.currentType=r[0].nonNullableType),e.unreachable();var i=t.operands,s=t.contextualType,a=r?n.compileExpression(i[0],r[0],5):n.compileExpression(i[0],u.bool,4),o=n.currentType;if(n.currentType=o.nonNullableType,n.options.noAssert)return a;var l=e.runExpression(a,0);if(l)switch(oe(l)){case F.I32:{if(ie(l))return a;break}case F.I64:{if(ze(l)|rt(l))return a;break}case F.F32:{if(Ke(l))return a;break}case F.F64:{if(qe(l))return a;break}}var p=n.makeAbort(i.length==2?i[1]:null,t.reportNode);if(n.currentType=o.nonNullableType,s==u.void)switch(n.currentType=u.void,o.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:return e.if(e.unary(20,a),p);case 3:case 8:return e.if(e.unary(21,a),p);case 4:case 9:return e.if(e.unary(n.options.isWasm64?21:20,a),p);case 11:return e.if(e.binary(57,a,e.f32(0)),p);case 12:return e.if(e.binary(70,a,e.f64(0)),p);case 14:case 15:case 16:case 17:case 19:case 18:return e.if(e.ref_is(0,a),p)}else{n.currentType=o.nonNullableType;let c=n.currentFlow;switch(n.currentType.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:{let _=c.getTempLocal(o);c.setLocalFlag(_.index,2);let f=e.if(e.local_tee(_.index,a,!1),e.local_get(_.index,F.I32),p);return c.freeTempLocal(_),f}case 3:case 8:{let _=c.getTempLocal(u.i64),f=e.if(e.unary(21,e.local_tee(_.index,a,!1)),p,e.local_get(_.index,F.I64));return c.freeTempLocal(_),f}case 4:case 9:{let _=c.getTempLocal(n.options.usizeType),f=e.if(e.unary(n.options.isWasm64?21:20,e.local_tee(_.index,a,o.isManaged)),p,e.local_get(_.index,n.options.sizeTypeRef));return c.freeTempLocal(_),f}case 11:{let _=c.getTempLocal(u.f32),f=e.if(e.binary(57,e.local_tee(_.index,a,!1),e.f32(0)),p,e.local_get(_.index,F.F32));return c.freeTempLocal(_),f}case 12:{let _=c.getTempLocal(u.f64),f=e.if(e.binary(70,e.local_tee(_.index,a,!1),e.f64(0)),p,e.local_get(_.index,F.F64));return c.freeTempLocal(_),f}case 14:case 15:case 16:case 17:case 19:case 18:{let _=c.getTempLocal(o),f=e.if(e.ref_is(0,e.local_tee(_.index,a,!1)),p,e.local_get(_.index,o.toRef()));return c.freeTempLocal(_),f}}}return n.error(203,t.reportNode.typeArgumentsRange,"assert",n.currentType.toString()),p}E.set(h.assert,DE);function GE(t){var n=t.compiler,e=n.module;if(b(t)|Y(t,1))return e.unreachable();var r=n.currentFlow,i=r.is(32768);r.set(32768);var s=n.compileExpression(t.operands[0],t.contextualType);return i||r.unset(32768),s}E.set(h.unchecked,GE);function VE(t){var n=t.compiler,e=n.module;if(ae(t,!0)|Ee(t,1,i32.MAX_VALUE))return e.unreachable();var r=t.operands,i=t.typeArguments,s;i?(assert(i.length),s=i[0]):s=t.contextualType;var a=n.compileExpression(r[0],u.u32,1),o=r.length-1,l=new Array(o),p=new Array(o);for(let c=0;c<o;++c)l[c]=n.compileExpression(r[1+c],u.auto),p[c]=n.currentType.toRef();return n.currentType=s,e.call_indirect(null,a,l,Be(p),s.toRef())}E.set(h.call_indirect,VE);function zE(t){var n=t.compiler,e=n.module;if(q(t,!0))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=s.getClass();if(!a)return n.error(2351,t.reportNode.expression.range),e.unreachable();n.currentType=a.type;var o=n.ensureConstructor(a,t.reportNode);return n.checkFieldInitialization(a,t.reportNode),n.compileInstantiate(o,r,0,t.reportNode)}E.set(h.instantiate,zE);function bu(t,n){var e=t.compiler,r=e.module;b(t);var i=t.operands,s=t.reportNode;return e.emitDiagnostic(102,n,s.range,null,i.length?i[0].range.toString():s.range.toString()),n==3?r.unreachable():r.nop()}function WE(t){return bu(t,3)}E.set(h.ERROR,WE);function YE(t){return bu(t,2)}E.set(h.WARNING,YE);function HE(t){return bu(t,1)}E.set(h.INFO,HE);function XE(t){var n=t.compiler,e=t.prototype.parent;assert(e.kind==7);var r=e;assert(r.prototype==n.program.functionPrototype);var i=assert(r.typeArguments);assert(i.length==1);var s=i[0],a=assert(s.getSignature()),o=a.returnType;if(b(t)|Ee(t,1+a.requiredParameters,1+a.parameterTypes.length))return n.currentType=o,n.module.unreachable();var l=n.compileExpression(assert(t.thisOperand),s,1),p=assert(t.operands.shift()),c=a.thisType,_=0;if(c)_=n.compileExpression(p,c,1);else if(p.kind!=18)return n.error(2332,p.range),n.module.unreachable();return n.compileCallIndirect(a,l,t.operands,t.reportNode,_,t.contextualType==u.void)}ao.set("call",XE);function KE(t){var n=t.compiler,e=n.module;return n.currentType=t.compiler.program.stringInstance.type,n.error(100,t.reportNode.range,"String.raw"),e.unreachable()}E.set(h.String_raw,KE);function Ye(t,n){var e=t.compiler;return b(t)|Y(t,1)?(e.currentType=n,e.module.unreachable()):e.compileExpression(t.operands[0],n,2)}function qE(t){return Ye(t,u.i8)}E.set(h.i8,qE);function QE(t){return Ye(t,u.i16)}E.set(h.i16,QE);function ZE(t){return Ye(t,u.i32)}E.set(h.i32,ZE);function jE(t){return Ye(t,u.i64)}E.set(h.i64,jE);function JE(t){return Ye(t,t.compiler.options.isizeType)}E.set(h.isize,JE);function $E(t){return Ye(t,u.u8)}E.set(h.u8,$E);function ey(t){return Ye(t,u.u16)}E.set(h.u16,ey);function ty(t){return Ye(t,u.u32)}E.set(h.u32,ty);function ry(t){return Ye(t,u.u64)}E.set(h.u64,ry);function iy(t){return Ye(t,t.compiler.options.usizeType)}E.set(h.usize,iy);function ny(t){return Ye(t,u.bool)}E.set(h.bool,ny);function sy(t){return Ye(t,u.f32)}E.set(h.f32,sy);function ay(t){return Ye(t,u.f64)}E.set(h.f64,ay);function oy(t){return Yc(t)}E.set(h.v128,oy);function Yc(t){var n=t.compiler,e=n.module;if(X(t,16)|b(t)|Y(t,16))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=new Uint8Array(16),s=new Array(16),a=0;for(let o=0;o<16;++o){let l=n.compileExpression(r[o],u.i8,1),p=e.runExpression(l,1);p?pe(ie(p),i,o):(s[o]=l,a++)}if(n.currentType=u.v128,a==0)return e.v128(i);{let o,l=a==16;l?o=e.unary(60,s[0]):o=e.v128(i);for(let p=i32(l);p<16;p++){let c=s[p];c&&(o=e.simd_replace(0,o,p,c))}return o}}E.set(h.i8x16,Yc);function ly(t){var n=t.compiler,e=n.module;if(X(t,16)|b(t)|Y(t,8))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=new Uint8Array(16),s=new Array(8),a=0;for(let o=0;o<8;++o){let l=n.compileExpression(r[o],u.i16,1),p=e.runExpression(l,1);p?wt(ie(p),i,o<<1):(s[o]=l,a++)}if(n.currentType=u.v128,a==0)return e.v128(i);{let o,l=a==8;l?o=e.unary(61,s[0]):o=e.v128(i);for(let p=i32(l);p<8;p++){let c=s[p];c&&(o=e.simd_replace(1,o,p,c))}return o}}E.set(h.i16x8,ly);function uy(t){var n=t.compiler,e=n.module;if(X(t,16)|b(t)|Y(t,4))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=new Uint8Array(16),s=new Array(4),a=0;for(let o=0;o<4;++o){let l=n.compileExpression(r[o],u.i32,1),p=e.runExpression(l,1);p?ce(ie(p),i,o<<2):(s[o]=l,a++)}if(n.currentType=u.v128,a==0)return e.v128(i);{let o,l=a==4;l?o=e.unary(62,s[0]):o=e.v128(i);for(let p=i32(l);p<4;p++){let c=s[p];c&&(o=e.simd_replace(2,o,p,c))}return o}}E.set(h.i32x4,uy);function py(t){var n=t.compiler,e=n.module;if(X(t,16)|b(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=new Uint8Array(16),s=new Array(2),a=0;for(let o=0;o<2;++o){let l=n.compileExpression(r[o],u.i64,1),p=e.runExpression(l,1);if(p){let c=o<<3;ce(ze(p),i,c+0),ce(rt(p),i,c+4)}else s[o]=l,a++}if(n.currentType=u.v128,a==0)return e.v128(i);{let o,l=a==2;l?o=e.unary(63,s[0]):o=e.v128(i);for(let p=i32(l);p<2;p++){let c=s[p];c&&(o=e.simd_replace(3,o,p,c))}return o}}E.set(h.i64x2,py);function cy(t){var n=t.compiler,e=n.module;if(X(t,16)|b(t)|Y(t,4))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=new Uint8Array(16),s=new Array(4),a=0;for(let o=0;o<4;++o){let l=n.compileExpression(r[o],u.f32,1),p=e.runExpression(l,1);p?ir(Ke(p),i,o<<2):(s[o]=l,a++)}if(n.currentType=u.v128,a==0)return e.v128(i);{let o,l=a==4;l?o=e.unary(64,s[0]):o=e.v128(i);for(let p=i32(l);p<4;p++){let c=s[p];c&&(o=e.simd_replace(4,o,p,c))}return o}}E.set(h.f32x4,cy);function _y(t){var n=t.compiler,e=n.module;if(X(t,16)|b(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=new Uint8Array(16),s=new Array(2),a=0;for(let o=0;o<2;++o){let l=n.compileExpression(r[o],u.f64,1),p=e.runExpression(l,1);p?nr(qe(p),i,o<<3):(s[o]=l,a++)}if(n.currentType=u.v128,a==0)return e.v128(i);{let o,l=a==2;l?o=e.unary(65,s[0]):o=e.v128(i);for(let p=i32(l);p<2;p++){let c=s[p];c&&(o=e.simd_replace(5,o,p,c))}return o}}E.set(h.f64x2,_y);function br(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],s,1);if(n.currentType=u.v128,s.isValue)switch(s.kind){case 0:case 5:return e.unary(60,a);case 1:case 6:return e.unary(61,a);case 2:case 7:return e.unary(62,a);case 3:case 8:return e.unary(63,a);case 4:case 9:return e.unary(n.options.isWasm64?63:62,a);case 11:return e.unary(64,a);case 12:return e.unary(65,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.splat",s.toString()),e.unreachable()}E.set(h.v128_splat,br);function At(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t,!0)|Y(t,2))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.u8,1);n.currentType=s;var l=0,p=e.runExpression(o,1);if(p?l=ie(p):n.error(220,r[1].range),s.isValue){let c=16/assert(s.byteSize)-1;switch((l<0||l>c)&&(n.error(222,r[1].range,"Lane index","0",c.toString()),l=0),s.kind){case 0:return e.simd_extract(0,a,l);case 5:return e.simd_extract(1,a,l);case 1:return e.simd_extract(2,a,l);case 6:return e.simd_extract(3,a,l);case 2:case 7:return e.simd_extract(4,a,l);case 3:case 8:return e.simd_extract(5,a,l);case 4:case 9:return e.simd_extract(n.options.isWasm64?5:4,a,l);case 11:return e.simd_extract(6,a,l);case 12:return e.simd_extract(7,a,l)}}return n.error(203,t.reportNode.typeArgumentsRange,"v128.extract_lane",s.toString()),e.unreachable()}E.set(h.v128_extract_lane,At);function Ir(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,3))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.u8,1),l=n.compileExpression(r[2],s,1);n.currentType=u.v128;var p=0,c=e.runExpression(o,1);if(c?p=ie(c):n.error(220,r[1].range),s.isValue){let _=16/assert(s.byteSize)-1;switch((p<0||p>_)&&(n.error(222,r[1].range,"Lane index","0",_.toString()),p=0),s.kind){case 0:case 5:return e.simd_replace(0,a,p,l);case 1:case 6:return e.simd_replace(1,a,p,l);case 2:case 7:return e.simd_replace(2,a,p,l);case 3:case 8:return e.simd_replace(3,a,p,l);case 4:case 9:return e.simd_replace(n.options.isWasm64?3:2,a,p,l);case 11:return e.simd_replace(4,a,p,l);case 12:return e.simd_replace(5,a,p,l)}}return n.error(203,t.reportNode.typeArgumentsRange,"v128.replace_lane",s.toString()),e.unreachable()}E.set(h.v128_replace_lane,Ir);function Hc(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0];if(s.isValue){let a=s.byteSize,o=16/a;if(assert(Number.isInteger(o)&&Et(o)),Y(t,2+o))return n.currentType=u.v128,e.unreachable();let l=n.compileExpression(r[0],u.v128,1),p=n.compileExpression(r[1],u.v128,1);switch(s.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 11:case 12:{let c=new Uint8Array(16),_=(o<<1)-1;for(let f=0;f<o;++f){let d=r[2+f],y=n.compileExpression(d,u.u8,1),T=e.runExpression(y,1),v=0;switch(T?(v=ie(T),(v<0||v>_)&&(n.error(222,d.range,"Lane index","0",_.toString()),v=0)):n.error(220,d.range),a){case 1:{pe(v,c,f);break}case 2:{let I=f<<1,S=v<<1;pe(S,c,I),pe(S+1,c,I+1);break}case 4:{let I=f<<2,S=v<<2;pe(S,c,I),pe(S+1,c,I+1),pe(S+2,c,I+2),pe(S+3,c,I+3);break}case 8:{let I=f<<3,S=v<<3;pe(S,c,I),pe(S+1,c,I+1),pe(S+2,c,I+2),pe(S+3,c,I+3),pe(S+4,c,I+4),pe(S+5,c,I+5),pe(S+6,c,I+6),pe(S+7,c,I+7);break}default:assert(!1)}}return n.currentType=u.v128,e.simd_shuffle(l,p,c)}}}return n.error(203,t.reportNode.typeArgumentsRange,"v128.shuffle",s.toString()),n.currentType=u.v128,e.unreachable()}E.set(h.v128_shuffle,Hc);function Xc(t){var n=t.compiler,e=n.module;if(X(t,16)|b(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=n.compileExpression(r[0],u.v128,1),s=n.compileExpression(r[1],u.v128,1);return e.binary(195,i,s)}E.set(h.v128_swizzle,Xc);function Vn(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t,!0)|Ee(t,1,3))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],n.options.usizeType,1),o=r.length,l=0,p=s.byteSize;if(o>=2){if(l=Qe(r[1],n),l<0)return n.currentType=u.v128,e.unreachable();if(o==3&&(p=Rt(r[2],p,n),p<0))return n.currentType=u.v128,e.unreachable()}if(n.currentType=u.v128,s.isValue)switch(s.kind){case 0:case 5:return e.simd_load(0,a,l,p);case 1:case 6:return e.simd_load(1,a,l,p);case 2:case 7:case 11:return e.simd_load(2,a,l,p);case 4:case 9:if(!n.options.isWasm64)return e.simd_load(2,a,l,p);case 3:case 8:case 12:return e.simd_load(3,a,l,p)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.load_splat",s.toString()),e.unreachable()}E.set(h.v128_load_splat,Vn);function vr(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t,!0)|Ee(t,1,3))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],n.options.usizeType,1),o=r.length,l=0,p=s.byteSize;if(o>=2){if(l=Qe(r[1],n),l<0)return n.currentType=u.v128,e.unreachable();if(o==3&&(p=Rt(r[2],p,n),p<0))return n.currentType=u.v128,e.unreachable()}if(n.currentType=u.v128,s.isValue)switch(s.kind){case 0:return e.simd_load(4,a,l,p);case 5:return e.simd_load(5,a,l,p);case 1:return e.simd_load(6,a,l,p);case 6:return e.simd_load(7,a,l,p);case 4:if(n.options.isWasm64)break;case 2:return e.simd_load(8,a,l,p);case 9:if(n.options.isWasm64)break;case 7:return e.simd_load(9,a,l,p)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.load_ext",s.toString()),e.unreachable()}E.set(h.v128_load_ext,vr);function Iu(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t,!0)|Ee(t,1,3))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],n.options.usizeType,1),o=r.length,l=0,p=s.byteSize;if(o>=2){if(l=Qe(r[1],n),l<0)return n.currentType=u.v128,e.unreachable();if(o==3&&(p=Rt(r[2],p,n),p<0))return n.currentType=u.v128,e.unreachable()}if(n.currentType=u.v128,s.isValue)switch(s.kind){case 2:case 7:case 11:return e.simd_load(10,a,l,p);case 3:case 8:case 12:return e.simd_load(11,a,l,p);case 4:case 9:return e.simd_load(n.options.isWasm64?11:10,a,l,p)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.load_zero",s.toString()),e.unreachable()}E.set(h.v128_load_zero,Iu);function zn(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t,!0)|Ee(t,3,5))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],n.options.usizeType,1),o=n.compileExpression(r[1],u.v128,1),l=n.compileExpression(r[2],u.u8,1),p=0,c=e.runExpression(l,1);c?p=ie(c):n.error(220,r[2].range);var _=r.length,f=0,d=s.byteSize;if(_>=4){if(f=Qe(r[3],n),f<0)return n.currentType=u.v128,e.unreachable();if(_==5&&(d=Rt(r[4],d,n),d<0))return n.currentType=u.v128,e.unreachable()}if(n.currentType=u.v128,s.isValue){let y=16/assert(s.byteSize)-1;switch((p<0||p>y)&&(n.error(222,r[1].range,"Lane index","0",y.toString()),p=0),s.kind){case 0:case 5:return e.simd_loadstorelane(0,a,f,d,p,o);case 1:case 6:return e.simd_loadstorelane(1,a,f,d,p,o);case 2:case 7:case 11:return e.simd_loadstorelane(2,a,f,d,p,o);case 3:case 8:case 12:return e.simd_loadstorelane(3,a,f,d,p,o);case 4:case 9:return e.simd_loadstorelane(n.options.isWasm64?3:2,a,f,d,p,o)}}return n.error(203,t.reportNode.typeArgumentsRange,"v128.load_lane",s.toString()),e.unreachable()}E.set(h.v128_load_lane,zn);function Wn(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t,!0)|Ee(t,3,5))return e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],n.options.usizeType,1),o=n.compileExpression(r[1],u.v128,1),l=n.compileExpression(r[2],u.u8,1),p=0,c=e.runExpression(l,1);c?p=ie(c):n.error(220,r[2].range);var _=r.length,f=0,d=s.byteSize;if(_>=4){if(f=Qe(r[3],n),f<0)return n.currentType=u.v128,e.unreachable();if(_==5&&(d=Rt(r[4],d,n),d<0))return n.currentType=u.v128,e.unreachable()}if(n.currentType=u.v128,s.isValue){let y=16/assert(s.byteSize)-1;switch((p<0||p>y)&&(n.error(222,r[1].range,"Lane index","0",y.toString()),p=0),s.kind){case 0:case 5:return e.simd_loadstorelane(4,a,f,d,p,o);case 1:case 6:return e.simd_loadstorelane(5,a,f,d,p,o);case 2:case 7:case 11:return e.simd_loadstorelane(6,a,f,d,p,o);case 3:case 8:case 12:return e.simd_loadstorelane(7,a,f,d,p,o);case 4:case 9:return e.simd_loadstorelane(n.options.isWasm64?7:6,a,f,d,p,o)}}return n.error(203,t.reportNode.typeArgumentsRange,"v128.store_lane",s.toString()),e.unreachable()}E.set(h.v128_store_lane,Wn);function xr(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:case 5:return e.binary(128,a,o);case 1:case 6:return e.binary(139,a,o);case 2:case 7:return e.binary(156,a,o);case 3:case 8:return e.binary(168,a,o);case 4:case 9:return e.binary(n.options.isWasm64?168:156,a,o);case 11:return e.binary(175,a,o);case 12:return e.binary(183,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.add",s.toString()),e.unreachable()}E.set(h.v128_add,xr);function Sr(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:case 5:return e.binary(131,a,o);case 1:case 6:return e.binary(142,a,o);case 2:case 7:return e.binary(157,a,o);case 3:case 8:return e.binary(169,a,o);case 4:case 9:return e.binary(n.options.isWasm64?169:157,a,o);case 11:return e.binary(176,a,o);case 12:return e.binary(184,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.sub",s.toString()),e.unreachable()}E.set(h.v128_sub,Sr);function Ei(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:case 6:return e.binary(145,a,o);case 2:case 7:return e.binary(158,a,o);case 3:case 8:return e.binary(170,a,o);case 4:case 9:return e.binary(n.options.isWasm64?170:158,a,o);case 11:return e.binary(177,a,o);case 12:return e.binary(185,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.mul",s.toString()),e.unreachable()}E.set(h.v128_mul,Ei);function vu(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.binary(178,a,o);case 12:return e.binary(186,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.div",s.toString()),e.unreachable()}E.set(h.v128_div,vu);function Yn(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return e.binary(129,a,o);case 5:return e.binary(130,a,o);case 1:return e.binary(140,a,o);case 6:return e.binary(141,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.add_sat",s.toString()),e.unreachable()}E.set(h.v128_add_sat,Yn);function Hn(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return e.binary(132,a,o);case 5:return e.binary(133,a,o);case 1:return e.binary(143,a,o);case 6:return e.binary(144,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.sub_sat",s.toString()),e.unreachable()}E.set(h.v128_sub_sat,Hn);function Nt(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return e.binary(134,a,o);case 5:return e.binary(135,a,o);case 1:return e.binary(146,a,o);case 6:return e.binary(147,a,o);case 4:if(n.options.isWasm64)break;case 2:return e.binary(159,a,o);case 9:if(n.options.isWasm64)break;case 7:return e.binary(160,a,o);case 11:return e.binary(179,a,o);case 12:return e.binary(187,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.min",s.toString()),e.unreachable()}E.set(h.v128_min,Nt);function Lt(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return e.binary(136,a,o);case 5:return e.binary(137,a,o);case 1:return e.binary(148,a,o);case 6:return e.binary(149,a,o);case 4:if(n.options.isWasm64)break;case 2:return e.binary(161,a,o);case 9:if(n.options.isWasm64)break;case 7:return e.binary(162,a,o);case 11:return e.binary(180,a,o);case 12:return e.binary(188,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.max",s.toString()),e.unreachable()}E.set(h.v128_max,Lt);function xu(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.binary(181,a,o);case 12:return e.binary(189,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.pmin",s.toString()),e.unreachable()}E.set(h.v128_pmin,xu);function Su(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.binary(182,a,o);case 12:return e.binary(190,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.pmax",s.toString()),e.unreachable()}E.set(h.v128_pmax,Su);function Kc(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.binary(163,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.dot",s.toString()),e.unreachable()}E.set(h.v128_dot,Kc);function Ru(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 5:return e.binary(138,a,o);case 6:return e.binary(150,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.avgr",s.toString()),e.unreachable()}E.set(h.v128_avgr,Ru);function Rr(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:case 5:return e.binary(76,a,o);case 1:case 6:return e.binary(86,a,o);case 2:case 7:return e.binary(96,a,o);case 3:case 8:return e.binary(106,a,o);case 4:case 9:return e.binary(n.options.isWasm64?106:96,a,o);case 11:return e.binary(112,a,o);case 12:return e.binary(118,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.eq",s.toString()),e.unreachable()}E.set(h.v128_eq,Rr);function Ar(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:case 5:return e.binary(77,a,o);case 1:case 6:return e.binary(87,a,o);case 2:case 7:return e.binary(97,a,o);case 3:case 8:return e.binary(107,a,o);case 4:case 9:return e.binary(n.options.isWasm64?107:97,a,o);case 11:return e.binary(113,a,o);case 12:return e.binary(119,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.ne",s.toString()),e.unreachable()}E.set(h.v128_ne,Ar);function _t(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return e.binary(78,a,o);case 5:return e.binary(79,a,o);case 1:return e.binary(88,a,o);case 6:return e.binary(89,a,o);case 2:return e.binary(98,a,o);case 7:return e.binary(99,a,o);case 3:return e.binary(108,a,o);case 4:return e.binary(n.options.isWasm64?108:98,a,o);case 9:{if(n.options.isWasm64)break;return e.binary(99,a,o)}case 11:return e.binary(114,a,o);case 12:return e.binary(120,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.lt",s.toString()),e.unreachable()}E.set(h.v128_lt,_t);function ft(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return e.binary(82,a,o);case 5:return e.binary(83,a,o);case 1:return e.binary(92,a,o);case 6:return e.binary(93,a,o);case 2:return e.binary(102,a,o);case 7:return e.binary(103,a,o);case 3:return e.binary(110,a,o);case 4:return e.binary(n.options.isWasm64?110:102,a,o);case 9:{if(n.options.isWasm64)break;return e.binary(103,a,o)}case 11:return e.binary(116,a,o);case 12:return e.binary(122,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.le",s.toString()),e.unreachable()}E.set(h.v128_le,ft);function ht(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return e.binary(80,a,o);case 5:return e.binary(81,a,o);case 1:return e.binary(90,a,o);case 6:return e.binary(91,a,o);case 2:return e.binary(100,a,o);case 7:return e.binary(101,a,o);case 3:return e.binary(109,a,o);case 4:return e.binary(n.options.isWasm64?109:100,a,o);case 9:{if(n.options.isWasm64)break;return e.binary(101,a,o)}case 11:return e.binary(115,a,o);case 12:return e.binary(121,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.gt",s.toString()),e.unreachable()}E.set(h.v128_gt,ht);function mt(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return e.binary(84,a,o);case 5:return e.binary(85,a,o);case 1:return e.binary(94,a,o);case 6:return e.binary(95,a,o);case 2:return e.binary(104,a,o);case 7:return e.binary(105,a,o);case 3:return e.binary(111,a,o);case 4:return e.binary(n.options.isWasm64?111:104,a,o);case 9:{if(n.options.isWasm64)break;return e.binary(105,a,o)}case 11:return e.binary(117,a,o);case 12:return e.binary(123,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.ge",s.toString()),e.unreachable()}E.set(h.v128_ge,mt);function Xn(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.binary(191,a,o);case 6:return e.binary(192,a,o);case 2:return e.binary(193,a,o);case 7:return e.binary(194,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.narrow",s.toString()),e.unreachable()}E.set(h.v128_narrow,Xn);function Nr(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 0:case 5:return e.unary(69,a);case 1:case 6:return e.unary(74,a);case 2:case 7:return e.unary(78,a);case 3:case 8:return e.unary(82,a);case 4:case 9:return e.unary(n.options.isWasm64?82:78,a);case 11:return e.unary(86,a);case 12:return e.unary(93,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.neg",s.toString()),e.unreachable()}E.set(h.v128_neg,Nr);function Lr(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 0:return e.unary(68,a);case 1:return e.unary(73,a);case 2:return e.unary(77,a);case 3:return e.unary(81,a);case 4:return e.unary(n.options.isWasm64?81:77,a);case 5:case 6:case 7:case 8:case 9:return a;case 11:return e.unary(85,a);case 12:return e.unary(92,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.abs",s.toString()),e.unreachable()}E.set(h.v128_abs,Lr);function Au(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.unary(87,a);case 12:return e.unary(94,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.sqrt",s.toString()),e.unreachable()}E.set(h.v128_sqrt,Au);function Nu(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.unary(88,a);case 12:return e.unary(95,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.ceil",s.toString()),e.unreachable()}E.set(h.v128_ceil,Nu);function Lu(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.unary(89,a);case 12:return e.unary(96,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.floor",s.toString()),e.unreachable()}E.set(h.v128_floor,Lu);function Cu(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.unary(90,a);case 12:return e.unary(97,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.trunc",s.toString()),e.unreachable()}E.set(h.v128_trunc,Cu);function Fu(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.unary(91,a);case 12:return e.unary(98,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.nearest",s.toString()),e.unreachable()}E.set(h.v128_nearest,Fu);function ku(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 4:if(n.options.isWasm64)break;case 2:return e.unary(105,a);case 9:if(n.options.isWasm64)break;case 7:return e.unary(106,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.convert",s.toString()),e.unreachable()}E.set(h.v128_convert,ku);function Pu(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 4:if(n.options.isWasm64)break;case 2:return e.unary(119,a);case 9:if(n.options.isWasm64)break;case 7:return e.unary(120,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.convert_low",s.toString()),e.unreachable()}E.set(h.v128_convert_low,Pu);function Ou(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 4:if(n.options.isWasm64)break;case 2:return e.unary(103,a);case 9:if(n.options.isWasm64)break;case 7:return e.unary(104,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.trunc_sat",s.toString()),e.unreachable()}E.set(h.v128_trunc_sat,Ou);function wu(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 4:if(n.options.isWasm64)break;case 2:return e.unary(121,a);case 9:if(n.options.isWasm64)break;case 7:return e.unary(122,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.trunc_sat_zero",s.toString()),e.unreachable()}E.set(h.v128_trunc_sat_zero,wu);function Cr(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 0:return e.unary(107,a);case 5:return e.unary(109,a);case 1:return e.unary(111,a);case 6:return e.unary(113,a);case 4:if(n.options.isWasm64)break;case 2:return e.unary(115,a);case 9:if(n.options.isWasm64)break;case 7:return e.unary(117,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.extend_low",s.toString()),e.unreachable()}E.set(h.v128_extend_low,Cr);function Fr(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 0:return e.unary(108,a);case 5:return e.unary(110,a);case 1:return e.unary(112,a);case 6:return e.unary(114,a);case 4:if(n.options.isWasm64)break;case 2:return e.unary(116,a);case 9:if(n.options.isWasm64)break;case 7:return e.unary(118,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.extend_high",s.toString()),e.unreachable()}E.set(h.v128_extend_high,Fr);function Kn(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments[0],s=n.compileExpression(r[0],u.v128,1),a=n.compileExpression(r[1],u.i32,1);if(n.currentType=u.v128,i.isValue)switch(i.kind){case 0:case 5:return e.simd_shift(0,s,a);case 1:case 6:return e.simd_shift(3,s,a);case 2:case 7:return e.simd_shift(6,s,a);case 3:case 8:return e.simd_shift(9,s,a);case 4:case 9:return e.simd_shift(n.options.isWasm64?9:6,s,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.shl",i.toString()),e.unreachable()}E.set(h.v128_shl,Kn);function Ct(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments[0],s=n.compileExpression(r[0],u.v128,1),a=n.compileExpression(r[1],u.i32,1);if(n.currentType=u.v128,i.isValue)switch(i.kind){case 0:return e.simd_shift(1,s,a);case 5:return e.simd_shift(2,s,a);case 1:return e.simd_shift(4,s,a);case 6:return e.simd_shift(5,s,a);case 2:return e.simd_shift(7,s,a);case 7:return e.simd_shift(8,s,a);case 3:return e.simd_shift(10,s,a);case 8:return e.simd_shift(11,s,a);case 4:return e.simd_shift(n.options.isWasm64?10:7,s,a);case 9:return e.simd_shift(n.options.isWasm64?11:8,s,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.shr",i.toString()),e.unreachable()}E.set(h.v128_shr,Ct);function _o(t,n){var e=t.compiler,r=e.module;if(X(t,16)|b(t)|Y(t,2))return e.currentType=u.v128,r.unreachable();var i=t.operands,s=e.compileExpression(i[0],u.v128,1),a=e.compileExpression(i[1],u.v128,1);return r.binary(n,s,a)}function fy(t){return _o(t,124)}E.set(h.v128_and,fy);function hy(t){return _o(t,125)}E.set(h.v128_or,hy);function my(t){return _o(t,126)}E.set(h.v128_xor,my);function dy(t){return _o(t,127)}E.set(h.v128_andnot,dy);function Ey(t,n){var e=t.compiler,r=e.module;if(X(t,16)|b(t)|Y(t,1))return e.currentType=u.v128,r.unreachable();var i=t.operands,s=e.compileExpression(i[0],u.v128,1);return r.unary(n,s)}function yy(t){return Ey(t,66)}E.set(h.v128_not,yy);function gy(t,n){var e=t.compiler,r=e.module;if(X(t,16)|b(t)|Y(t,3))return e.currentType=u.v128,r.unreachable();var i=t.operands,s=e.compileExpression(i[0],u.v128,1),a=e.compileExpression(i[1],u.v128,1),o=e.compileExpression(i[2],u.v128,1);return r.simd_ternary(n,s,a,o)}function Ty(t){return gy(t,0)}E.set(h.v128_bitselect,Ty);function by(t){var n=t.compiler,e=n.module;if(X(t,16)|b(t)|Y(t,1))return n.currentType=u.bool,e.unreachable();var r=t.operands,i=n.compileExpression(r[0],u.v128,1);return n.currentType=u.bool,e.unary(67,i)}E.set(h.v128_any_true,by);function qn(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.bool,e.unreachable();var r=t.operands,i=t.typeArguments[0],s=n.compileExpression(r[0],u.v128,1);if(n.currentType=u.bool,i.isValue)switch(i.kind){case 0:case 5:return e.unary(70,s);case 1:case 6:return e.unary(75,s);case 2:case 7:return e.unary(79,s);case 3:case 8:return e.unary(83,s);case 4:case 9:return e.unary(n.options.isWasm64?83:79,s)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.all_true",i.toString()),e.unreachable()}E.set(h.v128_all_true,qn);function Qn(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.i32,e.unreachable();var r=t.operands,i=t.typeArguments[0],s=n.compileExpression(r[0],u.v128,1);if(n.currentType=u.i32,i.isValue)switch(i.kind){case 0:case 5:return e.unary(71,s);case 1:case 6:return e.unary(76,s);case 2:case 7:return e.unary(80,s);case 3:case 8:return e.unary(84,s);case 4:case 9:return e.unary(n.options.isWasm64?84:80,s)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.bitmask",i.toString()),e.unreachable()}E.set(h.v128_bitmask,Qn);function qc(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments[0],s=n.compileExpression(r[0],u.v128,1);if(n.currentType=u.v128,i.isValue)switch(i.kind){case 0:case 5:return e.unary(72,s)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.popcnt",i.toString()),e.unreachable()}E.set(h.v128_popcnt,qc);function Zn(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments[0],s=n.compileExpression(r[0],u.v128,1);if(n.currentType=u.v128,i.isValue)switch(i.kind){case 0:return e.unary(99,s);case 5:return e.unary(100,s);case 1:return e.unary(101,s);case 6:return e.unary(102,s)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.extadd_pairwise",i.toString()),e.unreachable()}E.set(h.v128_extadd_pairwise,Zn);function Qc(t){var n=t.compiler,e=n.module;if(X(t,16)|ae(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i?i[0]:u.f64,a=n.compileExpression(r[0],u.v128,1);if(n.currentType=u.v128,s.isValue)switch(s.kind){case 12:return e.unary(123,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.demote_zero",s.toString()),e.unreachable()}E.set(h.v128_demote_zero,Qc);function Zc(t){var n=t.compiler,e=n.module;if(X(t,16)|ae(t)|Y(t,1))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i?i[0]:u.f32,a=n.compileExpression(r[0],u.v128,1);if(n.currentType=u.v128,s.isValue)switch(s.kind){case 11:return e.unary(124,a)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.promote_low",s.toString()),e.unreachable()}E.set(h.v128_promote_low,Zc);function jc(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.binary(151,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.q15mulr_sat",s.toString()),e.unreachable()}E.set(h.v128_q15mulr_sat,jc);function kr(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return e.binary(152,a,o);case 5:return e.binary(154,a,o);case 1:return e.binary(164,a,o);case 6:return e.binary(166,a,o);case 2:return e.binary(171,a,o);case 7:return e.binary(173,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.extmul_low",s.toString()),e.unreachable()}E.set(h.v128_extmul_low,kr);function Pr(t){var n=t.compiler,e=n.module;if(X(t,16)|q(t)|Y(t,2))return n.currentType=u.v128,e.unreachable();var r=t.operands,i=t.typeArguments,s=i[0],a=n.compileExpression(r[0],u.v128,1),o=n.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return e.binary(153,a,o);case 5:return e.binary(155,a,o);case 1:return e.binary(165,a,o);case 6:return e.binary(167,a,o);case 2:return e.binary(172,a,o);case 7:return e.binary(174,a,o)}return n.error(203,t.reportNode.typeArgumentsRange,"v128.extmul_high",s.toString()),e.unreachable()}E.set(h.v128_extmul_high,Pr);function Iy(t){var n=t.compiler,e=n.module;if(b(t)|Y(t,1))return n.currentType=u.void,e.unreachable();var r=t.operands,i=n.compileExpression(r[0],u.u32,1);return n.runtimeFeatures|=16,n.currentType=u.void,e.call(h.visit_globals,[i],F.None)}E.set(h.visit_globals,Iy);function vy(t){var n=t.compiler,e=n.module;if(b(t)|Y(t,2))return n.currentType=u.void,e.unreachable();var r=t.operands,i=n.compileExpression(r[0],n.options.usizeType,1),s=n.compileExpression(r[1],u.u32,1);return n.runtimeFeatures|=32,n.currentType=u.void,e.call(h.visit_members,[i,s],F.None)}E.set(h.visit_members,vy);function xy(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,au(t)}E.set(h.i32_clz,xy);function Sy(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,au(t)}E.set(h.i64_clz,Sy);function Ry(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,ou(t)}E.set(h.i32_ctz,Ry);function Ay(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,ou(t)}E.set(h.i64_ctz,Ay);function Ny(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,lu(t)}E.set(h.i32_popcnt,Ny);function Ly(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,lu(t)}E.set(h.i64_popcnt,Ly);function Cy(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,uu(t)}E.set(h.i32_rotl,Cy);function Fy(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,uu(t)}E.set(h.i64_rotl,Fy);function ky(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,pu(t)}E.set(h.i32_rotr,ky);function Py(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,pu(t)}E.set(h.i64_rotr,Py);function Oy(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,cu(t)}E.set(h.f32_abs,Oy);function wy(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,cu(t)}E.set(h.f64_abs,wy);function My(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,_u(t)}E.set(h.f32_max,My);function Uy(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,_u(t)}E.set(h.f64_max,Uy);function By(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,fu(t)}E.set(h.f32_min,By);function Dy(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,fu(t)}E.set(h.f64_min,Dy);function Gy(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,hu(t)}E.set(h.f32_ceil,Gy);function Vy(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,hu(t)}E.set(h.f64_ceil,Vy);function zy(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,mu(t)}E.set(h.f32_floor,zy);function Wy(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,mu(t)}E.set(h.f64_floor,Wy);function Yy(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,du(t)}E.set(h.f32_copysign,Yy);function Hy(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,du(t)}E.set(h.f64_copysign,Hy);function Xy(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,Eu(t)}E.set(h.f32_nearest,Xy);function Ky(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,Eu(t)}E.set(h.f64_nearest,Ky);function qy(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.f32,wn(t)}E.set(h.i32_reinterpret_f32,qy);function Qy(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.f64,wn(t)}E.set(h.i64_reinterpret_f64,Qy);function Zy(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.i32,wn(t)}E.set(h.f32_reinterpret_i32,Zy);function jy(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.i64,wn(t)}E.set(h.f64_reinterpret_i64,jy);function Jy(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,yu(t)}E.set(h.f32_sqrt,Jy);function $y(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,yu(t)}E.set(h.f64_sqrt,$y);function eg(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,gu(t)}E.set(h.f32_trunc,eg);function tg(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,gu(t)}E.set(h.f64_trunc,tg);function rg(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Mn(t)}E.set(h.i32_add,rg);function ig(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,Mn(t)}E.set(h.i64_add,ig);function ng(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,Mn(t)}E.set(h.f32_add,ng);function sg(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,Mn(t)}E.set(h.f64_add,sg);function ag(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Un(t)}E.set(h.i32_sub,ag);function og(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,Un(t)}E.set(h.i64_sub,og);function lg(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,Un(t)}E.set(h.f32_sub,lg);function ug(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,Un(t)}E.set(h.f64_sub,ug);function pg(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Bn(t)}E.set(h.i32_mul,pg);function cg(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,Bn(t)}E.set(h.i64_mul,cg);function _g(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,Bn(t)}E.set(h.f32_mul,_g);function fg(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,Bn(t)}E.set(h.f64_mul,fg);function hg(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Tr(t)}E.set(h.i32_div_s,hg);function mg(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.u32,Tr(t)}E.set(h.i32_div_u,mg);function dg(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,Tr(t)}E.set(h.i64_div_s,dg);function Eg(t){return b(t),t.typeArguments=[u.u64],t.contextualType=u.u64,Tr(t)}E.set(h.i64_div_u,Eg);function yg(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,Tr(t)}E.set(h.f32_div,yg);function gg(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,Tr(t)}E.set(h.f64_div,gg);function Tg(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Dn(t)}E.set(h.i32_eq,Tg);function bg(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i32,Dn(t)}E.set(h.i64_eq,bg);function Ig(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.i32,Dn(t)}E.set(h.f32_eq,Ig);function vg(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.i32,Dn(t)}E.set(h.f64_eq,vg);function xg(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Gn(t)}E.set(h.i32_ne,xg);function Sg(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i32,Gn(t)}E.set(h.i64_ne,Sg);function Rg(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.i32,Gn(t)}E.set(h.f32_ne,Rg);function Ag(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.i32,Gn(t)}E.set(h.f64_ne,Ag);function Ng(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.i32,xe(t)}E.set(h.i32_load8_s,Ng);function Lg(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i32,xe(t)}E.set(h.i32_load8_u,Lg);function Cg(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.i32,xe(t)}E.set(h.i32_load16_s,Cg);function Fg(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i32,xe(t)}E.set(h.i32_load16_u,Fg);function kg(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,xe(t)}E.set(h.i32_load,kg);function Pg(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.i64,xe(t)}E.set(h.i64_load8_s,Pg);function Og(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i64,xe(t)}E.set(h.i64_load8_u,Og);function wg(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.i64,xe(t)}E.set(h.i64_load16_s,wg);function Mg(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i64,xe(t)}E.set(h.i64_load16_u,Mg);function Ug(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i64,xe(t)}E.set(h.i64_load32_s,Ug);function Bg(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.i64,xe(t)}E.set(h.i64_load32_u,Bg);function Dg(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,xe(t)}E.set(h.i64_load,Dg);function Gg(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,xe(t)}E.set(h.f32_load,Gg);function Vg(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,xe(t)}E.set(h.f64_load,Vg);function zg(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.i32,t.contextIsExact=!0,it(t)}E.set(h.i32_store8,zg);function Wg(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.i32,t.contextIsExact=!0,it(t)}E.set(h.i32_store16,Wg);function Yg(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,it(t)}E.set(h.i32_store,Yg);function Hg(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.i64,t.contextIsExact=!0,it(t)}E.set(h.i64_store8,Hg);function Xg(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.i64,t.contextIsExact=!0,it(t)}E.set(h.i64_store16,Xg);function Kg(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i64,t.contextIsExact=!0,it(t)}E.set(h.i64_store32,Kg);function qg(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,it(t)}E.set(h.i64_store,qg);function Qg(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,t.contextIsExact=!0,it(t)}E.set(h.f32_store,Qg);function Zg(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,t.contextIsExact=!0,it(t)}E.set(h.f64_store,Zg);function jg(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i32,Ht(t)}E.set(h.i32_atomic_load8_u,jg);function Jg(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i32,Ht(t)}E.set(h.i32_atomic_load16_u,Jg);function $g(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Ht(t)}E.set(h.i32_atomic_load,$g);function eT(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i64,Ht(t)}E.set(h.i64_atomic_load8_u,eT);function tT(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i64,Ht(t)}E.set(h.i64_atomic_load16_u,tT);function rT(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.i64,Ht(t)}E.set(h.i64_atomic_load32_u,rT);function iT(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,Ht(t)}E.set(h.i64_atomic_load,iT);function nT(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.i32,t.contextIsExact=!0,Xt(t)}E.set(h.i32_atomic_store8,nT);function sT(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.i32,t.contextIsExact=!0,Xt(t)}E.set(h.i32_atomic_store16,sT);function aT(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,Xt(t)}E.set(h.i32_atomic_store,aT);function oT(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.i64,t.contextIsExact=!0,Xt(t)}E.set(h.i64_atomic_store8,oT);function lT(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,Xt(t)}E.set(h.i64_atomic_store16,lT);function uT(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i64,t.contextIsExact=!0,Xt(t)}E.set(h.i64_atomic_store32,uT);function pT(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,Xt(t)}E.set(h.i64_atomic_store,pT);function cT(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i32,t.contextIsExact=!0,Kt(t)}E.set(h.i32_atomic_rmw8_add_u,cT);function _T(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i32,t.contextIsExact=!0,Kt(t)}E.set(h.i32_atomic_rmw16_add_u,_T);function fT(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,Kt(t)}E.set(h.i32_atomic_rmw_add,fT);function hT(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i64,t.contextIsExact=!0,Kt(t)}E.set(h.i64_atomic_rmw8_add_u,hT);function mT(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,Kt(t)}E.set(h.i64_atomic_rmw16_add_u,mT);function dT(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.i64,t.contextIsExact=!0,Kt(t)}E.set(h.i64_atomic_rmw32_add_u,dT);function ET(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,Kt(t)}E.set(h.i64_atomic_rmw_add,ET);function yT(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i32,t.contextIsExact=!0,qt(t)}E.set(h.i32_atomic_rmw8_sub_u,yT);function gT(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i32,t.contextIsExact=!0,qt(t)}E.set(h.i32_atomic_rmw16_sub_u,gT);function TT(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,qt(t)}E.set(h.i32_atomic_rmw_sub,TT);function bT(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i64,t.contextIsExact=!0,qt(t)}E.set(h.i64_atomic_rmw8_sub_u,bT);function IT(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,qt(t)}E.set(h.i64_atomic_rmw16_sub_u,IT);function vT(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.i64,t.contextIsExact=!0,qt(t)}E.set(h.i64_atomic_rmw32_sub_u,vT);function xT(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,qt(t)}E.set(h.i64_atomic_rmw_sub,xT);function ST(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i32,t.contextIsExact=!0,Qt(t)}E.set(h.i32_atomic_rmw8_and_u,ST);function RT(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i32,t.contextIsExact=!0,Qt(t)}E.set(h.i32_atomic_rmw16_and_u,RT);function AT(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,Qt(t)}E.set(h.i32_atomic_rmw_and,AT);function NT(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i64,t.contextIsExact=!0,Qt(t)}E.set(h.i64_atomic_rmw8_and_u,NT);function LT(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,Qt(t)}E.set(h.i64_atomic_rmw16_and_u,LT);function CT(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.i64,t.contextIsExact=!0,Qt(t)}E.set(h.i64_atomic_rmw32_and_u,CT);function FT(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,Qt(t)}E.set(h.i64_atomic_rmw_and,FT);function kT(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i32,t.contextIsExact=!0,Zt(t)}E.set(h.i32_atomic_rmw8_or_u,kT);function PT(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i32,t.contextIsExact=!0,Zt(t)}E.set(h.i32_atomic_rmw16_or_u,PT);function OT(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,Zt(t)}E.set(h.i32_atomic_rmw_or,OT);function wT(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i64,t.contextIsExact=!0,Zt(t)}E.set(h.i64_atomic_rmw8_or_u,wT);function MT(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,Zt(t)}E.set(h.i64_atomic_rmw16_or_u,MT);function UT(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.i64,t.contextIsExact=!0,Zt(t)}E.set(h.i64_atomic_rmw32_or_u,UT);function BT(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,Zt(t)}E.set(h.i64_atomic_rmw_or,BT);function DT(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i32,t.contextIsExact=!0,jt(t)}E.set(h.i32_atomic_rmw8_xor_u,DT);function GT(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i32,t.contextIsExact=!0,jt(t)}E.set(h.i32_atomic_rmw16_xor_u,GT);function VT(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,jt(t)}E.set(h.i32_atomic_rmw_xor,VT);function zT(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i64,t.contextIsExact=!0,jt(t)}E.set(h.i64_atomic_rmw8_xor_u,zT);function WT(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,jt(t)}E.set(h.i64_atomic_rmw16_xor_u,WT);function YT(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.i64,t.contextIsExact=!0,jt(t)}E.set(h.i64_atomic_rmw32_xor_u,YT);function HT(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,jt(t)}E.set(h.i64_atomic_rmw_xor,HT);function XT(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i32,t.contextIsExact=!0,Jt(t)}E.set(h.i32_atomic_rmw8_xchg_u,XT);function KT(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i32,t.contextIsExact=!0,Jt(t)}E.set(h.i32_atomic_rmw16_xchg_u,KT);function qT(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,Jt(t)}E.set(h.i32_atomic_rmw_xchg,qT);function QT(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i64,t.contextIsExact=!0,Jt(t)}E.set(h.i64_atomic_rmw8_xchg_u,QT);function ZT(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,Jt(t)}E.set(h.i64_atomic_rmw16_xchg_u,ZT);function jT(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.i64,t.contextIsExact=!0,Jt(t)}E.set(h.i64_atomic_rmw32_xchg_u,jT);function JT(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,Jt(t)}E.set(h.i64_atomic_rmw_xchg,JT);function $T(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i32,t.contextIsExact=!0,$t(t)}E.set(h.i32_atomic_rmw8_cmpxchg_u,$T);function eb(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i32,t.contextIsExact=!0,$t(t)}E.set(h.i32_atomic_rmw16_cmpxchg_u,eb);function tb(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,$t(t)}E.set(h.i32_atomic_rmw_cmpxchg,tb);function rb(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i64,t.contextIsExact=!0,$t(t)}E.set(h.i64_atomic_rmw8_cmpxchg_u,rb);function ib(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,$t(t)}E.set(h.i64_atomic_rmw16_cmpxchg_u,ib);function nb(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.i64,t.contextIsExact=!0,$t(t)}E.set(h.i64_atomic_rmw32_cmpxchg_u,nb);function sb(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,$t(t)}E.set(h.i64_atomic_rmw_cmpxchg,sb);function ab(t){return b(t),t.typeArguments=[u.i32],Tu(t)}E.set(h.i32_wait,ab);function ob(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i32,Tu(t)}E.set(h.i64_wait,ob);function lb(t){return b(t),t.typeArguments=[u.v128],t.contextualType=u.v128,xe(t)}E.set(h.v128_load,lb);function ub(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,vr(t)}E.set(h.v128_load8x8_s,ub);function pb(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,vr(t)}E.set(h.v128_load8x8_u,pb);function cb(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,vr(t)}E.set(h.v128_load16x4_s,cb);function _b(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,vr(t)}E.set(h.v128_load16x4_u,_b);function fb(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,vr(t)}E.set(h.v128_load32x2_s,fb);function hb(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,vr(t)}E.set(h.v128_load32x2_u,hb);function mb(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Vn(t)}E.set(h.v128_load8_splat,mb);function db(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Vn(t)}E.set(h.v128_load16_splat,db);function Eb(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Vn(t)}E.set(h.v128_load32_splat,Eb);function yb(t){return b(t),t.typeArguments=[u.u64],t.contextualType=u.v128,Vn(t)}E.set(h.v128_load64_splat,yb);function gb(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Iu(t)}E.set(h.v128_load32_zero,gb);function Tb(t){return b(t),t.typeArguments=[u.u64],t.contextualType=u.v128,Iu(t)}E.set(h.v128_load64_zero,Tb);function bb(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,zn(t)}E.set(h.v128_load8_lane,bb);function Ib(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,zn(t)}E.set(h.v128_load16_lane,Ib);function vb(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,zn(t)}E.set(h.v128_load32_lane,vb);function xb(t){return b(t),t.typeArguments=[u.u64],t.contextualType=u.v128,zn(t)}E.set(h.v128_load64_lane,xb);function Sb(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Wn(t)}E.set(h.v128_store8_lane,Sb);function Rb(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Wn(t)}E.set(h.v128_store16_lane,Rb);function Ab(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Wn(t)}E.set(h.v128_store32_lane,Ab);function Nb(t){return b(t),t.typeArguments=[u.u64],t.contextualType=u.v128,Wn(t)}E.set(h.v128_store64_lane,Nb);function Lb(t){return b(t),t.typeArguments=[u.v128],t.contextualType=u.v128,t.contextIsExact=!0,it(t)}E.set(h.v128_store,Lb);function Cb(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,br(t)}E.set(h.i8x16_splat,Cb);function Fb(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.i32,At(t)}E.set(h.i8x16_extract_lane_s,Fb);function kb(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.i32,At(t)}E.set(h.i8x16_extract_lane_u,kb);function Pb(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Ir(t)}E.set(h.i8x16_replace_lane,Pb);function Ob(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,xr(t)}E.set(h.i8x16_add,Ob);function wb(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Sr(t)}E.set(h.i8x16_sub,wb);function Mb(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Nt(t)}E.set(h.i8x16_min_s,Mb);function Ub(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Nt(t)}E.set(h.i8x16_min_u,Ub);function Bb(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Lt(t)}E.set(h.i8x16_max_s,Bb);function Db(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Lt(t)}E.set(h.i8x16_max_u,Db);function Gb(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Ru(t)}E.set(h.i8x16_avgr_u,Gb);function Vb(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Lr(t)}E.set(h.i8x16_abs,Vb);function zb(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Nr(t)}E.set(h.i8x16_neg,zb);function Wb(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Yn(t)}E.set(h.i8x16_add_sat_s,Wb);function Yb(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Yn(t)}E.set(h.i8x16_add_sat_u,Yb);function Hb(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Hn(t)}E.set(h.i8x16_sub_sat_s,Hb);function Xb(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Hn(t)}E.set(h.i8x16_sub_sat_u,Xb);function Kb(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Kn(t)}E.set(h.i8x16_shl,Kb);function qb(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Ct(t)}E.set(h.i8x16_shr_s,qb);function Qb(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Ct(t)}E.set(h.i8x16_shr_u,Qb);function Zb(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.i32,qn(t)}E.set(h.i8x16_all_true,Zb);function jb(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.i32,Qn(t)}E.set(h.i8x16_bitmask,jb);function Jb(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,qc(t)}E.set(h.i8x16_popcnt,Jb);function $b(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Rr(t)}E.set(h.i8x16_eq,$b);function eI(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Ar(t)}E.set(h.i8x16_ne,eI);function tI(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,_t(t)}E.set(h.i8x16_lt_s,tI);function rI(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,_t(t)}E.set(h.i8x16_lt_u,rI);function iI(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,ft(t)}E.set(h.i8x16_le_s,iI);function nI(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,ft(t)}E.set(h.i8x16_le_u,nI);function sI(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,ht(t)}E.set(h.i8x16_gt_s,sI);function aI(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,ht(t)}E.set(h.i8x16_gt_u,aI);function oI(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,mt(t)}E.set(h.i8x16_ge_s,oI);function lI(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,mt(t)}E.set(h.i8x16_ge_u,lI);function uI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Xn(t)}E.set(h.i8x16_narrow_i16x8_s,uI);function pI(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Xn(t)}E.set(h.i8x16_narrow_i16x8_u,pI);function cI(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Hc(t)}E.set(h.i8x16_shuffle,cI);function _I(t){return b(t),t.typeArguments=null,t.contextualType=u.v128,Xc(t)}E.set(h.i8x16_swizzle,_I);function fI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,br(t)}E.set(h.i16x8_splat,fI);function hI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.i32,At(t)}E.set(h.i16x8_extract_lane_s,hI);function mI(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.i32,At(t)}E.set(h.i16x8_extract_lane_u,mI);function dI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Ir(t)}E.set(h.i16x8_replace_lane,dI);function EI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,xr(t)}E.set(h.i16x8_add,EI);function yI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Sr(t)}E.set(h.i16x8_sub,yI);function gI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Ei(t)}E.set(h.i16x8_mul,gI);function TI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Nt(t)}E.set(h.i16x8_min_s,TI);function bI(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Nt(t)}E.set(h.i16x8_min_u,bI);function II(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Lt(t)}E.set(h.i16x8_max_s,II);function vI(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Lt(t)}E.set(h.i16x8_max_u,vI);function xI(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Ru(t)}E.set(h.i16x8_avgr_u,xI);function SI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Lr(t)}E.set(h.i16x8_abs,SI);function RI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Nr(t)}E.set(h.i16x8_neg,RI);function AI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Yn(t)}E.set(h.i16x8_add_sat_s,AI);function NI(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Yn(t)}E.set(h.i16x8_add_sat_u,NI);function LI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Hn(t)}E.set(h.i16x8_sub_sat_s,LI);function CI(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Hn(t)}E.set(h.i16x8_sub_sat_u,CI);function FI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Kn(t)}E.set(h.i16x8_shl,FI);function kI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Ct(t)}E.set(h.i16x8_shr_s,kI);function PI(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Ct(t)}E.set(h.i16x8_shr_u,PI);function OI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.i32,qn(t)}E.set(h.i16x8_all_true,OI);function wI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.i32,Qn(t)}E.set(h.i16x8_bitmask,wI);function MI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Rr(t)}E.set(h.i16x8_eq,MI);function UI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Ar(t)}E.set(h.i16x8_ne,UI);function BI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,_t(t)}E.set(h.i16x8_lt_s,BI);function DI(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,_t(t)}E.set(h.i16x8_lt_u,DI);function GI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,ft(t)}E.set(h.i16x8_le_s,GI);function VI(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,ft(t)}E.set(h.i16x8_le_u,VI);function zI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,ht(t)}E.set(h.i16x8_gt_s,zI);function WI(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,ht(t)}E.set(h.i16x8_gt_u,WI);function YI(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,mt(t)}E.set(h.i16x8_ge_s,YI);function HI(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,mt(t)}E.set(h.i16x8_ge_u,HI);function XI(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Xn(t)}E.set(h.i16x8_narrow_i32x4_s,XI);function KI(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Xn(t)}E.set(h.i16x8_narrow_i32x4_u,KI);function qI(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Cr(t)}E.set(h.i16x8_extend_low_i8x16_s,qI);function QI(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Cr(t)}E.set(h.i16x8_extend_low_i8x16_u,QI);function ZI(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Fr(t)}E.set(h.i16x8_extend_high_i8x16_s,ZI);function jI(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Fr(t)}E.set(h.i16x8_extend_high_i8x16_u,jI);function JI(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Zn(t)}E.set(h.i16x8_extadd_pairwise_i8x16_s,JI);function $I(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Zn(t)}E.set(h.i16x8_extadd_pairwise_i8x16_u,$I);function ev(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,jc(t)}E.set(h.i16x8_q15mulr_sat_s,ev);function tv(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,kr(t)}E.set(h.i16x8_extmul_low_i8x16_s,tv);function rv(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,kr(t)}E.set(h.i16x8_extmul_low_i8x16_u,rv);function iv(t){return b(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Pr(t)}E.set(h.i16x8_extmul_high_i8x16_s,iv);function nv(t){return b(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Pr(t)}E.set(h.i16x8_extmul_high_i8x16_u,nv);function sv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,br(t)}E.set(h.i32x4_splat,sv);function av(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,At(t)}E.set(h.i32x4_extract_lane,av);function ov(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Ir(t)}E.set(h.i32x4_replace_lane,ov);function lv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,xr(t)}E.set(h.i32x4_add,lv);function uv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Sr(t)}E.set(h.i32x4_sub,uv);function pv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Ei(t)}E.set(h.i32x4_mul,pv);function cv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Nt(t)}E.set(h.i32x4_min_s,cv);function _v(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Nt(t)}E.set(h.i32x4_min_u,_v);function fv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Lt(t)}E.set(h.i32x4_max_s,fv);function hv(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Lt(t)}E.set(h.i32x4_max_u,hv);function mv(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Kc(t)}E.set(h.i32x4_dot_i16x8_s,mv);function dv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Lr(t)}E.set(h.i32x4_abs,dv);function Ev(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Nr(t)}E.set(h.i32x4_neg,Ev);function yv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Kn(t)}E.set(h.i32x4_shl,yv);function gv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Ct(t)}E.set(h.i32x4_shr_s,gv);function Tv(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Ct(t)}E.set(h.i32x4_shr_u,Tv);function bv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,qn(t)}E.set(h.i32x4_all_true,bv);function Iv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Qn(t)}E.set(h.i32x4_bitmask,Iv);function vv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Rr(t)}E.set(h.i32x4_eq,vv);function xv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Ar(t)}E.set(h.i32x4_ne,xv);function Sv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,_t(t)}E.set(h.i32x4_lt_s,Sv);function Rv(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,_t(t)}E.set(h.i32x4_lt_u,Rv);function Av(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,ft(t)}E.set(h.i32x4_le_s,Av);function Nv(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,ft(t)}E.set(h.i32x4_le_u,Nv);function Lv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,ht(t)}E.set(h.i32x4_gt_s,Lv);function Cv(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,ht(t)}E.set(h.i32x4_gt_u,Cv);function Fv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,mt(t)}E.set(h.i32x4_ge_s,Fv);function kv(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,mt(t)}E.set(h.i32x4_ge_u,kv);function Pv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Ou(t)}E.set(h.i32x4_trunc_sat_f32x4_s,Pv);function Ov(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Ou(t)}E.set(h.i32x4_trunc_sat_f32x4_u,Ov);function wv(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,wu(t)}E.set(h.i32x4_trunc_sat_f64x2_s_zero,wv);function Mv(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,wu(t)}E.set(h.i32x4_trunc_sat_f64x2_u_zero,Mv);function Uv(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Cr(t)}E.set(h.i32x4_extend_low_i16x8_s,Uv);function Bv(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Cr(t)}E.set(h.i32x4_extend_low_i16x8_u,Bv);function Dv(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Fr(t)}E.set(h.i32x4_extend_high_i16x8_s,Dv);function Gv(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Fr(t)}E.set(h.i32x4_extend_high_i16x8_u,Gv);function Vv(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Zn(t)}E.set(h.i32x4_extadd_pairwise_i16x8_s,Vv);function zv(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Zn(t)}E.set(h.i32x4_extadd_pairwise_i16x8_u,zv);function Wv(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,kr(t)}E.set(h.i32x4_extmul_low_i16x8_s,Wv);function Yv(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,kr(t)}E.set(h.i32x4_extmul_low_i16x8_u,Yv);function Hv(t){return b(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Pr(t)}E.set(h.i32x4_extmul_high_i16x8_s,Hv);function Xv(t){return b(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Pr(t)}E.set(h.i32x4_extmul_high_i16x8_u,Xv);function Kv(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.v128,br(t)}E.set(h.i64x2_splat,Kv);function qv(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i64,At(t)}E.set(h.i64x2_extract_lane,qv);function Qv(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Ir(t)}E.set(h.i64x2_replace_lane,Qv);function Zv(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.v128,xr(t)}E.set(h.i64x2_add,Zv);function jv(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Sr(t)}E.set(h.i64x2_sub,jv);function Jv(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Ei(t)}E.set(h.i64x2_mul,Jv);function $v(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Lr(t)}E.set(h.i64x2_abs,$v);function ex(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Nr(t)}E.set(h.i64x2_neg,ex);function tx(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Kn(t)}E.set(h.i64x2_shl,tx);function rx(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Ct(t)}E.set(h.i64x2_shr_s,rx);function ix(t){return b(t),t.typeArguments=[u.u64],t.contextualType=u.v128,Ct(t)}E.set(h.i64x2_shr_u,ix);function nx(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i32,qn(t)}E.set(h.i64x2_all_true,nx);function sx(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.i32,Qn(t)}E.set(h.i64x2_bitmask,sx);function ax(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Rr(t)}E.set(h.i64x2_eq,ax);function ox(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Ar(t)}E.set(h.i64x2_ne,ox);function lx(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.v128,_t(t)}E.set(h.i64x2_lt_s,lx);function ux(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.v128,ft(t)}E.set(h.i64x2_le_s,ux);function px(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.v128,ht(t)}E.set(h.i64x2_gt_s,px);function cx(t){return b(t),t.typeArguments=[u.i64],t.contextualType=u.v128,mt(t)}E.set(h.i64x2_ge_s,cx);function _x(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Cr(t)}E.set(h.i64x2_extend_low_i32x4_s,_x);function fx(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Cr(t)}E.set(h.i64x2_extend_low_i32x4_u,fx);function hx(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Fr(t)}E.set(h.i64x2_extend_high_i32x4_s,hx);function mx(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Fr(t)}E.set(h.i64x2_extend_high_i32x4_u,mx);function dx(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,kr(t)}E.set(h.i64x2_extmul_low_i32x4_s,dx);function Ex(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,kr(t)}E.set(h.i64x2_extmul_low_i32x4_u,Ex);function yx(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Pr(t)}E.set(h.i64x2_extmul_high_i32x4_s,yx);function gx(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Pr(t)}E.set(h.i64x2_extmul_high_i32x4_u,gx);function Tx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,br(t)}E.set(h.f32x4_splat,Tx);function bx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.f32,At(t)}E.set(h.f32x4_extract_lane,bx);function Ix(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Ir(t)}E.set(h.f32x4_replace_lane,Ix);function vx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,xr(t)}E.set(h.f32x4_add,vx);function xx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Sr(t)}E.set(h.f32x4_sub,xx);function Sx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Ei(t)}E.set(h.f32x4_mul,Sx);function Rx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,vu(t)}E.set(h.f32x4_div,Rx);function Ax(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Nr(t)}E.set(h.f32x4_neg,Ax);function Nx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Nt(t)}E.set(h.f32x4_min,Nx);function Lx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Lt(t)}E.set(h.f32x4_max,Lx);function Cx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,xu(t)}E.set(h.f32x4_pmin,Cx);function Fx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Su(t)}E.set(h.f32x4_pmax,Fx);function kx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Lr(t)}E.set(h.f32x4_abs,kx);function Px(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Au(t)}E.set(h.f32x4_sqrt,Px);function Ox(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Nu(t)}E.set(h.f32x4_ceil,Ox);function wx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Lu(t)}E.set(h.f32x4_floor,wx);function Mx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Cu(t)}E.set(h.f32x4_trunc,Mx);function Ux(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Fu(t)}E.set(h.f32x4_nearest,Ux);function Bx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Rr(t)}E.set(h.f32x4_eq,Bx);function Dx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Ar(t)}E.set(h.f32x4_ne,Dx);function Gx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,_t(t)}E.set(h.f32x4_lt,Gx);function Vx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,ft(t)}E.set(h.f32x4_le,Vx);function zx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,ht(t)}E.set(h.f32x4_gt,zx);function Wx(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,mt(t)}E.set(h.f32x4_ge,Wx);function Yx(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,ku(t)}E.set(h.f32x4_convert_i32x4_s,Yx);function Hx(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,ku(t)}E.set(h.f32x4_convert_i32x4_u,Hx);function Xx(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Qc(t)}E.set(h.f32x4_demote_f64x2_zero,Xx);function Kx(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,br(t)}E.set(h.f64x2_splat,Kx);function qx(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.f64,At(t)}E.set(h.f64x2_extract_lane,qx);function Qx(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Ir(t)}E.set(h.f64x2_replace_lane,Qx);function Zx(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,xr(t)}E.set(h.f64x2_add,Zx);function jx(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Sr(t)}E.set(h.f64x2_sub,jx);function Jx(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Ei(t)}E.set(h.f64x2_mul,Jx);function $x(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,vu(t)}E.set(h.f64x2_div,$x);function e2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Nr(t)}E.set(h.f64x2_neg,e2);function t2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Nt(t)}E.set(h.f64x2_min,t2);function r2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Lt(t)}E.set(h.f64x2_max,r2);function i2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,xu(t)}E.set(h.f64x2_pmin,i2);function n2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Su(t)}E.set(h.f64x2_pmax,n2);function s2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Lr(t)}E.set(h.f64x2_abs,s2);function a2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Au(t)}E.set(h.f64x2_sqrt,a2);function o2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Nu(t)}E.set(h.f64x2_ceil,o2);function l2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Lu(t)}E.set(h.f64x2_floor,l2);function u2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Cu(t)}E.set(h.f64x2_trunc,u2);function p2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Fu(t)}E.set(h.f64x2_nearest,p2);function c2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Rr(t)}E.set(h.f64x2_eq,c2);function _2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Ar(t)}E.set(h.f64x2_ne,_2);function f2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,_t(t)}E.set(h.f64x2_lt,f2);function h2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,ft(t)}E.set(h.f64x2_le,h2);function m2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,ht(t)}E.set(h.f64x2_gt,m2);function d2(t){return b(t),t.typeArguments=[u.f64],t.contextualType=u.v128,mt(t)}E.set(h.f64x2_ge,d2);function E2(t){return b(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Pu(t)}E.set(h.f64x2_convert_low_i32x4_s,E2);function y2(t){return b(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Pu(t)}E.set(h.f64x2_convert_low_i32x4_u,y2);function g2(t){return b(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Zc(t)}E.set(h.f64x2_promote_low_f32x4,g2);function Gc(t){var n=t.module,e=new Array,r=t.options.sizeTypeRef,i=assert(t.program.visitInstance);t.compileFunction(i,!0);for(let s=Map_values(t.program.elementsByName),a=0,o=s.length;a<o;++a){let l=unchecked(s[a]);if(l.kind!=0)continue;let p=l,_=p.type.getClass();if(_&&!_.hasDecorator(16)&&p.is(4194304))if(p.is(16777216)){let f=p.constantIntegerValue;(i64_low(f)||i64_high(f))&&e.push(n.call(i.internalName,[t.options.isWasm64?n.i64(i64_low(f),i64_high(f)):n.i32(i64_low(f)),n.local_get(0,F.I32)],F.None))}else e.push(n.if(n.local_tee(1,n.global_get(p.internalName,r),!1),n.call(i.internalName,[n.local_get(1,r),n.local_get(0,F.I32)],F.None)))}n.addFunction(h.visit_globals,F.I32,F.None,[r],e.length?n.block(null,e):n.nop())}function Jc(t,n){if(assert(n.type.isManaged),!n.visitRef){var e=t.program,r=t.module,i=e.options.usizeType,s=i.toRef(),a=i.byteSize,o=assert(e.visitInstance),l=new Array,p=n.base;p&&l.push(r.call(p.internalName+"~visit",[r.local_get(0,s),r.local_get(1,F.I32)],F.None));var c=!1;if(n.isDeclaredInLibrary){let f=n.getMember("__visit");if(f){assert(f.kind==4);let d=e.resolver.resolveFunction(f,null);if(!d||!t.compileFunction(d))l.push(r.unreachable());else{let y=d.signature,T=assert(y.thisType);assert(y.parameterTypes.length==1&&y.parameterTypes[0]==u.u32&&y.returnType==u.void&&n.type.isStrictlyAssignableTo(T)),l.push(r.call(d.internalName,[r.local_get(0,s),r.local_get(1,F.I32)],F.None))}c=!0}}var _=!1;if(!c){let f=n.members;if(f)for(let d=Map_values(f),y=0,T=d.length;y<T;++y){let v=unchecked(d[y]);if(v.kind==11&&v.parent==n&&v.type.isManaged){let S=v.memoryOffset;assert(S>=0),_=!0,l.push(r.if(r.local_tee(2,r.load(a,!1,r.local_get(0,s),s,S),!1),r.call(o.internalName,[r.local_get(2,s),r.local_get(1,F.I32)],F.None)))}}}n.visitRef=r.addFunction(n.internalName+"~visit",Be([s,F.I32]),F.None,_?[s]:null,r.flatten(l,F.None)),p&&p.type.isManaged&&Jc(t,p)}}function Vc(t){var n=t.program,e=t.module,r=n.options.usizeType,i=r.toRef(),s=n.managedClasses,a=assert(n.visitInstance);t.compileFunction(a,!0);var o=new Array,l=new Array,p=0;for(let _=Map_keys(s),f=0,d=_.length;f<d;++f){let y=_[f];assert(y==p++);let T=assert(s.get(y));o[f]=T.internalName,T.isPointerfree?l[f]=e.return():(l[f]=e.block(null,[e.call(T.internalName+"~visit",[e.local_get(0,i),e.local_get(1,F.I32)],F.None),e.return()],F.None),Jc(t,T))}var c=e.block(o[0],[e.switch(o,"invalid",e.load(4,!1,i==F.I64?e.binary(26,e.local_get(0,i),e.i64(8)):e.binary(1,e.local_get(0,i),e.i32(8)),F.I32,0))],F.None);for(let _=0,f=o.length-1;_<f;++_)c=e.block(o[_+1],[c,l[_]],F.None);c=e.block("invalid",[c,l[o.length-1]],F.None),e.addFunction(h.visit_members,Be([i,F.I32]),F.None,null,e.flatten([c,e.unreachable()]))}function hi(t){var n=64*(1<<t.alignLog2);return t.is(1)&&(n|=2048),t.is(8)&&(n|=4096),t.is(512)&&(n|=8192),t.isManaged&&(n|=16384),n/64}function zc(t){var n=t.program,e=t.module,r=n.managedClasses,i=r.size,s=4+8*i,a=new Uint8Array(s);ce(i,a,0);var o=4,l=n.arrayBufferViewInstance,p=l.prototype,c=n.arrayPrototype,_=n.setPrototype,f=n.mapPrototype,d=n.staticArrayPrototype,y=0;for(let I=Map_keys(r),S=0,R=I.length;S<R;++S){let A=unchecked(I[S]),P=assert(r.get(A));assert(A==y++);let k=0;if(P.isPointerfree&&(k|=32),P!=l&&P.extends(p)){let U=P.getArrayValueType();k|=1,k|=64*hi(U)}else if(P.extends(c)){let U=P.getArrayValueType();k|=2,k|=64*hi(U)}else if(P.extends(_)){let U=assert(P.getTypeArgumentsTo(_));assert(U.length==1),k|=8,k|=64*hi(U[0])}else if(P.extends(f)){let U=assert(P.getTypeArgumentsTo(f));assert(U.length==2),k|=16,k|=32768*hi(U[0]),k|=64*hi(U[1])}else if(P.extends(d)){let U=P.getArrayValueType();k|=4,k|=64*hi(U)}ce(k,a,o),o+=4,P.rttiFlags=k;let W=P.base;ce(W?W.id:0,a,o),o+=4}assert(o==s);var T=n.options.usizeType,v=t.addAlignedMemorySegment(a);if(T.size==8){let I=v.offset;e.addGlobal(h.rtti_base,F.I64,!1,e.i64(i64_low(I),i64_high(I)))}else e.addGlobal(h.rtti_base,F.I32,!1,e.i32(i64_low(v.offset)))}function Wc(t,n){var e=t.module,r=t.options.sizeTypeRef,i=assert(n.program.instanceofInstance);t.compileFunction(i);var s=new Array;s.push(e.if(e.unary(r==F.I64?21:20,e.local_get(0,r)),e.return(e.i32(0))));var a=n.instances;if(a&&a.size>0)for(let o=Map_values(a),l=0,p=o.length;l<p;++l){let c=unchecked(o[l]);s.push(e.if(e.call(i.internalName,[e.local_get(0,r),e.i32(c.id)],F.I32),e.return(e.i32(1))))}s.push(e.return(e.i32(0))),e.addFunction(n.internalName+"~instanceof",r,F.I32,null,e.flatten(s))}var mi=0;function Ae(t){var n=t.compiler,e=t.operands,r=t.typeArguments;if(mi=0,e.length==0)return!r||r.length!=1?(n.error(2558,t.reportNode.typeArgumentsRange,"1",r?r.length.toString():"0"),null):r[0];if(e.length==1){if(r&&r.length>0){if(r.length>1)return n.error(2558,t.reportNode.typeArgumentsRange,"1",r.length.toString()),null;mi=n.compileExpression(e[0],r[0],1)}else mi=n.compileExpression(e[0],u.auto);return n.currentType}return r&&r.length>1&&n.error(2558,t.reportNode.typeArgumentsRange,"1",r.length.toString()),n.error(2554,t.reportNode.argumentsRange,"1",e.length.toString()),null}function ve(t,n){var e=t.compiler.module;return mi&&fo(mi,e.ref)&&(n=e.block(null,[e.maybeDrop(mi),n],oe(n))),n}function Qe(t,n){var e=n.module,r;if(n.options.isWasm64){let i=n.compileExpression(t,u.usize64,1),s=e.runExpression(i,1);s?(assert(rt(s)==0),r=ze(s)):(n.error(220,t.range),r=-1)}else{let i=n.compileExpression(t,u.usize32,1),s=e.runExpression(i,1);s?r=ie(s):(n.error(220,t.range),r=-1)}return r}function Rt(t,n,e){var r=Qe(t,e);return r<0?r:r<1||n>16?(e.error(222,t.range,"Alignment","1",n.toString()),-1):Et(r)?r:(e.error(223,t.range,"Alignment"),-1)}function X(t,n){var e=t.compiler;return e.options.hasFeature(n)?0:(e.error(103,t.reportNode.range,zr(n)),1)}function q(t,n=!1){var e=t.compiler,r=t.typeArguments;if(r){let i=r.length;if(i==1)return 0;assert(i),n&&(e.currentType=r[0]),e.error(2558,t.reportNode.typeArgumentsRange,"1",i.toString())}else e.error(2558,t.reportNode.range,"1","0");return 1}function ae(t,n=!1){var e=t.typeArguments;if(e){let r=t.compiler,i=e.length;return i==1?0:(assert(i),n&&(r.currentType=e[0]),r.error(2558,t.reportNode.typeArgumentsRange,"1",i.toString()),1)}return 0}function b(t){var n=t.typeArguments;if(n){let e=t.prototype;return e.program.error(2315,t.reportNode.typeArgumentsRange,e.internalName),1}return 0}function Y(t,n){var e=t.operands;return e.length!=n?(t.compiler.error(2554,t.reportNode.range,n.toString(),e.length.toString()),1):0}function Ee(t,n,e){var r=t.operands,i=r.length;return i<n?(t.compiler.error(2555,t.reportNode.range,n.toString(),i.toString()),1):i>e?(t.compiler.error(2554,t.reportNode.range,e.toString(),i.toString()),1):0}function co(t,n,e){var r=t.module;if(e!=u.auto&&e.isIntegerValue)switch(e.kind){case 2:{if(i64_is_i32(n))return t.currentType=u.i32,r.i32(i64_low(n));break}case 7:{if(i64_is_u32(n))return t.currentType=u.u32,r.i32(i64_low(n));break}case 3:case 8:return t.currentType=e,r.i64(i64_low(n),i64_high(n))}return t.options.isWasm64?(t.currentType=u.usize64,r.i64(i64_low(n),i64_high(n))):(t.currentType=u.usize32,assert(!i64_high(n)),r.i32(i64_low(n)))}var F;(y=>(y.None=0,y.Unreachable=1,y.I32=2,y.I64=3,y.F32=4,y.F64=5,y.V128=6,y.Funcref=7,y.Externref=8,y.Anyref=8,y.Eqref=9,y.I31ref=10,y.Dataref=11,y.Auto=-1))(F||={});var iu=(I=>(I[I.MVP=0]="MVP",I[I.Atomics=1]="Atomics",I[I.MutableGlobals=2]="MutableGlobals",I[I.TruncSat=4]="TruncSat",I[I.SIMD=8]="SIMD",I[I.BulkMemory=16]="BulkMemory",I[I.SignExt=32]="SignExt",I[I.ExceptionHandling=64]="ExceptionHandling",I[I.TailCall=128]="TailCall",I[I.ReferenceTypes=256]="ReferenceTypes",I[I.MultiValue=512]="MultiValue",I[I.GC=1024]="GC",I[I.Memory64=2048]="Memory64",I[I.FunctionReferences=4096]="FunctionReferences",I[I.RelaxedSIMD=16384]="RelaxedSIMD",I[I.ExtendedConst=32768]="ExtendedConst",I[I.All=57343]="All",I))(iu||{}),cr=(B=>(B[B.Invalid=0]="Invalid",B[B.Block=1]="Block",B[B.If=2]="If",B[B.Loop=3]="Loop",B[B.Break=4]="Break",B[B.Switch=5]="Switch",B[B.Call=6]="Call",B[B.CallIndirect=7]="CallIndirect",B[B.LocalGet=8]="LocalGet",B[B.LocalSet=9]="LocalSet",B[B.GlobalGet=10]="GlobalGet",B[B.GlobalSet=11]="GlobalSet",B[B.Load=12]="Load",B[B.Store=13]="Store",B[B.Const=14]="Const",B[B.Unary=15]="Unary",B[B.Binary=16]="Binary",B[B.Select=17]="Select",B[B.Drop=18]="Drop",B[B.Return=19]="Return",B[B.MemorySize=20]="MemorySize",B[B.MemoryGrow=21]="MemoryGrow",B[B.Nop=22]="Nop",B[B.Unreachable=23]="Unreachable",B[B.AtomicRMW=24]="AtomicRMW",B[B.AtomicCmpxchg=25]="AtomicCmpxchg",B[B.AtomicWait=26]="AtomicWait",B[B.AtomicNotify=27]="AtomicNotify",B[B.AtomicFence=28]="AtomicFence",B[B.SIMDExtract=29]="SIMDExtract",B[B.SIMDReplace=30]="SIMDReplace",B[B.SIMDShuffle=31]="SIMDShuffle",B[B.SIMDTernary=32]="SIMDTernary",B[B.SIMDShift=33]="SIMDShift",B[B.SIMDLoad=34]="SIMDLoad",B[B.SIMDLoadStoreLane=35]="SIMDLoadStoreLane",B[B.MemoryInit=36]="MemoryInit",B[B.DataDrop=37]="DataDrop",B[B.MemoryCopy=38]="MemoryCopy",B[B.MemoryFill=39]="MemoryFill",B[B.Pop=40]="Pop",B[B.RefNull=41]="RefNull",B[B.RefIs=42]="RefIs",B[B.RefFunc=43]="RefFunc",B[B.RefEq=44]="RefEq",B[B.TableGet=45]="TableGet",B[B.TableSet=46]="TableSet",B[B.TableSize=47]="TableSize",B[B.TableGrow=48]="TableGrow",B[B.Try=49]="Try",B[B.Throw=50]="Throw",B[B.Rethrow=51]="Rethrow",B[B.TupleMake=52]="TupleMake",B[B.TupleExtract=53]="TupleExtract",B[B.I31New=54]="I31New",B[B.I31Get=55]="I31Get",B[B.CallRef=56]="CallRef",B[B.RefTest=57]="RefTest",B[B.RefCast=58]="RefCast",B[B.BrOn=59]="BrOn",B[B.RttCanon=60]="RttCanon",B[B.RttSub=61]="RttSub",B[B.StructNew=62]="StructNew",B[B.StructGet=63]="StructGet",B[B.StructSet=64]="StructSet",B[B.ArrayNew=65]="ArrayNew",B[B.ArrayInit=66]="ArrayInit",B[B.ArrayGet=67]="ArrayGet",B[B.ArraySet=68]="ArraySet",B[B.ArrayLen=69]="ArrayLen",B[B.ArrayCopy=70]="ArrayCopy",B[B.RefAs=71]="RefAs",B))(cr||{}),$l=(s=>(s[s.Function=0]="Function",s[s.Table=1]="Table",s[s.Memory=2]="Memory",s[s.Global=3]="Global",s[s.Tag=4]="Tag",s))($l||{}),mn=(N=>(N[N.ClzI32=0]="ClzI32",N[N.ClzI64=1]="ClzI64",N[N.CtzI32=2]="CtzI32",N[N.CtzI64=3]="CtzI64",N[N.PopcntI32=4]="PopcntI32",N[N.PopcntI64=5]="PopcntI64",N[N.NegF32=6]="NegF32",N[N.NegF64=7]="NegF64",N[N.AbsF32=8]="AbsF32",N[N.AbsF64=9]="AbsF64",N[N.CeilF32=10]="CeilF32",N[N.CeilF64=11]="CeilF64",N[N.FloorF32=12]="FloorF32",N[N.FloorF64=13]="FloorF64",N[N.TruncF32=14]="TruncF32",N[N.TruncF64=15]="TruncF64",N[N.NearestF32=16]="NearestF32",N[N.NearestF64=17]="NearestF64",N[N.SqrtF32=18]="SqrtF32",N[N.SqrtF64=19]="SqrtF64",N[N.EqzI32=20]="EqzI32",N[N.EqzI64=21]="EqzI64",N[N.ExtendI32ToI64=22]="ExtendI32ToI64",N[N.ExtendU32ToU64=23]="ExtendU32ToU64",N[N.WrapI64ToI32=24]="WrapI64ToI32",N[N.TruncF32ToI32=25]="TruncF32ToI32",N[N.TruncF32ToI64=26]="TruncF32ToI64",N[N.TruncF32ToU32=27]="TruncF32ToU32",N[N.TruncF32ToU64=28]="TruncF32ToU64",N[N.TruncF64ToI32=29]="TruncF64ToI32",N[N.TruncF64ToI64=30]="TruncF64ToI64",N[N.TruncF64ToU32=31]="TruncF64ToU32",N[N.TruncF64ToU64=32]="TruncF64ToU64",N[N.ReinterpretF32ToI32=33]="ReinterpretF32ToI32",N[N.ReinterpretF64ToI64=34]="ReinterpretF64ToI64",N[N.ConvertI32ToF32=35]="ConvertI32ToF32",N[N.ConvertI32ToF64=36]="ConvertI32ToF64",N[N.ConvertU32ToF32=37]="ConvertU32ToF32",N[N.ConvertU32ToF64=38]="ConvertU32ToF64",N[N.ConvertI64ToF32=39]="ConvertI64ToF32",N[N.ConvertI64ToF64=40]="ConvertI64ToF64",N[N.ConvertU64ToF32=41]="ConvertU64ToF32",N[N.ConvertU64ToF64=42]="ConvertU64ToF64",N[N.PromoteF32ToF64=43]="PromoteF32ToF64",N[N.DemoteF64ToF32=44]="DemoteF64ToF32",N[N.ReinterpretI32ToF32=45]="ReinterpretI32ToF32",N[N.ReinterpretI64ToF64=46]="ReinterpretI64ToF64",N[N.Extend8I32=47]="Extend8I32",N[N.Extend16I32=48]="Extend16I32",N[N.Extend8I64=49]="Extend8I64",N[N.Extend16I64=50]="Extend16I64",N[N.Extend32I64=51]="Extend32I64",N[N.TruncSatF32ToI32=52]="TruncSatF32ToI32",N[N.TruncSatF32ToU32=53]="TruncSatF32ToU32",N[N.TruncSatF64ToI32=54]="TruncSatF64ToI32",N[N.TruncSatF64ToU32=55]="TruncSatF64ToU32",N[N.TruncSatF32ToI64=56]="TruncSatF32ToI64",N[N.TruncSatF32ToU64=57]="TruncSatF32ToU64",N[N.TruncSatF64ToI64=58]="TruncSatF64ToI64",N[N.TruncSatF64ToU64=59]="TruncSatF64ToU64",N[N.SplatI8x16=60]="SplatI8x16",N[N.SplatI16x8=61]="SplatI16x8",N[N.SplatI32x4=62]="SplatI32x4",N[N.SplatI64x2=63]="SplatI64x2",N[N.SplatF32x4=64]="SplatF32x4",N[N.SplatF64x2=65]="SplatF64x2",N[N.NotV128=66]="NotV128",N[N.AnyTrueV128=67]="AnyTrueV128",N[N.AbsI8x16=68]="AbsI8x16",N[N.NegI8x16=69]="NegI8x16",N[N.AllTrueI8x16=70]="AllTrueI8x16",N[N.BitmaskI8x16=71]="BitmaskI8x16",N[N.PopcntI8x16=72]="PopcntI8x16",N[N.AbsI16x8=73]="AbsI16x8",N[N.NegI16x8=74]="NegI16x8",N[N.AllTrueI16x8=75]="AllTrueI16x8",N[N.BitmaskI16x8=76]="BitmaskI16x8",N[N.AbsI32x4=77]="AbsI32x4",N[N.NegI32x4=78]="NegI32x4",N[N.AllTrueI32x4=79]="AllTrueI32x4",N[N.BitmaskI32x4=80]="BitmaskI32x4",N[N.AbsI64x2=81]="AbsI64x2",N[N.NegI64x2=82]="NegI64x2",N[N.AllTrueI64x2=83]="AllTrueI64x2",N[N.BitmaskI64x2=84]="BitmaskI64x2",N[N.AbsF32x4=85]="AbsF32x4",N[N.NegF32x4=86]="NegF32x4",N[N.SqrtF32x4=87]="SqrtF32x4",N[N.CeilF32x4=88]="CeilF32x4",N[N.FloorF32x4=89]="FloorF32x4",N[N.TruncF32x4=90]="TruncF32x4",N[N.NearestF32x4=91]="NearestF32x4",N[N.AbsF64x2=92]="AbsF64x2",N[N.NegF64x2=93]="NegF64x2",N[N.SqrtF64x2=94]="SqrtF64x2",N[N.CeilF64x2=95]="CeilF64x2",N[N.FloorF64x2=96]="FloorF64x2",N[N.TruncF64x2=97]="TruncF64x2",N[N.NearestF64x2=98]="NearestF64x2",N[N.ExtaddPairwiseI8x16ToI16x8=99]="ExtaddPairwiseI8x16ToI16x8",N[N.ExtaddPairwiseU8x16ToU16x8=100]="ExtaddPairwiseU8x16ToU16x8",N[N.ExtaddPairwiseI16x8ToI32x4=101]="ExtaddPairwiseI16x8ToI32x4",N[N.ExtaddPairwiseU16x8ToU32x4=102]="ExtaddPairwiseU16x8ToU32x4",N[N.TruncSatF32x4ToI32x4=103]="TruncSatF32x4ToI32x4",N[N.TruncSatF32x4ToU32x4=104]="TruncSatF32x4ToU32x4",N[N.ConvertI32x4ToF32x4=105]="ConvertI32x4ToF32x4",N[N.ConvertU32x4ToF32x4=106]="ConvertU32x4ToF32x4",N[N.ExtendLowI8x16ToI16x8=107]="ExtendLowI8x16ToI16x8",N[N.ExtendHighI8x16ToI16x8=108]="ExtendHighI8x16ToI16x8",N[N.ExtendLowU8x16ToU16x8=109]="ExtendLowU8x16ToU16x8",N[N.ExtendHighU8x16ToU16x8=110]="ExtendHighU8x16ToU16x8",N[N.ExtendLowI16x8ToI32x4=111]="ExtendLowI16x8ToI32x4",N[N.ExtendHighI16x8ToI32x4=112]="ExtendHighI16x8ToI32x4",N[N.ExtendLowU16x8ToU32x4=113]="ExtendLowU16x8ToU32x4",N[N.ExtendHighU16x8ToU32x4=114]="ExtendHighU16x8ToU32x4",N[N.ExtendLowI32x4ToI64x2=115]="ExtendLowI32x4ToI64x2",N[N.ExtendHighI32x4ToI64x2=116]="ExtendHighI32x4ToI64x2",N[N.ExtendLowU32x4ToU64x2=117]="ExtendLowU32x4ToU64x2",N[N.ExtendHighU32x4ToU64x2=118]="ExtendHighU32x4ToU64x2",N[N.ConvertLowI32x4ToF64x2=119]="ConvertLowI32x4ToF64x2",N[N.ConvertLowU32x4ToF64x2=120]="ConvertLowU32x4ToF64x2",N[N.TruncSatF64x2ToI32x4Zero=121]="TruncSatF64x2ToI32x4Zero",N[N.TruncSatF64x2ToU32x4Zero=122]="TruncSatF64x2ToU32x4Zero",N[N.DemoteZeroF64x2ToF32x4=123]="DemoteZeroF64x2ToF32x4",N[N.PromoteLowF32x4ToF64x2=124]="PromoteLowF32x4ToF64x2",N[N._last=124]="_last",N[N.ClzSize=125]="ClzSize",N[N.CtzSize=126]="CtzSize",N[N.PopcntSize=127]="PopcntSize",N[N.EqzSize=128]="EqzSize",N))(mn||{}),oi=(g=>(g[g.AddI32=0]="AddI32",g[g.SubI32=1]="SubI32",g[g.MulI32=2]="MulI32",g[g.DivI32=3]="DivI32",g[g.DivU32=4]="DivU32",g[g.RemI32=5]="RemI32",g[g.RemU32=6]="RemU32",g[g.AndI32=7]="AndI32",g[g.OrI32=8]="OrI32",g[g.XorI32=9]="XorI32",g[g.ShlI32=10]="ShlI32",g[g.ShrI32=11]="ShrI32",g[g.ShrU32=12]="ShrU32",g[g.RotlI32=13]="RotlI32",g[g.RotrI32=14]="RotrI32",g[g.EqI32=15]="EqI32",g[g.NeI32=16]="NeI32",g[g.LtI32=17]="LtI32",g[g.LtU32=18]="LtU32",g[g.LeI32=19]="LeI32",g[g.LeU32=20]="LeU32",g[g.GtI32=21]="GtI32",g[g.GtU32=22]="GtU32",g[g.GeI32=23]="GeI32",g[g.GeU32=24]="GeU32",g[g.AddI64=25]="AddI64",g[g.SubI64=26]="SubI64",g[g.MulI64=27]="MulI64",g[g.DivI64=28]="DivI64",g[g.DivU64=29]="DivU64",g[g.RemI64=30]="RemI64",g[g.RemU64=31]="RemU64",g[g.AndI64=32]="AndI64",g[g.OrI64=33]="OrI64",g[g.XorI64=34]="XorI64",g[g.ShlI64=35]="ShlI64",g[g.ShrI64=36]="ShrI64",g[g.ShrU64=37]="ShrU64",g[g.RotlI64=38]="RotlI64",g[g.RotrI64=39]="RotrI64",g[g.EqI64=40]="EqI64",g[g.NeI64=41]="NeI64",g[g.LtI64=42]="LtI64",g[g.LtU64=43]="LtU64",g[g.LeI64=44]="LeI64",g[g.LeU64=45]="LeU64",g[g.GtI64=46]="GtI64",g[g.GtU64=47]="GtU64",g[g.GeI64=48]="GeI64",g[g.GeU64=49]="GeU64",g[g.AddF32=50]="AddF32",g[g.SubF32=51]="SubF32",g[g.MulF32=52]="MulF32",g[g.DivF32=53]="DivF32",g[g.CopysignF32=54]="CopysignF32",g[g.MinF32=55]="MinF32",g[g.MaxF32=56]="MaxF32",g[g.EqF32=57]="EqF32",g[g.NeF32=58]="NeF32",g[g.LtF32=59]="LtF32",g[g.LeF32=60]="LeF32",g[g.GtF32=61]="GtF32",g[g.GeF32=62]="GeF32",g[g.AddF64=63]="AddF64",g[g.SubF64=64]="SubF64",g[g.MulF64=65]="MulF64",g[g.DivF64=66]="DivF64",g[g.CopysignF64=67]="CopysignF64",g[g.MinF64=68]="MinF64",g[g.MaxF64=69]="MaxF64",g[g.EqF64=70]="EqF64",g[g.NeF64=71]="NeF64",g[g.LtF64=72]="LtF64",g[g.LeF64=73]="LeF64",g[g.GtF64=74]="GtF64",g[g.GeF64=75]="GeF64",g[g.EqI8x16=76]="EqI8x16",g[g.NeI8x16=77]="NeI8x16",g[g.LtI8x16=78]="LtI8x16",g[g.LtU8x16=79]="LtU8x16",g[g.GtI8x16=80]="GtI8x16",g[g.GtU8x16=81]="GtU8x16",g[g.LeI8x16=82]="LeI8x16",g[g.LeU8x16=83]="LeU8x16",g[g.GeI8x16=84]="GeI8x16",g[g.GeU8x16=85]="GeU8x16",g[g.EqI16x8=86]="EqI16x8",g[g.NeI16x8=87]="NeI16x8",g[g.LtI16x8=88]="LtI16x8",g[g.LtU16x8=89]="LtU16x8",g[g.GtI16x8=90]="GtI16x8",g[g.GtU16x8=91]="GtU16x8",g[g.LeI16x8=92]="LeI16x8",g[g.LeU16x8=93]="LeU16x8",g[g.GeI16x8=94]="GeI16x8",g[g.GeU16x8=95]="GeU16x8",g[g.EqI32x4=96]="EqI32x4",g[g.NeI32x4=97]="NeI32x4",g[g.LtI32x4=98]="LtI32x4",g[g.LtU32x4=99]="LtU32x4",g[g.GtI32x4=100]="GtI32x4",g[g.GtU32x4=101]="GtU32x4",g[g.LeI32x4=102]="LeI32x4",g[g.LeU32x4=103]="LeU32x4",g[g.GeI32x4=104]="GeI32x4",g[g.GeU32x4=105]="GeU32x4",g[g.EqI64x2=106]="EqI64x2",g[g.NeI64x2=107]="NeI64x2",g[g.LtI64x2=108]="LtI64x2",g[g.GtI64x2=109]="GtI64x2",g[g.LeI64x2=110]="LeI64x2",g[g.GeI64x2=111]="GeI64x2",g[g.EqF32x4=112]="EqF32x4",g[g.NeF32x4=113]="NeF32x4",g[g.LtF32x4=114]="LtF32x4",g[g.GtF32x4=115]="GtF32x4",g[g.LeF32x4=116]="LeF32x4",g[g.GeF32x4=117]="GeF32x4",g[g.EqF64x2=118]="EqF64x2",g[g.NeF64x2=119]="NeF64x2",g[g.LtF64x2=120]="LtF64x2",g[g.GtF64x2=121]="GtF64x2",g[g.LeF64x2=122]="LeF64x2",g[g.GeF64x2=123]="GeF64x2",g[g.AndV128=124]="AndV128",g[g.OrV128=125]="OrV128",g[g.XorV128=126]="XorV128",g[g.AndnotV128=127]="AndnotV128",g[g.AddI8x16=128]="AddI8x16",g[g.AddSatI8x16=129]="AddSatI8x16",g[g.AddSatU8x16=130]="AddSatU8x16",g[g.SubI8x16=131]="SubI8x16",g[g.SubSatI8x16=132]="SubSatI8x16",g[g.SubSatU8x16=133]="SubSatU8x16",g[g.MinI8x16=134]="MinI8x16",g[g.MinU8x16=135]="MinU8x16",g[g.MaxI8x16=136]="MaxI8x16",g[g.MaxU8x16=137]="MaxU8x16",g[g.AvgrU8x16=138]="AvgrU8x16",g[g.AddI16x8=139]="AddI16x8",g[g.AddSatI16x8=140]="AddSatI16x8",g[g.AddSatU16x8=141]="AddSatU16x8",g[g.SubI16x8=142]="SubI16x8",g[g.SubSatI16x8=143]="SubSatI16x8",g[g.SubSatU16x8=144]="SubSatU16x8",g[g.MulI16x8=145]="MulI16x8",g[g.MinI16x8=146]="MinI16x8",g[g.MinU16x8=147]="MinU16x8",g[g.MaxI16x8=148]="MaxI16x8",g[g.MaxU16x8=149]="MaxU16x8",g[g.AvgrU16x8=150]="AvgrU16x8",g[g.Q15mulrSatI16x8=151]="Q15mulrSatI16x8",g[g.ExtmulLowI16x8=152]="ExtmulLowI16x8",g[g.ExtmulHighI16x8=153]="ExtmulHighI16x8",g[g.ExtmulLowU16x8=154]="ExtmulLowU16x8",g[g.ExtmulHighU16x8=155]="ExtmulHighU16x8",g[g.AddI32x4=156]="AddI32x4",g[g.SubI32x4=157]="SubI32x4",g[g.MulI32x4=158]="MulI32x4",g[g.MinI32x4=159]="MinI32x4",g[g.MinU32x4=160]="MinU32x4",g[g.MaxI32x4=161]="MaxI32x4",g[g.MaxU32x4=162]="MaxU32x4",g[g.DotI16x8=163]="DotI16x8",g[g.ExtmulLowI32x4=164]="ExtmulLowI32x4",g[g.ExtmulHighI32x4=165]="ExtmulHighI32x4",g[g.ExtmulLowU32x4=166]="ExtmulLowU32x4",g[g.ExtmulHighU32x4=167]="ExtmulHighU32x4",g[g.AddI64x2=168]="AddI64x2",g[g.SubI64x2=169]="SubI64x2",g[g.MulI64x2=170]="MulI64x2",g[g.ExtmulLowI64x2=171]="ExtmulLowI64x2",g[g.ExtmulHighI64x2=172]="ExtmulHighI64x2",g[g.ExtmulLowU64x2=173]="ExtmulLowU64x2",g[g.ExtmulHighU64x2=174]="ExtmulHighU64x2",g[g.AddF32x4=175]="AddF32x4",g[g.SubF32x4=176]="SubF32x4",g[g.MulF32x4=177]="MulF32x4",g[g.DivF32x4=178]="DivF32x4",g[g.MinF32x4=179]="MinF32x4",g[g.MaxF32x4=180]="MaxF32x4",g[g.PminF32x4=181]="PminF32x4",g[g.PmaxF32x4=182]="PmaxF32x4",g[g.AddF64x2=183]="AddF64x2",g[g.SubF64x2=184]="SubF64x2",g[g.MulF64x2=185]="MulF64x2",g[g.DivF64x2=186]="DivF64x2",g[g.MinF64x2=187]="MinF64x2",g[g.MaxF64x2=188]="MaxF64x2",g[g.PminF64x2=189]="PminF64x2",g[g.PmaxF64x2=190]="PmaxF64x2",g[g.NarrowI16x8ToI8x16=191]="NarrowI16x8ToI8x16",g[g.NarrowU16x8ToU8x16=192]="NarrowU16x8ToU8x16",g[g.NarrowI32x4ToI16x8=193]="NarrowI32x4ToI16x8",g[g.NarrowU32x4ToU16x8=194]="NarrowU32x4ToU16x8",g[g.SwizzleI8x16=195]="SwizzleI8x16",g[g._last=195]="_last",g[g.AddSize=196]="AddSize",g[g.SubSize=197]="SubSize",g[g.MulSize=198]="MulSize",g[g.DivISize=199]="DivISize",g[g.DivUSize=200]="DivUSize",g[g.RemISize=201]="RemISize",g[g.RemUSize=202]="RemUSize",g[g.AndSize=203]="AndSize",g[g.OrSize=204]="OrSize",g[g.XorSize=205]="XorSize",g[g.ShlSize=206]="ShlSize",g[g.ShrISize=207]="ShrISize",g[g.ShrUSize=208]="ShrUSize",g[g.RotlSize=209]="RotlSize",g[g.RotrSize=210]="RotrSize",g[g.EqSize=211]="EqSize",g[g.NeSize=212]="NeSize",g[g.LtISize=213]="LtISize",g[g.LtUSize=214]="LtUSize",g[g.LeISize=215]="LeISize",g[g.LeUSize=216]="LeUSize",g[g.GtISize=217]="GtISize",g[g.GtUSize=218]="GtUSize",g[g.GeISize=219]="GeISize",g[g.GeUSize=220]="GeUSize",g))(oi||{}),Mu=(a=>(a[a.Add=0]="Add",a[a.Sub=1]="Sub",a[a.And=2]="And",a[a.Or=3]="Or",a[a.Xor=4]="Xor",a[a.Xchg=5]="Xchg",a))(Mu||{}),Uu=(l=>(l[l.ExtractLaneI8x16=0]="ExtractLaneI8x16",l[l.ExtractLaneU8x16=1]="ExtractLaneU8x16",l[l.ExtractLaneI16x8=2]="ExtractLaneI16x8",l[l.ExtractLaneU16x8=3]="ExtractLaneU16x8",l[l.ExtractLaneI32x4=4]="ExtractLaneI32x4",l[l.ExtractLaneI64x2=5]="ExtractLaneI64x2",l[l.ExtractLaneF32x4=6]="ExtractLaneF32x4",l[l.ExtractLaneF64x2=7]="ExtractLaneF64x2",l))(Uu||{}),Bu=(a=>(a[a.ReplaceLaneI8x16=0]="ReplaceLaneI8x16",a[a.ReplaceLaneI16x8=1]="ReplaceLaneI16x8",a[a.ReplaceLaneI32x4=2]="ReplaceLaneI32x4",a[a.ReplaceLaneI64x2=3]="ReplaceLaneI64x2",a[a.ReplaceLaneF32x4=4]="ReplaceLaneF32x4",a[a.ReplaceLaneF64x2=5]="ReplaceLaneF64x2",a))(Bu||{}),Du=(f=>(f[f.ShlI8x16=0]="ShlI8x16",f[f.ShrI8x16=1]="ShrI8x16",f[f.ShrU8x16=2]="ShrU8x16",f[f.ShlI16x8=3]="ShlI16x8",f[f.ShrI16x8=4]="ShrI16x8",f[f.ShrU16x8=5]="ShrU16x8",f[f.ShlI32x4=6]="ShlI32x4",f[f.ShrI32x4=7]="ShrI32x4",f[f.ShrU32x4=8]="ShrU32x4",f[f.ShlI64x2=9]="ShlI64x2",f[f.ShrI64x2=10]="ShrI64x2",f[f.ShrU64x2=11]="ShrU64x2",f))(Du||{}),Gu=(f=>(f[f.Load8Splat=0]="Load8Splat",f[f.Load16Splat=1]="Load16Splat",f[f.Load32Splat=2]="Load32Splat",f[f.Load64Splat=3]="Load64Splat",f[f.Load8x8S=4]="Load8x8S",f[f.Load8x8U=5]="Load8x8U",f[f.Load16x4S=6]="Load16x4S",f[f.Load16x4U=7]="Load16x4U",f[f.Load32x2S=8]="Load32x2S",f[f.Load32x2U=9]="Load32x2U",f[f.Load32Zero=10]="Load32Zero",f[f.Load64Zero=11]="Load64Zero",f))(Gu||{}),Vu=(l=>(l[l.Load8Lane=0]="Load8Lane",l[l.Load16Lane=1]="Load16Lane",l[l.Load32Lane=2]="Load32Lane",l[l.Load64Lane=3]="Load64Lane",l[l.Store8Lane=4]="Store8Lane",l[l.Store16Lane=5]="Store16Lane",l[l.Store32Lane=6]="Store32Lane",l[l.Store64Lane=7]="Store64Lane",l))(Vu||{}),zu=(n=>(n[n.Bitselect=0]="Bitselect",n))(zu||{}),lo=(i=>(i[i.RefIsNull=0]="RefIsNull",i[i.RefIsFunc=1]="RefIsFunc",i[i.RefIsData=2]="RefIsData",i[i.RefIsI31=3]="RefIsI31",i))(lo||{}),$c=(i=>(i[i.RefAsNonNull=0]="RefAsNonNull",i[i.RefAsFunc=1]="RefAsFunc",i[i.RefAsData=2]="RefAsData",i[i.RefAsI31=3]="RefAsI31",i))($c||{}),e_=(s=>(s[s.BrOnNull=0]="BrOnNull",s[s.BrOnCast=1]="BrOnCast",s[s.BrOnFunc=2]="BrOnFunc",s[s.BrOnData=3]="BrOnData",s[s.BrOnI31=4]="BrOnI31",s))(e_||{}),uo=(r=>(r[r.Default=0]="Default",r[r.PreserveSideeffects=1]="PreserveSideeffects",r[r.TraverseCalls=2]="TraverseCalls",r))(uo||{}),_i=class{constructor(n,e){this.buffer=n;this.offset=e}},Eo=class{constructor(n,e,r){this.ref=n;this.useShadowStack=e;this.sizeType=r;this.hasTemporaryFunction=!1;this.cachedStringsToPointers=new Map;this.cachedPointersToStrings=new Map;assert(r==F.I32||r==F.I64),this.lit=Ft(Wu())}static create(n,e){return new Eo(n_(),n,e)}static createFrom(n,e,r){var i=jn(n),s=new Eo(ah(i,n.length),e,r);return ne(changetype(i)),s}i32(n){var e=this.lit;return a_(e,n),yi(this.ref,e)}i64(n,e=0){var r=this.lit;return o_(r,n,e),yi(this.ref,r)}usize(n){return i64_is(n)?this.sizeType==F.I64?this.i64(i64_low(n),i64_high(n)):(assert(i64_is_u32(n)),this.i32(i64_low(n))):this.sizeType==F.I64?this.i64(i32(n)):this.i32(i32(n))}f32(n){var e=this.lit;return l_(e,n),yi(this.ref,e)}f64(n){var e=this.lit;return u_(e,n),yi(this.ref,e)}v128(n){assert(n.length==16);var e=this.lit;for(let r=0;r<16;++r)Ne(e+r,n[r]);return p_(e,e),yi(this.ref,e)}ref_null(n){return pf(this.ref,n)}ref_eq(n,e){return hf(this.ref,n,e)}unary(n,e){if(n>124){let r=this.sizeType==F.I64;switch(n){case 125:return this.unary(r?1:0,e);case 126:return this.unary(r?3:2,e);case 127:return this.unary(r?5:4,e);case 128:return this.unary(r?21:20,e)}assert(!1)}return V_(this.ref,n,e)}binary(n,e,r){if(n>195){let i=this.sizeType==F.I64;switch(n){case 196:return this.binary(i?25:0,e,r);case 197:return this.binary(i?26:1,e,r);case 198:return this.binary(i?27:2,e,r);case 199:return this.binary(i?28:3,e,r);case 200:return this.binary(i?29:4,e,r);case 201:return this.binary(i?30:5,e,r);case 202:return this.binary(i?31:6,e,r);case 203:return this.binary(i?32:7,e,r);case 204:return this.binary(i?33:8,e,r);case 205:return this.binary(i?34:9,e,r);case 206:return this.binary(i?35:10,e,r);case 207:return this.binary(i?36:11,e,r);case 208:return this.binary(i?37:12,e,r);case 209:return this.binary(i?38:13,e,r);case 210:return this.binary(i?39:14,e,r);case 211:return this.binary(i?40:15,e,r);case 212:return this.binary(i?41:16,e,r);case 213:return this.binary(i?42:17,e,r);case 214:return this.binary(i?43:18,e,r);case 215:return this.binary(i?44:19,e,r);case 216:return this.binary(i?45:20,e,r);case 217:return this.binary(i?46:21,e,r);case 218:return this.binary(i?47:22,e,r);case 219:return this.binary(i?48:23,e,r);case 220:return this.binary(i?49:24,e,r)}assert(!1)}return W_(this.ref,n,e,r)}memory_size(){return R_(this.ref)}memory_grow(n){return A_(this.ref,n)}table_size(n){var e=this.allocStringCached(n);return Ef(this.ref,e)}table_grow(n,e,r=0){var i=this.allocStringCached(n);return yf(this.ref,i,r,e)}local_get(n,e){return b_(this.ref,n,e)}tostack(n){if(this.useShadowStack){let e=St(n);return assert(e==F.I32||e==F.Unreachable),this.call(h.tostack,[n],e)}return n}local_tee(n,e,r,i=F.Auto){return i==F.Auto&&(i=St(e)),r&&this.useShadowStack&&(e=this.tostack(e)),v_(this.ref,n,e,i)}global_get(n,e){var r=this.allocStringCached(n);return x_(this.ref,r,e)}table_get(n,e,r){var i=this.allocStringCached(n);return mf(this.ref,i,e,r)}load(n,e,r,i,s=0,a=n){return N_(this.ref,n,e,s,a,i,r)}store(n,e,r,i,s=0,a=n){return P_(this.ref,n,s,a,e,r,i)}atomic_load(n,e,r,i=0){return k_(this.ref,n,i,r,e)}atomic_store(n,e,r,i,s=0){return O_(this.ref,n,s,e,r,i)}atomic_rmw(n,e,r,i,s,a){return Q_(this.ref,n,e,r,i,s,a)}atomic_cmpxchg(n,e,r,i,s,a){return Z_(this.ref,n,e,r,i,s,a)}atomic_wait(n,e,r,i){return j_(this.ref,n,e,r,i)}atomic_notify(n,e){return J_(this.ref,n,e)}atomic_fence(){return $_(this.ref)}local_set(n,e,r){return r&&this.useShadowStack&&(e=this.tostack(e)),I_(this.ref,n,e)}global_set(n,e){var r=this.allocStringCached(n);return S_(this.ref,r,e)}table_set(n,e,r){var i=this.allocStringCached(n);return df(this.ref,i,e,r)}block(n,e,r=F.None){var i=this.allocStringCached(n),s=me(e),a=__(this.ref,i,s,e.length,r);return ne(s),a}flatten(n,e=F.None){var r=n.length;if(r==0)return this.nop();if(r==1){let i=n[0];switch(te(i)){case 19:case 50:case 23:return i}let s=oe(i);return s!=F.Unreachable&&s!=e?this.unreachable():i}return this.block(null,n,e)}br(n,e=0,r=0){var i=this.allocStringCached(n);return m_(this.ref,i,e,r)}drop(n){return Yu(this.ref,n)}maybeDrop(n){var e=St(n);return e!=F.None&&e!=F.Unreachable?Yu(this.ref,n):n}maybeDropCondition(n,e){return(fi(n,this.ref)&~(On.ReadsLocal|On.ReadsGlobal))!=0?this.block(null,[this.drop(n),e],oe(e)):e}loop(n,e){var r=this.allocStringCached(n);return h_(this.ref,r,e)}if(n,e,r=0){return f_(this.ref,n,e,r)}nop(){return K_(this.ref)}return(n=0){return X_(this.ref,n)}select(n,e,r,i){return H_(this.ref,r,n,e,i)}switch(n,e,r,i=0){var s=n.length,a=new Array(s);for(let c=0;c<s;++c)a[c]=this.allocStringCached(n[c]);var o=me(a),l=this.allocStringCached(e),p=d_(this.ref,o,s,l,r,i);return ne(o),p}call(n,e,r,i=!1){var s=this.allocStringCached(n),a=me(e),o=i?y_(this.ref,s,a,e?e.length:0,r):E_(this.ref,s,a,e?e.length:0,r);return ne(a),o}return_call(n,e,r){return this.call(n,e,r,!0)}call_indirect(n,e,r,i,s,a=!1){var o=this.allocStringCached(n??"0"),l=me(r),p=a?T_(this.ref,o,e,l,r?r.length:0,i,s):g_(this.ref,o,e,l,r?r.length:0,i,s);return ne(l),p}return_call_indirect(n,e,r,i,s){return this.call_indirect(n,e,r,i,s,!0)}unreachable(){return q_(this.ref)}memory_copy(n,e,r){return lf(this.ref,n,e,r)}memory_fill(n,e,r){return uf(this.ref,n,e,r)}try(n,e,r,i,s=null){var a=r.length,o=new Array(a);for(let d=0;d<a;++d)o[d]=this.allocStringCached(r[d]);var l=me(o),p=me(i),c=this.allocStringCached(n),_=this.allocStringCached(s),f=gf(this.ref,c,e,l,a,p,i.length,_);return ne(p),ne(l),f}throw(n,e){var r=this.allocStringCached(n),i=me(e),s=Tf(this.ref,r,i,e.length);return ne(i),s}rethrow(n){var e=this.allocStringCached(n);return bf(this.ref,e)}pop(n){return xf(this.ref,n)}tuple_make(n){var e=me(n),r=If(this.ref,e,n.length);return ne(e),r}tuple_extract(n,e){return vf(this.ref,n,e)}simd_extract(n,e,r){return ef(this.ref,n,e,r)}simd_replace(n,e,r,i){return tf(this.ref,n,e,r,i)}simd_shuffle(n,e,r){assert(r.length==16);var i=jn(r),s=rf(this.ref,n,e,i);return ne(i),s}simd_ternary(n,e,r,i){return nf(this.ref,n,e,r,i)}simd_shift(n,e,r){return sf(this.ref,n,e,r)}simd_load(n,e,r,i){return af(this.ref,n,r,i,e)}simd_loadstorelane(n,e,r,i,s,a){return of(this.ref,n,r,i,s,e,a)}ref_is(n,e){return cf(this.ref,n,e)}ref_as(n,e){return _f(this.ref,n,e)}ref_func(n,e){var r=this.allocStringCached(n);return ff(this.ref,r,e)}i31_new(n){return Sf(this.ref,n)}i31_get(n,e){return Rf(this.ref,n,e)}addGlobal(n,e,r,i){var s=this.allocStringCached(n);return Bf(this.ref,s,e,r,i)}getGlobal(n){var e=this.allocStringCached(n);return Df(this.ref,e)}removeGlobal(n){var e=this.allocStringCached(n);Gf(this.ref,e)}addTag(n,e,r){var i=this.allocStringCached(n);return Yf(this.ref,i,e,r)}getTag(n){var e=this.allocStringCached(n);return Hf(this.ref,e)}removeTag(n){var e=this.allocStringCached(n);Xf(this.ref,e)}addFunction(n,e,r,i,s){var a=this.allocStringCached(n),o=me(i),l=pi(this.ref,a,e,r,o,i?i.length:0,s);return ne(o),l}getFunction(n){var e=this.allocStringCached(n);return ci(this.ref,e)}removeFunction(n){var e=this.allocStringCached(n);Cn(this.ref,e)}hasFunction(n){var e=this.allocStringCached(n);return ci(this.ref,e)!=0}addTemporaryFunction(n,e,r){this.hasTemporaryFunction=assert(!this.hasTemporaryFunction);var i=this.allocStringCached(""),s=me(e),a=pi(this.ref,i,Be(e),n,0,0,r);return ne(s),a}removeTemporaryFunction(){this.hasTemporaryFunction=!assert(this.hasTemporaryFunction);var n=this.allocStringCached("");Cn(this.ref,n)}setStart(n){rh(this.ref,n)}addFunctionExport(n,e){var r=this.allocStringCached(n),i=this.allocStringCached(e);return io(this.ref,r,i)}addTableExport(n,e){var r=this.allocStringCached(n),i=this.allocStringCached(e);return Of(this.ref,r,i)}addMemoryExport(n,e){var r=this.allocStringCached(n),i=this.allocStringCached(e);return wf(this.ref,r,i)}addGlobalExport(n,e){var r=this.allocStringCached(n),i=this.allocStringCached(e);return Mf(this.ref,r,i)}addTagExport(n,e){var r=this.allocStringCached(n),i=this.allocStringCached(e);return Uf(this.ref,r,i)}removeExport(n){var e=this.allocStringCached(n);so(this.ref,e)}hasExport(n){var e=this.allocStringCached(n);return no(this.ref,e)!=0}addFunctionImport(n,e,r,i,s){var a=this.allocStringCached(n),o=this.allocStringCached(e),l=this.allocStringCached(r);Lf(this.ref,a,o,l,i,s)}addTableImport(n,e,r){var i=this.allocStringCached(n),s=this.allocStringCached(e),a=this.allocStringCached(r);Cf(this.ref,i,s,a)}addMemoryImport(n,e,r,i=!1){var s=this.allocStringCached(n),a=this.allocStringCached(e),o=this.allocStringCached(r);Ff(this.ref,s,a,o,i)}addGlobalImport(n,e,r,i,s=!1){var a=this.allocStringCached(n),o=this.allocStringCached(e),l=this.allocStringCached(r);kf(this.ref,a,o,l,i,s)}addTagImport(n,e,r,i,s){var a=this.allocStringCached(n),o=this.allocStringCached(e),l=this.allocStringCached(r);Pf(this.ref,a,o,l,i,s)}setMemory(n,e,r,i,s=null,a=!1){var o=this.allocStringCached(s),l=r.length,p=new Array(l),c=new Uint8Array(l),_=new Array(l),f=new Array(l);for(let I=0;I<l;++I){let S=r[I],R=S.buffer,A=S.offset;p[I]=jn(R),c[I]=0,_[I]=i==2?this.i64(i64_low(A),i64_high(A)):this.i32(i64_low(A)),f[I]=R.length}var d=me(p),y=jn(c),T=me(_),v=X2(f);th(this.ref,n,e,o,d,y,T,v,l,a),ne(v),ne(T),ne(y),ne(d);for(let I=l-1;I>=0;--I)ne(p[I])}addFunctionTable(n,e,r,i,s){var a=this.allocStringCached(n),o=i.length,l=new Array(o);for(let _=0;_<o;++_)l[_]=this.allocStringCached(i[_]);var p=me(l),c=jf(this.ref,a);c?(Jf(c,e),$f(c,r)):c=Zf(this.ref,a,e,r,F.Funcref),eh(this.ref,a,a,p,o,s),ne(p)}addCustomSection(n,e){var r=this.allocStringCached(n),i=jn(e);_h(this.ref,r,i,e.length),ne(i)}getOptimizeLevel(){return Ih()}setOptimizeLevel(n){vh(n)}getShrinkLevel(){return xh()}setShrinkLevel(n){Sh(n)}getDebugInfo(){return Rh()}setDebugInfo(n){Ah(n)}getLowMemoryUnused(){return Nh()}setLowMemoryUnused(n){Lh(n)}getZeroFilledMemory(){return Ch()}setZeroFilledMemory(n){Fh(n)}getFastMath(){return kh()}setFastMath(n){Ph(n)}getPassArgument(n){var e=this.allocStringCached(n),r=Oh(e);return r?He(r):null}setPassArgument(n,e){var r=this.allocStringCached(n),i=this.allocStringCached(e);wh(r,i)}clearPassArguments(){Mh()}getAlwaysInlineMaxSize(){return Uh()}setAlwaysInlineMaxSize(n){Bh(n)}getFlexibleInlineMaxSize(){return Dh()}setFlexibleInlineMaxSize(n){Gh(n)}getOneCallerInlineMaxSize(){return Vh()}setOneCallerInlineMaxSize(n){zh(n)}getAllowInliningFunctionsWithLoops(){return Wh()}setAllowInliningFunctionsWithLoops(n){Yh(n)}getFeatures(){return ph(this.ref)}setFeatures(n){ch(this.ref,n)}runPasses(n,e=0){var r=n.length,i=new Array(r);for(let a=0;a<r;++a)i[a]=ho(n[a]);var s=me(i);e?Af(e,this.ref,s,r):nh(this.ref,s,r),ne(s);for(let a=r-1;a>=0;--a)ne(i[a])}optimize(n,e,r=!1,i=!1){if((n>=3||e>=2)&&(n=4),this.setOptimizeLevel(n),this.setShrinkLevel(e),this.setDebugInfo(r),this.setZeroFilledMemory(i),this.setFastMath(!0),this.clearPassArguments(),n>=2&&e==0?(this.setAlwaysInlineMaxSize(12),this.setFlexibleInlineMaxSize(70),this.setOneCallerInlineMaxSize(200),this.setAllowInliningFunctionsWithLoops(n>=3)):(this.setAlwaysInlineMaxSize(n<=1||e>=2?2:6),this.setFlexibleInlineMaxSize(65),this.setOneCallerInlineMaxSize(80),this.setAllowInliningFunctionsWithLoops(!1)),n>0||e>0){let s=new Array;s.push("duplicate-function-elimination"),s.push("remove-unused-module-elements"),n>=2&&(s.push("once-reduction"),s.push("inlining"),s.push("simplify-globals-optimizing")),(n>=3||e>=1)&&(s.push("rse"),s.push("vacuum"),s.push("code-folding"),s.push("ssa-nomerge"),s.push("local-cse"),s.push("remove-unused-brs"),s.push("remove-unused-names"),s.push("merge-blocks"),s.push("precompute-propagate"),s.push("simplify-globals-optimizing")),n>=3&&(s.push("simplify-locals-nostructure"),s.push("flatten"),s.push("vacuum"),s.push("simplify-locals-notee-nostructure"),s.push("vacuum"),s.push("licm"),s.push("merge-locals"),s.push("reorder-locals"),s.push("dae-optimizing")),s.push("optimize-instructions"),(n>=3||e>=1)&&s.push("dce"),s.push("remove-unused-brs"),s.push("remove-unused-names"),n>=3||e>=2?(s.push("inlining"),s.push("precompute-propagate"),s.push("simplify-globals-optimizing")):s.push("precompute"),(n>=2||e>=1)&&s.push("pick-load-signs"),s.push("simplify-locals-notee-nostructure"),s.push("vacuum"),(n>=2||e>=1)&&s.push("local-cse"),s.push("reorder-locals"),s.push("coalesce-locals"),s.push("simplify-locals"),s.push("coalesce-locals"),s.push("reorder-locals"),s.push("vacuum"),(n>=2||e>=1)&&(s.push("rse"),s.push("vacuum")),(n>=3||e>=1)&&(s.push("merge-locals"),s.push("vacuum")),(n>=2||e>=1)&&(s.push("simplify-globals-optimizing"),s.push("simplify-globals-optimizing")),s.push("remove-unused-brs"),s.push("remove-unused-names"),s.push("merge-blocks"),n>=3&&s.push("optimize-instructions"),(n>=2||e>=1)&&(s.push("simplify-globals-optimizing"),s.push("dae-optimizing")),(n>=2||e>=2)&&s.push("inlining-optimizing"),this.getLowMemoryUnused()&&(n>=3||e>=1?s.push("optimize-added-constants-propagate"):s.push("optimize-added-constants")),s.push("duplicate-import-elimination"),n>=2||e>=2?s.push("simplify-globals-optimizing"):(s.push("simplify-globals"),s.push("vacuum")),n>=2&&(this.getFeatures()&1024)!=0&&(s.push("heap2local"),s.push("merge-locals"),s.push("local-subtyping")),n>=2||e>=1?(s.push("precompute-propagate"),s.push("simplify-globals-optimizing"),s.push("simplify-globals-optimizing")):s.push("precompute"),s.push("directize"),s.push("dae-optimizing"),s.push("inlining-optimizing"),(n>=2||e>=1)&&(s.push("code-folding"),s.push("ssa-nomerge"),s.push("rse"),s.push("code-pushing"),n>=3&&(s.push("simplify-globals"),s.push("vacuum"),s.push("precompute-propagate"),s.push("inlining-optimizing"),s.push("directize"),s.push("dae-optimizing"),s.push("local-cse"),s.push("merge-locals"),s.push("coalesce-locals"),s.push("simplify-locals"),s.push("vacuum"),s.push("inlining"),s.push("precompute-propagate"),s.push("rse"),s.push("vacuum"),s.push("ssa-nomerge"),s.push("simplify-locals"),s.push("coalesce-locals")),s.push("remove-unused-brs"),s.push("remove-unused-names"),s.push("merge-blocks"),s.push("vacuum"),s.push("optimize-instructions"),s.push("simplify-globals-optimizing")),s.push("duplicate-function-elimination"),s.push("memory-packing"),s.push("remove-unused-module-elements"),this.runPasses(s)}}validate(){return ih(this.ref)==1}interpret(){oh(this.ref)}toBinary(n=null){var e=this.lit;assert(Wu()>=12);var r=ho(n),i=0,s=0;sh(e,this.ref,r),i=assert(Jn(e));var a=Jn(e+4);s=Jn(e+8);var o=new mo(q2(i,a),He(s));return r&&ne(r),ne(i),s&&ne(s),o}toText(n=!0){throw new Error("not implemented")}allocStringCached(n){if(n==null)return 0;var e=this.cachedStringsToPointers;if(e.has(n))return changetype(e.get(n));var r=ho(n);return e.set(n,r),r}readStringCached(n){if(n==0)return null;var e=this.cachedPointersToStrings;if(e.has(n))return changetype(e.get(n));var r=He(n);return e.set(n,r),r}dispose(){assert(this.ref);for(let n=Map_values(this.cachedStringsToPointers),e=0,r=n.length;e<r;++e){let i=unchecked(n[e]);ne(i)}this.cachedStringsToPointers.clear(),this.cachedPointersToStrings.clear(),ne(this.lit),s_(this.ref),this.ref=0}createRelooper(){return gi.create(this)}tryCopyTrivialExpression(n){switch(ot(n)){case 8:case 10:case 14:case 20:case 22:case 23:case 37:case 41:case 60:return this.copyExpression(n)}return 0}copyExpression(n){return c_(n,this.ref)}runExpression(n,e,r=50,i=1){var s=Th(this.ref,e,r,i),a=bh(s,n);if(a){if(!this.isConstExpression(a))return 0;assert(oe(a)==oe(n))}return a}isConstExpression(n,e=0){switch(te(n)){case 14:case 41:case 43:case 54:return!0;case 16:{if(this.getFeatures()&32768)switch(ai(n)){case 0:case 1:case 2:case 25:case 26:case 27:return this.isConstExpression(Ve(n))&&this.isConstExpression(Re(n))}break}}return!1}addDebugInfoFile(n){var e=ho(n),r=lh(this.ref,e);return ne(e),r}getDebugInfoFile(n){return He(uh(this.ref,n))}setDebugLocation(n,e,r,i,s){Nf(n,e,r,i,s)}},tt=Eo;tt.UNLIMITED_MEMORY=-1,tt.UNLIMITED_TABLE=-1;function Be(t){if(!t)return F.None;switch(t.length){case 0:return F.None;case 1:return t[0]}var n=me(t),e=t_(n,t.length);return ne(n),e}function eu(t){var n=r_(t),e=Ft(n<<2);i_(t,e);var r=new Array(n);for(let i=0;i<n;++i)r[i]=Jn(e+(i<<2));return ne(e),r}function te(t){return ot(t)}function oe(t){return St(t)}function ie(t){return w_(t)}function ze(t){return M_(t)}function rt(t){return U_(t)}function Ke(t){return B_(t)}function qe(t){return D_(t)}function nu(t){let n=Ft(16);G_(t,n);let e=new Uint8Array(16);for(let r=0;r<16;++r)e[r]=Or(n+r);return ne(n),e}function be(t){if(te(t)!=14)return!1;var n=oe(t);return n==F.I32?ie(t)==0:n==F.I64?(ze(t)|rt(t))==0:n==F.F32?Ke(t)==0:n==F.F64?qe(t)==0:!1}function et(t){if(te(t)!=14)return!1;var n=oe(t);return n==F.I32?ie(t)!=0:n==F.I64?(ze(t)|rt(t))!=0:n==F.F32?Ke(t)!=0:n==F.F64?qe(t)!=0:!1}function pt(t){return ni(t)}function Ba(t){return zt(t)}function mr(t){return _r(t)}function cn(t){return eo(t)}function dn(t){return He(ka(t))}function ai(t){return Y_(t)}function Ve(t){return sn(t)}function Re(t){return an(t)}function _n(t){return z_(t)}function Da(t){return nn(t)}function zl(t){return F_(t)}function T2(t){return C_(t)}function b2(t){return tn(t)}function Wl(t){return L_(t)}function I2(t){return ja(t)}function v2(t){return Ja(t)}function x2(t){return fr(t)}function S2(t){return rn(t)}function En(t){return He(Ki(t))}function yn(t){return ei(t)}function gn(t,n){return ti(t,n)}function Ga(t){return qi(t)}function fn(t){return Qi(t)}function si(t){return Zi(t)}function R2(t){return He(Aa(t))}function A2(t){return ji(t)}function N2(t){return He(Na(t))}function L2(t){return ri(t)}function Yl(t){return on(t)}function Hl(t){return ln(t)}function C2(t){return un(t)}function F2(t){return pn(t)}function k2(t){return hr(t)}function hn(t){return He(ii(t))}function ut(t){return Gt(t)}function ke(t,n){return Vt(t,n)}function P2(t){return en(t)}function O2(t){return Dt(t)}function w2(t){return He(ui(t))}function M2(t){return Nn(t)}function U2(t){return Ln(t)}function B2(t){var n=to(t),e=new Array(n);for(let r=0;r<n;++r)e[r]=ro(t,r);return e}function D2(t){return He(Vf(t))}function G2(t){return zf(t)}function su(t){return Wf(t)}function V2(t){return Ma(t)}function z2(t){return He(Kf(t))}function W2(t){return qf(t)}function Y2(t){return Qf(t)}var gi=class{constructor(n,e){this.module=n;this.ref=e}static create(n){return new gi(n,hh(n.ref))}addBlock(n){return mh(this.ref,n)}addBranch(n,e,r=0,i=0){dh(n,e,r,i)}addBlockWithSwitch(n,e){return Eh(this.ref,n,e)}addBranchForSwitch(n,e,r,i=0){var s=H2(r);yh(n,e,s,r.length,i),ne(s)}renderAndDispose(n,e){return gh(this.ref,n,e)}},Pn=class{constructor(n,e){this.values=new Array;this.indexes=new Array;this.cases=new Array;this.defaultIndex=-1;this.module=n,this.condition=e}addCase(n,e){var r=this.cases,i=r.indexOf(e);i<0&&(i=r.length,r.push(e)),this.values.push(n),this.indexes.push(i)}addDefault(n){assert(this.defaultIndex==-1);var e=this.cases;this.defaultIndex=e.length,e.push(n)}render(n,e=""){var r=this.module,i=this.cases,s=i.length;if(!s)return r.drop(this.condition);var a=this.values,o=a.length,l=this.indexes,p=new Array(1+o+1),c=new Array(s);for(let T=0;T<s;++T)c[T]="case"+T.toString()+e;p[0]=r.local_set(n,this.condition,!1);for(let T=0;T<o;++T){let v=l[T];p[1+T]=r.br(c[v],r.binary(15,r.local_get(n,F.I32),r.i32(a[T])))}var _=this.defaultIndex,f="default"+e;p[1+o]=r.br(~_?c[_]:f);var d=r.block(c[0],p);for(let T=1;T<s;++T){let v=i[T-1];v.unshift(d),d=r.block(c[T],v)}var y=i[s-1];return y.unshift(d),r.block(~_?null:f,y)}},On=(I=>(I[I.None=0]="None",I[I.Branches=1]="Branches",I[I.Calls=2]="Calls",I[I.ReadsLocal=4]="ReadsLocal",I[I.WritesLocal=8]="WritesLocal",I[I.ReadsGlobal=16]="ReadsGlobal",I[I.WritesGlobal=32]="WritesGlobal",I[I.ReadsMemory=64]="ReadsMemory",I[I.WritesMemory=128]="WritesMemory",I[I.ReadsTable=256]="ReadsTable",I[I.WritesTable=512]="WritesTable",I[I.ImplicitTrap=1024]="ImplicitTrap",I[I.IsAtomic=2048]="IsAtomic",I[I.Throws=4096]="Throws",I[I.DanglingPop=8192]="DanglingPop",I[I.TrapsNeverHappen=16384]="TrapsNeverHappen",I[I.Any=32767]="Any",I))(On||{});function fi(t,n){return fh(t,n)}function fo(t,n){return(fi(t,n)&-21)!=0}function jn(t){if(!t)return 0;var n=t.length,e=Ft(n);for(let r=0;r<n;++r)Ne(e+r,t[r]);return e}function H2(t){if(!t)return 0;var n=t.length,e=Ft(n<<2),r=e;for(let i=0;i<n;++i){let s=t[i];yo(r,s),r+=4}return e}function X2(t){if(!t)return 0;var n=t.length,e=Ft(n<<2),r=e;for(let i=0;i<n;++i){let s=t[i];yo(r,s),r+=4}return e}function me(t){if(!t)return 0;assert(ASC_TARGET!=2);var n=t.length,e=Ft(n<<2),r=e;for(let i=0,s=n;i<s;++i){let a=t[i];yo(r,a),r+=4}return e}function K2(t){var n=0;for(let e=0,r=t.length;e<r;++e){let i=t.charCodeAt(e)>>>0;i<=127?n+=1:i<=2047?n+=2:Dr(i)&&e+1<r&&Gr(t.charCodeAt(e+1))?(e++,n+=4):n+=3}return n}function ho(t){if(t==null)return 0;var n=K2(t),e=Ft(n+1)>>>0,r=e;if(n==t.length)for(let i=0,s=t.length;i<s;++i){let a=t.charCodeAt(i)>>>0;Ne(r++,a)}else for(let i=0,s=t.length;i<s;++i){let a=t.charCodeAt(i)>>>0,o;a<=127?Ne(r++,a):a<=2047?(Ne(r++,192|a>>>6),Ne(r++,128|a&63)):Dr(a)&&i+1<s&&Gr(o=t.charCodeAt(i+1))?(a=Ao(a,o),++i,Ne(r++,240|a>>>18),Ne(r++,128|a>>>12&63),Ne(r++,128|a>>>6&63),Ne(r++,128|a&63)):(Ne(r++,224|a>>>12),Ne(r++,128|a>>>6&63),Ne(r++,128|a&63))}return Ne(r,0),e}function q2(t,n){var e=new Uint8Array(n);for(let r=0;r<n;++r)e[r]=Or(t+r);return e}function He(t){if(!t)return null;for(var n=new Array,e,r,i,s;e=Or(t++);){if(!(e&128)){n.push(e);continue}if(r=Or(t++)&63,(e&224)==192){n.push((e&31)<<6|r);continue}if(i=Or(t++)&63,(e&240)==224?e=(e&15)<<12|r<<6|i:(s=Or(t++)&63,(e&248)==240?e=(e&7)<<18|r<<12|i<<6|s:assert(!1,"Invalid UTF8 sequence during readString")),e<65536)n.push(e);else{let a=e-65536;n.push(Ai|a>>>10),n.push(Br|a&1023)}}return String.fromCharCodes(n)}var mo=class{constructor(n,e){this.output=n;this.sourceMap=e}};function po(t){if(St(t)!=F.Unreachable)return!1;switch(ot(t)){case 23:case 19:return!1;case 4:return ri(t)!=0;case 1:if(!Ki(t)){let n=ei(t);return n>0&&po(ti(t,n-1))}}return!0}tt.prototype.toText=function(n=!0){return n?Ri.wrapModule(this.ref).emitStackIR(!0):Ri.wrapModule(this.ref).emitText()};var{_BinaryenTypeCreate:t_,_BinaryenTypeArity:r_,_BinaryenTypeExpand:i_,_BinaryenModuleCreate:n_,_BinaryenModuleDispose:s_,_BinaryenSizeofLiteral:Wu,_BinaryenLiteralInt32:a_,_BinaryenLiteralInt64:o_,_BinaryenLiteralFloat32:l_,_BinaryenLiteralFloat64:u_,_BinaryenLiteralVec128:p_,_BinaryenLiteralFloat32Bits:NO,_BinaryenLiteralFloat64Bits:LO,_BinaryenExpressionGetId:ot,_BinaryenExpressionGetType:St,_BinaryenExpressionSetType:CO,_BinaryenExpressionPrint:FO,_BinaryenExpressionCopy:c_,_BinaryenExpressionFinalize:op,_BinaryenBlock:__,_BinaryenBlockGetName:Ki,_BinaryenBlockSetName:kO,_BinaryenBlockGetNumChildren:ei,_BinaryenBlockGetChildAt:ti,_BinaryenBlockSetChildAt:lp,_BinaryenBlockAppendChild:PO,_BinaryenBlockInsertChildAt:OO,_BinaryenBlockRemoveChildAt:wO,_BinaryenIf:f_,_BinaryenIfGetCondition:qi,_BinaryenIfSetCondition:up,_BinaryenIfGetIfTrue:Qi,_BinaryenIfSetIfTrue:pp,_BinaryenIfGetIfFalse:Zi,_BinaryenIfSetIfFalse:cp,_BinaryenLoop:h_,_BinaryenLoopGetName:Aa,_BinaryenLoopSetName:MO,_BinaryenLoopGetBody:ji,_BinaryenLoopSetBody:_p,_BinaryenBreak:m_,_BinaryenBreakGetName:Na,_BinaryenBreakSetName:UO,_BinaryenBreakGetCondition:ri,_BinaryenBreakSetCondition:fp,_BinaryenBreakGetValue:Wo,_BinaryenBreakSetValue:hp,_BinaryenSwitch:d_,_BinaryenSwitchGetNumNames:mp,_BinaryenSwitchGetNameAt:dp,_BinaryenSwitchSetNameAt:BO,_BinaryenSwitchAppendName:DO,_BinaryenSwitchInsertNameAt:GO,_BinaryenSwitchRemoveNameAt:VO,_BinaryenSwitchGetDefaultName:Ep,_BinaryenSwitchSetDefaultName:zO,_BinaryenSwitchGetCondition:Yo,_BinaryenSwitchSetCondition:yp,_BinaryenSwitchGetValue:Ho,_BinaryenSwitchSetValue:gp,_BinaryenCall:E_,_BinaryenCallGetTarget:ii,_BinaryenCallSetTarget:WO,_BinaryenCallGetNumOperands:Gt,_BinaryenCallGetOperandAt:Vt,_BinaryenCallSetOperandAt:La,_BinaryenCallAppendOperand:YO,_BinaryenCallInsertOperandAt:HO,_BinaryenCallRemoveOperandAt:XO,_BinaryenCallIsReturn:KO,_BinaryenCallSetReturn:qO,_BinaryenReturnCall:y_,_BinaryenCallIndirect:g_,_BinaryenCallIndirectGetTable:QO,_BinaryenCallIndirectSetTable:ZO,_BinaryenCallIndirectGetTarget:Xo,_BinaryenCallIndirectSetTarget:Tp,_BinaryenCallIndirectGetNumOperands:Ji,_BinaryenCallIndirectGetOperandAt:$i,_BinaryenCallIndirectSetOperandAt:Ca,_BinaryenCallIndirectAppendOperand:jO,_BinaryenCallIndirectInsertOperandAt:JO,_BinaryenCallIndirectRemoveOperandAt:$O,_BinaryenCallIndirectIsReturn:ew,_BinaryenCallIndirectSetReturn:tw,_BinaryenReturnCallIndirect:T_,_BinaryenLocalGet:b_,_BinaryenLocalGetGetIndex:ni,_BinaryenLocalGetSetIndex:rw,_BinaryenLocalSet:I_,_BinaryenLocalSetIsTee:eo,_BinaryenLocalSetGetIndex:zt,_BinaryenLocalSetSetIndex:iw,_BinaryenLocalSetGetValue:_r,_BinaryenLocalSetSetValue:Fa,_BinaryenLocalTee:v_,_BinaryenGlobalGet:x_,_BinaryenGlobalGetGetName:ka,_BinaryenGlobalGetSetName:nw,_BinaryenGlobalSet:S_,_BinaryenGlobalSetGetName:bp,_BinaryenGlobalSetSetName:sw,_BinaryenGlobalSetGetValue:Ko,_BinaryenGlobalSetSetValue:Ip,_BinaryenMemorySize:R_,_BinaryenMemoryGrow:A_,_BinaryenMemoryGrowGetDelta:en,_BinaryenMemoryGrowSetDelta:vp,_BinaryenLoad:N_,_BinaryenLoadIsAtomic:aw,_BinaryenLoadSetAtomic:ow,_BinaryenLoadIsSigned:L_,_BinaryenLoadSetSigned:lw,_BinaryenLoadGetOffset:C_,_BinaryenLoadSetOffset:uw,_BinaryenLoadGetBytes:F_,_BinaryenLoadSetBytes:pw,_BinaryenLoadGetAlign:cw,_BinaryenLoadSetAlign:_w,_BinaryenLoadGetPtr:tn,_BinaryenLoadSetPtr:xp,_BinaryenAtomicLoad:k_,_BinaryenStore:P_,_BinaryenStoreIsAtomic:fw,_BinaryenStoreSetAtomic:hw,_BinaryenStoreGetBytes:ja,_BinaryenStoreSetBytes:mw,_BinaryenStoreGetOffset:Ja,_BinaryenStoreSetOffset:dw,_BinaryenStoreGetAlign:Ew,_BinaryenStoreSetAlign:yw,_BinaryenStoreGetPtr:fr,_BinaryenStoreSetPtr:Pa,_BinaryenStoreGetValue:rn,_BinaryenStoreSetValue:Sp,_BinaryenStoreGetValueType:gw,_BinaryenStoreSetValueType:Tw,_BinaryenAtomicStore:O_,_BinaryenConst:yi,_BinaryenConstGetValueI32:w_,_BinaryenConstSetValueI32:bw,_BinaryenConstGetValueI64Low:M_,_BinaryenConstSetValueI64Low:Iw,_BinaryenConstGetValueI64High:U_,_BinaryenConstSetValueI64High:vw,_BinaryenConstGetValueF32:B_,_BinaryenConstSetValueF32:xw,_BinaryenConstGetValueF64:D_,_BinaryenConstSetValueF64:Sw,_BinaryenConstGetValueV128:G_,_BinaryenConstSetValueV128:Rw,_BinaryenUnary:V_,_BinaryenUnaryGetOp:z_,_BinaryenUnarySetOp:Aw,_BinaryenUnaryGetValue:nn,_BinaryenUnarySetValue:Rp,_BinaryenBinary:W_,_BinaryenBinaryGetOp:Y_,_BinaryenBinarySetOp:Nw,_BinaryenBinaryGetLeft:sn,_BinaryenBinarySetLeft:Ap,_BinaryenBinaryGetRight:an,_BinaryenBinarySetRight:Np,_BinaryenSelect:H_,_BinaryenSelectGetIfTrue:on,_BinaryenSelectSetIfTrue:Lp,_BinaryenSelectGetIfFalse:ln,_BinaryenSelectSetIfFalse:Cp,_BinaryenSelectGetCondition:un,_BinaryenSelectSetCondition:Fp,_BinaryenDrop:Yu,_BinaryenDropGetValue:pn,_BinaryenDropSetValue:kp,_BinaryenReturn:X_,_BinaryenReturnGetValue:hr,_BinaryenReturnSetValue:Oa,_BinaryenNop:K_,_BinaryenUnreachable:q_,_BinaryenAtomicRMW:Q_,_BinaryenAtomicRMWGetOp:Lw,_BinaryenAtomicRMWSetOp:Cw,_BinaryenAtomicRMWGetBytes:Fw,_BinaryenAtomicRMWSetBytes:kw,_BinaryenAtomicRMWGetOffset:Pw,_BinaryenAtomicRMWSetOffset:Ow,_BinaryenAtomicRMWGetPtr:qo,_BinaryenAtomicRMWSetPtr:Pp,_BinaryenAtomicRMWGetValue:Qo,_BinaryenAtomicRMWSetValue:Op,_BinaryenAtomicCmpxchg:Z_,_BinaryenAtomicCmpxchgGetBytes:ww,_BinaryenAtomicCmpxchgSetBytes:Mw,_BinaryenAtomicCmpxchgGetOffset:Uw,_BinaryenAtomicCmpxchgSetOffset:Bw,_BinaryenAtomicCmpxchgGetPtr:Zo,_BinaryenAtomicCmpxchgSetPtr:wp,_BinaryenAtomicCmpxchgGetExpected:jo,_BinaryenAtomicCmpxchgSetExpected:Mp,_BinaryenAtomicCmpxchgGetReplacement:Jo,_BinaryenAtomicCmpxchgSetReplacement:Up,_BinaryenAtomicWait:j_,_BinaryenAtomicWaitGetPtr:$o,_BinaryenAtomicWaitSetPtr:Bp,_BinaryenAtomicWaitGetExpected:el,_BinaryenAtomicWaitSetExpected:Dp,_BinaryenAtomicWaitGetTimeout:tl,_BinaryenAtomicWaitSetTimeout:Gp,_BinaryenAtomicWaitGetExpectedType:Dw,_BinaryenAtomicWaitSetExpectedType:Gw,_BinaryenAtomicNotify:J_,_BinaryenAtomicNotifyGetPtr:rl,_BinaryenAtomicNotifySetPtr:Vp,_BinaryenAtomicNotifyGetNotifyCount:il,_BinaryenAtomicNotifySetNotifyCount:zp,_BinaryenAtomicFence:$_,_BinaryenAtomicFenceGetOrder:Vw,_BinaryenAtomicFenceSetOrder:zw,_BinaryenSIMDExtract:ef,_BinaryenSIMDExtractGetOp:Ww,_BinaryenSIMDExtractSetOp:Yw,_BinaryenSIMDExtractGetVec:nl,_BinaryenSIMDExtractSetVec:Wp,_BinaryenSIMDExtractGetIndex:Hw,_BinaryenSIMDExtractSetIndex:Xw,_BinaryenSIMDReplace:tf,_BinaryenSIMDReplaceGetOp:Kw,_BinaryenSIMDReplaceSetOp:qw,_BinaryenSIMDReplaceGetVec:sl,_BinaryenSIMDReplaceSetVec:Yp,_BinaryenSIMDReplaceGetIndex:Qw,_BinaryenSIMDReplaceSetIndex:Zw,_BinaryenSIMDReplaceGetValue:al,_BinaryenSIMDReplaceSetValue:Hp,_BinaryenSIMDShuffle:rf,_BinaryenSIMDShuffleGetLeft:ol,_BinaryenSIMDShuffleSetLeft:Xp,_BinaryenSIMDShuffleGetRight:ll,_BinaryenSIMDShuffleSetRight:Kp,_BinaryenSIMDShuffleGetMask:jw,_BinaryenSIMDShuffleSetMask:Jw,_BinaryenSIMDTernary:nf,_BinaryenSIMDTernaryGetOp:$w,_BinaryenSIMDTernarySetOp:eM,_BinaryenSIMDTernaryGetA:ul,_BinaryenSIMDTernarySetA:qp,_BinaryenSIMDTernaryGetB:pl,_BinaryenSIMDTernarySetB:Qp,_BinaryenSIMDTernaryGetC:cl,_BinaryenSIMDTernarySetC:Zp,_BinaryenSIMDShift:sf,_BinaryenSIMDShiftGetOp:tM,_BinaryenSIMDShiftSetOp:rM,_BinaryenSIMDShiftGetVec:_l,_BinaryenSIMDShiftSetVec:jp,_BinaryenSIMDShiftGetShift:fl,_BinaryenSIMDShiftSetShift:Jp,_BinaryenSIMDLoad:af,_BinaryenSIMDLoadGetOp:iM,_BinaryenSIMDLoadSetOp:nM,_BinaryenSIMDLoadGetOffset:sM,_BinaryenSIMDLoadSetOffset:aM,_BinaryenSIMDLoadGetAlign:oM,_BinaryenSIMDLoadSetAlign:lM,_BinaryenSIMDLoadGetPtr:hl,_BinaryenSIMDLoadSetPtr:$p,_BinaryenSIMDLoadStoreLane:of,_BinaryenSIMDLoadStoreLaneGetOp:uM,_BinaryenSIMDLoadStoreLaneSetOp:pM,_BinaryenSIMDLoadStoreLaneGetOffset:cM,_BinaryenSIMDLoadStoreLaneSetOffset:_M,_BinaryenSIMDLoadStoreLaneGetAlign:fM,_BinaryenSIMDLoadStoreLaneSetAlign:hM,_BinaryenSIMDLoadStoreLaneGetIndex:mM,_BinaryenSIMDLoadStoreLaneSetIndex:dM,_BinaryenSIMDLoadStoreLaneGetPtr:ml,_BinaryenSIMDLoadStoreLaneSetPtr:ec,_BinaryenSIMDLoadStoreLaneGetVec:dl,_BinaryenSIMDLoadStoreLaneSetVec:tc,_BinaryenSIMDLoadStoreLaneIsStore:EM,_BinaryenMemoryInit:yM,_BinaryenMemoryInitGetSegment:gM,_BinaryenMemoryInitSetSegment:TM,_BinaryenMemoryInitGetDest:El,_BinaryenMemoryInitSetDest:rc,_BinaryenMemoryInitGetOffset:yl,_BinaryenMemoryInitSetOffset:ic,_BinaryenMemoryInitGetSize:gl,_BinaryenMemoryInitSetSize:nc,_BinaryenDataDrop:bM,_BinaryenDataDropGetSegment:IM,_BinaryenDataDropSetSegment:vM,_BinaryenMemoryCopy:lf,_BinaryenMemoryCopyGetDest:Tl,_BinaryenMemoryCopySetDest:sc,_BinaryenMemoryCopyGetSource:bl,_BinaryenMemoryCopySetSource:ac,_BinaryenMemoryCopyGetSize:Il,_BinaryenMemoryCopySetSize:oc,_BinaryenMemoryFill:uf,_BinaryenMemoryFillGetDest:vl,_BinaryenMemoryFillSetDest:lc,_BinaryenMemoryFillGetValue:xl,_BinaryenMemoryFillSetValue:uc,_BinaryenMemoryFillGetSize:Sl,_BinaryenMemoryFillSetSize:pc,_BinaryenRefNull:pf,_BinaryenRefIs:cf,_BinaryenRefIsGetOp:xM,_BinaryenRefIsSetOp:SM,_BinaryenRefIsGetValue:Rl,_BinaryenRefIsSetValue:cc,_BinaryenRefAs:_f,_BinaryenRefAsGetOp:RM,_BinaryenRefAsSetOp:AM,_BinaryenRefAsGetValue:NM,_BinaryenRefAsSetValue:LM,_BinaryenRefFunc:ff,_BinaryenRefFuncGetFunc:_c,_BinaryenRefFuncSetFunc:CM,_BinaryenRefEq:hf,_BinaryenRefEqGetLeft:Al,_BinaryenRefEqSetLeft:fc,_BinaryenRefEqGetRight:Nl,_BinaryenRefEqSetRight:hc,_BinaryenTableGet:mf,_BinaryenTableGetGetTable:FM,_BinaryenTableGetSetTable:kM,_BinaryenTableGetGetIndex:PM,_BinaryenTableGetSetIndex:OM,_BinaryenTableSet:df,_BinaryenTableSetGetTable:wM,_BinaryenTableSetSetTable:MM,_BinaryenTableSetGetIndex:UM,_BinaryenTableSetSetIndex:BM,_BinaryenTableSetGetValue:DM,_BinaryenTableSetSetValue:GM,_BinaryenTableSize:Ef,_BinaryenTableSizeGetTable:VM,_BinaryenTableSizeSetTable:zM,_BinaryenTableGrow:yf,_BinaryenTableGrowGetTable:WM,_BinaryenTableGrowSetTable:YM,_BinaryenTableGrowGetValue:HM,_BinaryenTableGrowSetValue:XM,_BinaryenTableGrowGetDelta:KM,_BinaryenTableGrowSetDelta:qM,_BinaryenTry:gf,_BinaryenTryGetName:QM,_BinaryenTrySetName:ZM,_BinaryenTryGetBody:Ll,_BinaryenTrySetBody:mc,_BinaryenTryGetNumCatchTags:jM,_BinaryenTryGetNumCatchBodies:Cl,_BinaryenTryGetCatchTagAt:JM,_BinaryenTrySetCatchTagAt:$M,_BinaryenTryAppendCatchTag:eU,_BinaryenTryInsertCatchTagAt:tU,_BinaryenTryRemoveCatchTagAt:rU,_BinaryenTryGetCatchBodyAt:Fl,_BinaryenTrySetCatchBodyAt:dc,_BinaryenTryAppendCatchBody:iU,_BinaryenTryInsertCatchBodyAt:nU,_BinaryenTryRemoveCatchBodyAt:sU,_BinaryenTryHasCatchAll:aU,_BinaryenTryGetDelegateTarget:oU,_BinaryenTrySetDelegateTarget:lU,_BinaryenTryIsDelegate:uU,_BinaryenThrow:Tf,_BinaryenThrowGetTag:Ec,_BinaryenThrowSetTag:pU,_BinaryenThrowGetNumOperands:kl,_BinaryenThrowGetOperandAt:Pl,_BinaryenThrowSetOperandAt:yc,_BinaryenThrowAppendOperand:cU,_BinaryenThrowInsertOperandAt:_U,_BinaryenThrowRemoveOperandAt:fU,_BinaryenRethrow:bf,_BinaryenRethrowGetTarget:hU,_BinaryenRethrowSetDepth:mU,_BinaryenTupleMake:If,_BinaryenTupleMakeGetNumOperands:Ol,_BinaryenTupleMakeGetOperandAt:wl,_BinaryenTupleMakeSetOperandAt:gc,_BinaryenTupleMakeAppendOperand:dU,_BinaryenTupleMakeInsertOperandAt:EU,_BinaryenTupleMakeRemoveOperandAt:yU,_BinaryenTupleExtract:vf,_BinaryenTupleExtractGetTuple:Ml,_BinaryenTupleExtractSetTuple:Tc,_BinaryenTupleExtractGetIndex:gU,_BinaryenTupleExtractSetIndex:TU,_BinaryenPop:xf,_BinaryenI31New:Sf,_BinaryenI31NewGetValue:Ul,_BinaryenI31NewSetValue:bc,_BinaryenI31Get:Rf,_BinaryenI31GetGetI31:Bl,_BinaryenI31GetSetI31:Ic,_BinaryenI31GetIsSigned:bU,_BinaryenI31GetSetSigned:IU,_BinaryenAddFunction:pi,_BinaryenGetFunction:ci,_BinaryenRemoveFunction:Cn,_BinaryenGetNumFunctions:vc,_BinaryenGetFunctionByIndex:xc,_BinaryenFunctionGetName:ui,_BinaryenFunctionGetParams:Nn,_BinaryenFunctionGetResults:Ln,_BinaryenFunctionGetNumVars:to,_BinaryenFunctionGetVar:ro,_BinaryenFunctionGetNumLocals:Jl,_BinaryenFunctionHasLocalName:vU,_BinaryenFunctionGetLocalName:xU,_BinaryenFunctionSetLocalName:SU,_BinaryenFunctionGetBody:Dt,_BinaryenFunctionSetBody:wa,_BinaryenFunctionOptimize:RU,_BinaryenFunctionRunPasses:Af,_BinaryenFunctionSetDebugLocation:Nf,_BinaryenAddFunctionImport:Lf,_BinaryenAddTableImport:Cf,_BinaryenAddMemoryImport:Ff,_BinaryenAddGlobalImport:kf,_BinaryenAddTagImport:Pf,_BinaryenAddFunctionExport:io,_BinaryenAddTableExport:Of,_BinaryenAddMemoryExport:wf,_BinaryenAddGlobalExport:Mf,_BinaryenAddTagExport:Uf,_BinaryenGetExport:no,_BinaryenRemoveExport:so,_BinaryenGetNumExports:AU,_BinaryenGetExportByIndex:NU,_BinaryenExportGetKind:Oc,_BinaryenExportGetName:wc,_BinaryenExportGetValue:Mc,_BinaryenAddGlobal:Bf,_BinaryenGetGlobal:Df,_BinaryenRemoveGlobal:Gf,_BinaryenGetNumGlobals:Sc,_BinaryenGetGlobalByIndex:Rc,_BinaryenGlobalGetName:Vf,_BinaryenGlobalGetType:zf,_BinaryenGlobalIsMutable:Wf,_BinaryenGlobalGetInitExpr:Ma,_BinaryenAddTag:Yf,_BinaryenGetTag:Hf,_BinaryenRemoveTag:Xf,_BinaryenTagGetName:Kf,_BinaryenTagGetParams:qf,_BinaryenTagGetResults:Qf,_BinaryenAddTable:Zf,_BinaryenRemoveTable:LU,_BinaryenGetNumTables:CU,_BinaryenGetTable:jf,_BinaryenGetTableByIndex:FU,_BinaryenTableGetName:kU,_BinaryenTableSetName:PU,_BinaryenTableGetInitial:OU,_BinaryenTableSetInitial:Jf,_BinaryenTableHasMax:wU,_BinaryenTableGetMax:MU,_BinaryenTableSetMax:$f,_BinaryenAddActiveElementSegment:eh,_BinaryenAddPassiveElementSegment:UU,_BinaryenRemoveElementSegment:BU,_BinaryenGetNumElementSegments:DU,_BinaryenGetElementSegment:GU,_BinaryenGetElementSegmentByIndex:VU,_BinaryenSetMemory:th,_BinaryenGetNumMemorySegments:zU,_BinaryenGetMemorySegmentByteOffset:WU,_BinaryenGetMemorySegmentByteLength:YU,_BinaryenCopyMemorySegmentData:HU,_BinaryenSetStart:rh,_BinaryenModuleParse:XU,_BinaryenModulePrint:KU,_BinaryenModulePrintAsmjs:qU,_BinaryenModuleValidate:ih,_BinaryenModuleOptimize:QU,_BinaryenModuleRunPasses:nh,_BinaryenModuleAutoDrop:ZU,_BinaryenModuleAllocateAndWrite:sh,_BinaryenModuleRead:ah,_BinaryenModuleInterpret:oh,_BinaryenModuleAddDebugInfoFileName:lh,_BinaryenModuleGetDebugInfoFileName:uh,_BinaryenModuleGetFeatures:ph,_BinaryenModuleSetFeatures:ch,_BinaryenAddCustomSection:_h,_BinaryenExpressionGetSideEffects:fh,_RelooperCreate:hh,_RelooperAddBlock:mh,_RelooperAddBranch:dh,_RelooperAddBlockWithSwitch:Eh,_RelooperAddBranchForSwitch:yh,_RelooperRenderAndDispose:gh,_ExpressionRunnerCreate:Th,_ExpressionRunnerSetLocalValue:jU,_ExpressionRunnerSetGlobalValue:JU,_ExpressionRunnerRunAndDispose:bh,_BinaryenGetOptimizeLevel:Ih,_BinaryenSetOptimizeLevel:vh,_BinaryenGetShrinkLevel:xh,_BinaryenSetShrinkLevel:Sh,_BinaryenGetDebugInfo:Rh,_BinaryenSetDebugInfo:Ah,_BinaryenGetLowMemoryUnused:Nh,_BinaryenSetLowMemoryUnused:Lh,_BinaryenGetZeroFilledMemory:Ch,_BinaryenSetZeroFilledMemory:Fh,_BinaryenGetFastMath:kh,_BinaryenSetFastMath:Ph,_BinaryenGetPassArgument:Oh,_BinaryenSetPassArgument:wh,_BinaryenClearPassArguments:Mh,_BinaryenGetAlwaysInlineMaxSize:Uh,_BinaryenSetAlwaysInlineMaxSize:Bh,_BinaryenGetFlexibleInlineMaxSize:Dh,_BinaryenSetFlexibleInlineMaxSize:Gh,_BinaryenGetOneCallerInlineMaxSize:Vh,_BinaryenSetOneCallerInlineMaxSize:zh,_BinaryenGetAllowInliningFunctionsWithLoops:Wh,_BinaryenSetAllowInliningFunctionsWithLoops:Yh,_malloc:Ft,_free:ne,__i32_store8:Ne,__i32_store16:$U,__i32_store:yo,__f32_store:eB,__f64_store:tB,__i32_load8_s:rB,__i32_load8_u:Or,__i32_load16_s:iB,__i32_load16_u:nB,__i32_load:Jn,__f32_load:sB,__f64_load:aB}=Ri;var go=new Float64Array(1),Hh=new Float32Array(go.buffer),Ti=new Int32Array(go.buffer);globalThis.f32_as_i32=function(n){return Hh[0]=n,Ti[0]};globalThis.i32_as_f32=function(n){return Ti[0]=n,Hh[0]};globalThis.f64_as_i64=function(n){return go[0]=n,i64_new(Ti[0],Ti[1])};globalThis.i64_as_f64=function(n){return Ti[0]=i64_low(n),Ti[1]=i64_high(n),go[0]};import Le from"long";globalThis.i64_zero=Le.ZERO;globalThis.i64_one=Le.ONE;globalThis.i64_neg_one=Le.fromInt(-1);globalThis.i64_is=function(n){return Le.isLong(n)};globalThis.i64_new=function(n,e){return Le.fromBits(n,e)};globalThis.i64_low=function(n){return n.low};globalThis.i64_high=function(n){return n.high};globalThis.i64_not=function(n){return n.not()};globalThis.i64_clz=function(n){return n.clz()};globalThis.i64_ctz=function(n){return n.ctz()};globalThis.i64_add=function(n,e){return n.add(e)};globalThis.i64_sub=function(n,e){return n.sub(e)};globalThis.i64_mul=function(n,e){return n.mul(e)};globalThis.i64_pow=function(n,e){var r=e.low,i=e.high;if(i<=0){if(i<0)return n.eq(globalThis.i64_neg_one)?r&1?n:Le.ONE:n.eq(Le.ONE)?n:Le.ZERO;if(r==0)return Le.ONE;if(r==1)return n;if(r==2)return n.mul(n)}for(var s=Le.ONE;r|i;)r&1&&(s=s.mul(n)),e=e.shru(1),n=n.mul(n),r=e.low,i=e.high;return s};globalThis.i64_div=function(n,e){return n.div(e)};globalThis.i64_div_u=function(n,e){return n.toUnsigned().div(e.toUnsigned()).toSigned()};globalThis.i64_rem=function(n,e){return n.mod(e)};globalThis.i64_rem_u=function(n,e){return n.toUnsigned().mod(e.toUnsigned()).toSigned()};globalThis.i64_and=function(n,e){return n.and(e)};globalThis.i64_or=function(n,e){return n.or(e)};globalThis.i64_xor=function(n,e){return n.xor(e)};globalThis.i64_shl=function(n,e){return n.shl(e)};globalThis.i64_shr=function(n,e){return n.shr(e)};globalThis.i64_shr_u=function(n,e){return n.shru(e)};globalThis.i64_eq=function(n,e){return n.eq(e)};globalThis.i64_ne=function(n,e){return n.ne(e)};globalThis.i64_gt=function(n,e){return n.gt(e)};globalThis.i64_align=function(n,e){assert(e&&(e&e-1)==0);var r=Le.fromInt(e-1);return n.add(r).and(r.not())};globalThis.i64_is_i8=function(n){return n.high===0&&n.low>=0&&n.low<=i8.MAX_VALUE||n.high===-1&&n.low>=i8.MIN_VALUE&&n.low<0};globalThis.i64_is_i16=function(n){return n.high===0&&n.low>=0&&n.low<=i16.MAX_VALUE||n.high===-1&&n.low>=i16.MIN_VALUE&&n.low<0};globalThis.i64_is_i32=function(n){return n.high===0&&n.low>=0||n.high===-1&&n.low<0};globalThis.i64_is_u8=function(n){return n.high===0&&n.low>>>0<=u8.MAX_VALUE};globalThis.i64_is_u16=function(n){return n.high===0&&n.low>>>0<=u16.MAX_VALUE};globalThis.i64_is_u32=function(n){return n.high===0};globalThis.i64_is_bool=function(n){return(n.high|n.low&-2)===0};var Z2=Le.fromNumber(f32.MIN_SAFE_INTEGER),j2=Le.fromNumber(f32.MAX_SAFE_INTEGER);globalThis.i64_is_f32=function(n){return n.gte(Z2)&&n.lte(j2)};var J2=Le.fromNumber(f64.MIN_SAFE_INTEGER),$2=Le.fromNumber(f64.MAX_SAFE_INTEGER);globalThis.i64_is_f64=function(n){return n.gte(J2)&&n.lte($2)};globalThis.i64_to_f32=function(n){return globalThis.Math.fround(n.toNumber())};globalThis.i64_to_f64=function(n){return n.toNumber()};globalThis.i64_to_string=function(n,e){return e?n.toUnsigned().toString():n.toString()};globalThis.Map_keys=function(n){return Array.from(n.keys())};globalThis.Map_values=function(n){return Array.from(n.values())};globalThis.Set_values=function(n){return Array.from(n.values())};var bi=class{constructor(n,e=!1){this.seen=new Map;this.program=n,this.includePrivate=e}walk(){for(let n=Map_values(this.program.filesByName),e=0,r=n.length;e<r;++e){let i=unchecked(n[e]);i.source.sourceKind==1&&this.visitFile(i)}}visitFile(n){var e=n.exports;if(e)for(let i=Map_keys(e),s=0,a=i.length;s<a;++s){let o=unchecked(i[s]),l=assert(e.get(o));this.visitElement(o,l)}var r=n.exportsStar;if(r)for(let i=0,s=r.length;i<s;++i){let a=unchecked(r[i]);this.visitFile(a)}}visitElement(n,e){if(!(e.is(512)&&!this.includePrivate)){var r=this.seen;if(!e.is(131072)&&r.has(e)){this.visitAlias(n,e,assert(r.get(e)));return}switch(r.set(e,n),e.kind){case 0:{e.is(4194304)&&this.visitGlobal(n,e);break}case 2:{e.is(4194304)&&this.visitEnum(n,e);break}case 3:break;case 4:{this.visitFunctionInstances(n,e);break}case 6:{this.visitClassInstances(n,e);break}case 11:{let i=e;i.is(4194304)&&this.visitField(n,i);break}case 12:{let i=e.instance;if(!i)break;e=i}case 13:{let i=e,s=i.getterInstance;s&&this.visitFunction(n,s);let a=i.setterInstance;a&&this.visitFunction(n,a);break}case 14:{Xh(e)&&this.visitNamespace(n,e);break}case 16:break;default:assert(!1)}}}visitFunctionInstances(n,e){var r=e.instances;if(r)for(let i=Map_values(r),s=0,a=i.length;s<a;++s){let o=unchecked(i[s]);o.is(4194304)&&this.visitFunction(n,o)}}visitClassInstances(n,e){var r=e.instances;if(r)for(let i=Map_values(r),s=0,a=i.length;s<a;++s){let o=unchecked(i[s]);o.is(4194304)&&this.visitClass(n,o)}}};function Xh(t){var n=t.members;if(n)for(let e=Map_values(n),r=0,i=e.length;r<i;++r){let s=unchecked(e[r]);switch(s.kind){case 4:{let a=s.instances;if(a){for(let o=Map_values(a),l=0,p=o.length;l<p;++l)if(unchecked(o[l]).is(4194304))return!0}break}case 6:{let a=s.instances;if(a){for(let o=Map_values(a),l=0,p=o.length;l<p;++l)if(unchecked(o[l]).is(4194304))return!0}break}default:{if(s.is(4194304)||Xh(s))return!0;break}}}return!1}var er=class extends bi{constructor(e,r,i=!1){super(e,i);this.sb=[];this.indentLevel=0;this.needsLiftBuffer=!1;this.needsLowerBuffer=!1;this.needsLiftString=!1;this.needsLowerString=!1;this.needsLiftArray=!1;this.needsLowerArray=!1;this.needsLiftTypedArray=!1;this.needsLowerTypedArray=!1;this.needsLiftStaticArray=!1;this.needsLowerStaticArray=!1;this.needsLiftInternref=!1;this.needsLowerInternref=!1;this.needsRetain=!1;this.needsRelease=!1;this.needsNotNull=!1;this.deferredLifts=new Set;this.deferredLowers=new Set;this.deferredCode=new Array;this.exports=new Array;this.importMappings=new Map;this.esm=r}static build(e,r=!0){return new er(e,r).build()}visitGlobal(e,r){var i=this.sb,s=r.type;this.exports.push(e),wr(s,kt.EXPORT)||(z(i,this.indentLevel),i.push(e),i.push(`: {
`),z(i,++this.indentLevel),i.push("// "),i.push(r.internalName),i.push(": "),i.push(s.toString()),i.push(`
`),z(i,this.indentLevel),i.push(`valueOf() { return this.value; },
`),z(i,this.indentLevel),i.push(`get value() {
`),z(i,++this.indentLevel),i.push("return "),this.makeLiftFromValue("exports."+e+".value",s,i),i.push(`;
`),z(i,--this.indentLevel),i.push("}"),r.is(8)||(i.push(`,
`),z(i,this.indentLevel),i.push(`set value(value) {
`),z(i,++this.indentLevel),i.push("exports."),i.push(e),i.push(".value = "),this.makeLowerToValue("value",s,i),i.push(`;
`),z(i,--this.indentLevel),i.push("}")),i.push(`
`),z(i,--this.indentLevel),i.push(`},
`)),this.visitNamespace(e,r)}visitEnum(e,r){var i=this.sb;this.exports.push(e),z(i,this.indentLevel),i.push(e),i.push(`: (values => (
`),z(i,++this.indentLevel),i.push("// "),i.push(r.internalName),i.push(`
`);var s=r.members;if(s)for(let a=Map_values(s),o=0,l=a.length;o<l;++o){let p=a[o];p.kind==3&&(z(i,this.indentLevel),i.push("values[values."),i.push(p.name),p.is(16777216)?(i.push(" = "),i.push(i64_low(p.constantIntegerValue).toString())):(i.push(' = exports["'),i.push(de(e+"."+p.name,34)),i.push('"].valueOf()')),i.push('] = "'),i.push(de(p.name,34)),i.push(`",
`))}z(i,this.indentLevel),i.push(`values
`),z(i,--this.indentLevel),i.push(`))({}),
`),this.visitNamespace(e,r)}makeGlobalImport(e,r,i){var s=this.sb,a=i.type;z(s,this.indentLevel),we(r)?s.push(r):(s.push('"'),s.push(de(r,34)),s.push('": '));let o=this.ensureModuleId(e);wr(a,kt.IMPORT)?(s.push(`(
`),z(s,this.indentLevel+1),s.push("// "),s.push(i.internalName),s.push(": "),s.push(i.type.toString()),s.push(`
`),z(s,this.indentLevel+1),e!="env"&&(s.push("__module"),s.push(o.toString()),s.push(".")),s.push(r),s.push(`
`),z(s,this.indentLevel),s.push(")")):(s.push(`{
`),z(s,++this.indentLevel),s.push("// "),s.push(i.internalName),s.push(": "),s.push(i.type.toString()),s.push(`
`),z(s,this.indentLevel),s.push(`// not supported: cannot lower before instantiate completes
`),z(s,--this.indentLevel),s.push("}")),s.push(`,
`)}makeFunctionImport(e,r,i,s=null){var a=this.sb,o=i.signature;if(z(a,this.indentLevel),we(r)?a.push(r):(a.push('"'),a.push(de(r,34)),a.push('"')),Hu(o,kt.IMPORT)&&!s)a.push(`: (
`),z(a,this.indentLevel+1),a.push("// "),a.push(i.internalName),a.push(i.signature.toString()),a.push(`
`),z(a,this.indentLevel+1),e!="env"&&(a.push(e),a.push(".")),a.push(r),a.push(`
`),z(a,this.indentLevel),a.push(")");else{a.push("(");let l=o.parameterTypes,p=new Array;for(let f=0,d=l.length;f<d;++f)p.push(i.getParameterName(f));a.push(p.join(", ")),a.push(`) {
`),z(a,++this.indentLevel),a.push("// "),a.push(i.internalName),a.push(i.signature.toString()),a.push(`
`);for(let f=0,d=l.length;f<d;++f){let y=l[f];if(!wr(y,kt.EXPORT)){let T=i.getParameterName(f);z(a,this.indentLevel),a.push(T),a.push(" = "),this.makeLiftFromValue(T,y,a),a.push(`;
`)}}let c=new Array,_=this.ensureModuleId(e);s?(c.push(`(() => {
`),z(c,1),c.push(`// @external.js
`),Kh(s,1,c),c.push(`
})()`)):(e!="env"&&(c.push("__module"),c.push(_.toString()),c.push(".")),c.push(r),c.push("("),c.push(p.join(", ")),c.push(")")),s=c.join(""),c.length=0,Kh(s,this.indentLevel,c,!0),s=c.join(""),z(a,this.indentLevel),o.returnType!=u.void?(a.push("return "),this.makeLowerToValue(s,o.returnType,a),a.push(`;
`)):(a.push(s),a.push(`;
`)),z(a,--this.indentLevel),a.push("}")}a.push(`,
`)}visitFunction(e,r){if(!r.is(512)){var i=this.sb,s=r.signature;if(this.exports.push(e),!Hu(s,kt.EXPORT)){z(i,this.indentLevel),i.push(e),i.push("(");let a=s.parameterTypes,o=0;for(let c=0,_=a.length;c<_;++c)a[c].isInternalReference&&o++,c>0&&i.push(", "),i.push(r.getParameterName(c));i.push(`) {
`),z(i,++this.indentLevel),i.push("// "),i.push(r.internalName),i.push(s.toString()),i.push(`
`);let l=new Array;for(let c=0,_=a.length;c<_;++c){let f=a[c];if(!wr(f,kt.IMPORT)){let d=r.getParameterName(c);z(i,this.indentLevel),i.push(d),i.push(" = ");let y=f.isInternalReference&&--o>0;y&&(this.needsRetain=!0,this.needsRelease=!0,i.push("__retain("),l.push(d)),this.makeLowerToValue(d,f,i),y&&i.push(")"),i.push(`;
`)}}l.length&&(z(i,this.indentLevel++),i.push(`try {
`)),s.requiredParameters<a.length&&(z(i,this.indentLevel),i.push(`exports.__setArgumentsLength(arguments.length);
`));let p=new Array;p.push("exports."),p.push(e),p.push("(");for(let c=0,_=a.length;c<_;++c)c>0&&p.push(", "),p.push(r.getParameterName(c));if(p.push(")"),s.returnType!=u.void?(z(i,this.indentLevel),i.push("return "),this.makeLiftFromValue(p.join(""),s.returnType,i)):(z(i,this.indentLevel),i.push(p.join(""))),i.push(`;
`),l.length){z(i,this.indentLevel-1),i.push(`} finally {
`);for(let c=0,_=l.length;c<_;++c)z(i,this.indentLevel),i.push("__release("),i.push(l[c]),i.push(`);
`);z(i,--this.indentLevel),i.push(`}
`)}z(i,--this.indentLevel),i.push(`},
`)}this.visitNamespace(e,r)}}visitClass(e,r){}visitInterface(e,r){this.visitClass(e,r)}visitField(e,r){}visitNamespace(e,r){}visitAlias(e,r,i){}getExternalCode(e){let r=bt(10,e.decoratorNodes);if(r){let i=r.args;if(i&&i.length==1){let s=i[0];if(s.kind==16){let a=s;if(a.literalKind==2)return a.value;if(a.literalKind==3){let o=a.parts;if(o.length==1)return o[0]}}}}return null}build(){var e=this.exports,r=this.program.moduleImports,i=this.program,s=i.options,a=this.sb;a.push(""),z(a,this.indentLevel++),this.esm||a.push("export "),a.push(`async function instantiate(module, imports = {}) {
`);let o=a.push("")-1;z(a,this.indentLevel++),a.push(`const adaptedImports = {
`);let l=a.length;for(let T=Map_keys(r),v=0,I=T.length;v<I;++v){let S=T[v],R=this.ensureModuleId(S),A=r.get(S);z(a,this.indentLevel),we(S)?a.push(S):(a.push('"'),a.push(de(S,34)),a.push('"'));let P=a.length;a.push(": Object.assign(Object.create("),S=="env"?a.push("globalThis"):(a.push("__module"),a.push(R.toString())),a.push("), "),S=="env"&&a.push("imports.env || {}, "),a.push(`{
`),++this.indentLevel;let k=0;for(let W=Map_keys(A),U=0,V=W.length;U<V;++U){let K=W[U],H=assert(A.get(K));if(H.kind==5){let Z=H,le=this.getExternalCode(Z);(!Hu(Z.signature,kt.IMPORT)||!we(K)||le)&&(this.makeFunctionImport(S,K,H,le),++k)}else if(H.kind==0){let Z=H;(!wr(Z.type,kt.IMPORT)||!we(K))&&(this.makeGlobalImport(S,K,Z),++k)}}--this.indentLevel,k?(z(a,this.indentLevel),a.push(`}),
`)):(a.length=P,S=="env"?a.push(": Object.assign(Object.create(globalThis), imports.env || {})"):(a.push(": __module"),a.push(R.toString())),a.push(`,
`))}--this.indentLevel;let p=a.length>l;p?(z(a,this.indentLevel),a.push(`};
`)):a.length=l-2;var c=this.importMappings,_=new Array;for(let T=Map_keys(c),v=0,I=T.length;v<I;++v){let S=T[v];if(S=="env")_.push(`  const env = imports.env;
`);else{let R=c.get(S);_.push("  const __module"),_.push(R.toString()),_.push(" = imports"),we(S)?(_.push("."),_.push(S)):(_.push('["'),_.push(de(S,34)),_.push('"]')),_.push(`;
`)}}a[o]=_.join(""),z(a,this.indentLevel),a.push("const { exports } = await WebAssembly.instantiate(module"),p?a.push(`, adaptedImports);
`):a.push(`, imports);
`),z(a,this.indentLevel),a.push(`const memory = exports.memory || imports.env.memory;
`),z(a,this.indentLevel++),a.push(`const adaptedExports = Object.setPrototypeOf({
`),l=a.length,this.walk(),--this.indentLevel;let f=a.length>l;f?(z(a,this.indentLevel),a.push(`}, exports);
`)):this.needsLiftBuffer||this.needsLowerBuffer||this.needsLiftString||this.needsLowerString||this.needsLiftArray||this.needsLowerArray||this.needsLiftTypedArray||this.needsLowerTypedArray||this.needsLiftStaticArray?a.length=l-2:a.length=l-4;var d=this.deferredCode;if(d.length)for(let T=0,v=d.length;T<v;++T)a.push(d[T]);if(this.needsLiftBuffer){let T=i.OBJECTInstance,v=T.offsetof("rtSize")-T.nextMemoryOffset;a.push(`  function __liftBuffer(pointer) {
    if (!pointer) return null;
    return memory.buffer.slice(pointer, pointer + new Uint32Array(memory.buffer)[pointer - ${-v} >>> 2]);
  }
`)}if(this.needsLowerBuffer){let T=i.arrayBufferInstance.id;a.push(`  function __lowerBuffer(value) {
    if (value == null) return 0;
    const pointer = exports.__new(value.byteLength, ${T}) >>> 0;
    new Uint8Array(memory.buffer).set(new Uint8Array(value), pointer);
    return pointer;
  }
`)}if(this.needsLiftString){let T=i.OBJECTInstance,v=T.offsetof("rtSize")-T.nextMemoryOffset,I=1024;a.push(`  function __liftString(pointer) {
    if (!pointer) return null;
    const
      end = pointer + new Uint32Array(memory.buffer)[pointer - ${-v} >>> 2] >>> 1,
      memoryU16 = new Uint16Array(memory.buffer);
    let
      start = pointer >>> 1,
      string = "";
    while (end - start > ${I}) string += String.fromCharCode(...memoryU16.subarray(start, start += ${I}));
    return string + String.fromCharCode(...memoryU16.subarray(start, end));
  }
`)}if(this.needsLowerString){let T=i.stringInstance.id;a.push(`  function __lowerString(value) {
    if (value == null) return 0;
    const
      length = value.length,
      pointer = exports.__new(length << 1, ${T}) >>> 0,
      memoryU16 = new Uint16Array(memory.buffer);
    for (let i = 0; i < length; ++i) memoryU16[(pointer >>> 1) + i] = value.charCodeAt(i);
    return pointer;
  }
`)}if(this.needsLiftArray){let T=i.arrayBufferViewInstance.offsetof("dataStart"),v=i.arrayBufferViewInstance.nextMemoryOffset;a.push(`  function __liftArray(liftElement, align, pointer) {
    if (!pointer) return null;
    const
      memoryU32 = new Uint32Array(memory.buffer),
      dataStart = memoryU32[pointer + ${T} >>> 2],
      length = memoryU32[pointer + ${v} >>> 2],
      values = new Array(length);
    for (let i = 0; i < length; ++i) values[i] = liftElement(dataStart + (i << align >>> 0));
    return values;
  }
`)}if(this.needsLowerArray){let T=i.arrayBufferInstance.id,v=i.arrayBufferViewInstance,I=v.nextMemoryOffset+4,S=v.offsetof("buffer"),R=v.offsetof("dataStart"),A=v.offsetof("byteLength"),P=A+4;a.push(`  function __lowerArray(lowerElement, id, align, values) {
    if (values == null) return 0;
    const
      length = values.length,
      buffer = exports.__pin(exports.__new(length << align, ${T})) >>> 0,
      header = exports.__pin(exports.__new(${I}, id)) >>> 0,
      memoryU32 = new Uint32Array(memory.buffer);
    memoryU32[header + ${S} >>> 2] = buffer;
    memoryU32[header + ${R} >>> 2] = buffer;
    memoryU32[header + ${A} >>> 2] = length << align;
    memoryU32[header + ${P} >>> 2] = length;
    for (let i = 0; i < length; ++i) lowerElement(buffer + (i << align >>> 0), values[i]);
    exports.__unpin(buffer);
    exports.__unpin(header);
    return header;
  }
`)}if(this.needsLiftTypedArray){let T=i.arrayBufferViewInstance,v=T.offsetof("dataStart"),I=T.offsetof("byteLength");a.push(`  function __liftTypedArray(constructor, pointer) {
    if (!pointer) return null;
    const memoryU32 = new Uint32Array(memory.buffer);
    return new constructor(
      memory.buffer,
      memoryU32[pointer + ${v} >>> 2],
      memoryU32[pointer + ${I} >>> 2] / constructor.BYTES_PER_ELEMENT
    ).slice();
  }
`)}if(this.needsLowerTypedArray){let T=i.arrayBufferInstance.id,v=i.arrayBufferViewInstance,I=v.nextMemoryOffset,S=v.offsetof("buffer"),R=v.offsetof("dataStart"),A=v.offsetof("byteLength");a.push(`  function __lowerTypedArray(constructor, id, align, values) {
    if (values == null) return 0;
    const
      length = values.length,
      buffer = exports.__pin(exports.__new(length << align, ${T})) >>> 0,
      header = exports.__new(${I}, id) >>> 0,
      memoryU32 = new Uint32Array(memory.buffer);
    memoryU32[header + ${S} >>> 2] = buffer;
    memoryU32[header + ${R} >>> 2] = buffer;
    memoryU32[header + ${A} >>> 2] = length << align;
    new constructor(memory.buffer, buffer, length).set(values);
    exports.__unpin(buffer);
    return header;
  }
`)}if(this.needsLiftStaticArray){let T=i.OBJECTInstance,v=T.offsetof("rtSize")-T.nextMemoryOffset;a.push(`  function __liftStaticArray(liftElement, align, pointer) {
    if (!pointer) return null;
    const
      length = new Uint32Array(memory.buffer)[pointer - ${-v} >>> 2] >>> align,
      values = new Array(length);
    for (let i = 0; i < length; ++i) values[i] = liftElement(pointer + (i << align >>> 0));
    return values;
  }
`)}this.needsLowerStaticArray&&a.push(`  function __lowerStaticArray(lowerElement, id, align, values) {
    if (values == null) return 0;
    const
      length = values.length,
      buffer = exports.__pin(exports.__new(length << align, id)) >>> 0;
    for (let i = 0; i < length; i++) lowerElement(buffer + (i << align >>> 0), values[i]);
    exports.__unpin(buffer);
    return buffer;
  }
`),this.needsLiftInternref&&(this.needsRetain=!0,this.needsRelease=!0,a.push(`  const registry = new FinalizationRegistry(__release);
  class Internref extends Number {}
  function __liftInternref(pointer) {
    if (!pointer) return null;
    const sentinel = new Internref(__retain(pointer));
    registry.register(sentinel, pointer);
    return sentinel;
  }
`)),this.needsLowerInternref&&a.push(`  function __lowerInternref(value) {
    if (value == null) return 0;
    if (value instanceof Internref) return value.valueOf();
    throw TypeError("internref expected");
  }
`),(this.needsRetain||this.needsRelease)&&a.push(`  const refcounts = new Map();
`),this.needsRetain&&a.push(`  function __retain(pointer) {
    if (pointer) {
      const refcount = refcounts.get(pointer);
      if (refcount) refcounts.set(pointer, refcount + 1);
      else refcounts.set(exports.__pin(pointer), 1);
    }
    return pointer;
  }
`),this.needsRelease&&a.push(`  function __release(pointer) {
    if (pointer) {
      const refcount = refcounts.get(pointer);
      if (refcount === 1) exports.__unpin(pointer), refcounts.delete(pointer);
      else if (refcount) refcounts.set(pointer, refcount - 1);
      else throw Error(\`invalid refcount '\${refcount}' for reference '\${pointer}'\`);
    }
  }
`),this.needsNotNull&&a.push(`  function __notnull() {
    throw TypeError("value must not be null");
  }
`);var y=s.exportStart;if(y&&a.push(`  exports.${y}();
`),f?a.push(`  return adaptedExports;
}
`):a.push(`  return exports;
}
`),--this.indentLevel,assert(this.indentLevel==0),this.esm){a.push(`export const {
  `);for(let I=0,S=e.length;I<S;++I)I>0&&a.push(`,
  `),a.push(e[I]);a.push(`
} = await (async url => instantiate(
  await (async () => {
    try { return await globalThis.WebAssembly.compileStreaming(globalThis.fetch(url)) }
    catch { return globalThis.WebAssembly.compile(await (await import("node:fs/promises")).readFile(url)) }
  })(), {
`);let T=!1,v=new Array;for(let I=Map_keys(c),S=0,R=I.length;S<R;++S){let A=I[S];if(A=="env")z(a,2),a.push(`env: globalThis,
`);else{let P=this.ensureModuleId(A);z(a,2),we(A)?a.push(A):(a.push('"'),a.push(de(A,34)),a.push('"')),a.push(": __maybeDefault(__import"),a.push(P.toString()),a.push(`),
`),v.push("import * as __import"),v.push(P.toString()),v.push(' from "'),v.push(de(A,34)),v.push(`";
`),T=!0}}a[0]=v.join(""),a.push(`  }
))(new URL("${de(s.basenameHint,34)}.wasm", import.meta.url));
`),T&&a.push(`function __maybeDefault(module) {
  return typeof module.default === "object" && Object.keys(module).length == 1
    ? module.default
    : module;
}
`)}return a.join("")}ensureModuleId(e){if(e=="env")return-1;var r=this.importMappings;let i=r.has(e)?i32(r.get(e)):r.size;return r.set(e,i),i}isPlainObject(e){if(e.base)return!1;var r=e.members;if(r)for(let i=Map_values(r),s=0,a=i.length;s<a;++s){let o=i[s];if(o.isAny(1536)||o.is(262144)&&o.declaration.range!=this.program.nativeRange)return!1}return!0}makeLiftFromValue(e,r,i=this.sb){if(r.isInternalReference){let s=assert(r.getClassOrWrapper(this.program));if(s.extends(this.program.arrayBufferInstance.prototype))i.push("__liftBuffer("),this.needsLiftBuffer=!0;else if(s.extends(this.program.stringInstance.prototype))i.push("__liftString("),this.needsLiftString=!0;else if(s.extends(this.program.arrayPrototype)){let a=s.getArrayValueType();i.push("__liftArray("),this.makeLiftFromMemory(a,i),i.push(", "),i.push(a.alignLog2.toString()),i.push(", "),this.needsLiftArray=!0}else if(s.extends(this.program.staticArrayPrototype)){let a=s.getArrayValueType();i.push("__liftStaticArray("),this.makeLiftFromMemory(a,i),i.push(", "),i.push(a.alignLog2.toString()),i.push(", "),this.needsLiftStaticArray=!0}else if(s.extends(this.program.arrayBufferViewInstance.prototype))i.push("__liftTypedArray("),s.name=="Uint64Array"?i.push("BigUint64Array"):s.name=="Int64Array"?i.push("BigInt64Array"):i.push(s.name),i.push(", "),this.needsLiftTypedArray=!0;else if(this.isPlainObject(s)){if(i.push("__liftRecord"),i.push(s.id.toString()),i.push("("),!this.deferredLifts.has(s)){this.deferredLifts.add(s);let a=this.indentLevel;this.indentLevel=1,this.deferredCode.push(this.makeLiftRecord(s)),this.indentLevel=a}}else i.push("__liftInternref("),this.needsLiftInternref=!0;i.push(e),e.startsWith("new Uint32Array(")||i.push(" >>> 0"),i.push(")")}else i.push(e),r.isUnsignedIntegerValue&&r.size==32?i.push(" >>> 0"):r==u.bool&&i.push(" != 0")}makeLowerToValue(e,r,i=this.sb){if(r.isInternalReference){let s=assert(r.getClass());if(s.extends(this.program.arrayBufferInstance.prototype))i.push("__lowerBuffer("),this.needsLowerBuffer=!0;else if(s.extends(this.program.stringInstance.prototype))i.push("__lowerString("),this.needsLowerString=!0;else if(s.extends(this.program.arrayPrototype)){let a=s.getArrayValueType();i.push("__lowerArray("),this.makeLowerToMemory(a,i),i.push(", "),i.push(s.id.toString()),i.push(", "),i.push(s.getArrayValueType().alignLog2.toString()),i.push(", "),this.needsLowerArray=!0}else if(s.extends(this.program.staticArrayPrototype)){let a=s.getArrayValueType();i.push("__lowerStaticArray("),this.makeLowerToMemory(a,i),i.push(", "),i.push(s.id.toString()),i.push(", "),i.push(s.getArrayValueType().alignLog2.toString()),i.push(", "),this.needsLowerStaticArray=!0}else if(s.extends(this.program.arrayBufferViewInstance.prototype)){let a=s.getArrayValueType();i.push("__lowerTypedArray("),a==u.u64?i.push("BigUint64Array"):a==u.i64?i.push("BigInt64Array"):i.push(s.name),i.push(", "),i.push(s.id.toString()),i.push(", "),i.push(s.getArrayValueType().alignLog2.toString()),i.push(", "),this.needsLowerTypedArray=!0}else if(this.isPlainObject(s)){if(i.push("__lowerRecord"),i.push(s.id.toString()),i.push("("),!this.deferredLowers.has(s)){this.deferredLowers.add(s);let a=this.indentLevel;this.indentLevel=1,this.deferredCode.push(this.makeLowerRecord(s)),this.indentLevel=a}}else i.push("__lowerInternref("),this.needsLowerInternref=!0;i.push(e),i.push(")"),r.is(512)||(this.needsNotNull=!0,i.push(" || __notnull()"))}else i.push(e),r.isIntegerValue&&r.size==64?i.push(" || 0n"):r==u.bool&&i.push(" ? 1 : 0")}makeLiftFromMemory(e,r=this.sb,i=null){if(i||(r.push("pointer => "),i="pointer"),e.isInternalReference){let s=new Array;s.push("new Uint32Array(memory.buffer)["),s.push(i),s.push(" >>> 2]"),this.makeLiftFromValue(s.join(""),e,r)}else{if(e==u.i8)r.push("new Int8Array(memory.buffer)[");else if(e==u.u8||e==u.bool)r.push("new Uint8Array(memory.buffer)[");else if(e==u.i16)r.push("new Int16Array(memory.buffer)[");else if(e==u.u16)r.push("new Uint16Array(memory.buffer)[");else if(e==u.i32||e==u.isize32)r.push("new Int32Array(memory.buffer)[");else if(e==u.u32||e==u.usize32)r.push("new Uint32Array(memory.buffer)[");else if(e==u.i64||e==u.isize64)r.push("new BigInt64Array(memory.buffer)[");else if(e==u.u64||e==u.usize64)r.push("new BigUint64Array(memory.buffer)[");else if(e==u.f32)r.push("new Float32Array(memory.buffer)[");else if(e==u.f64)r.push("new Float64Array(memory.buffer)[");else{r.push('{ throw Error("unsupported type"); }');return}r.push(i),r.push(" >>> "),r.push(e.alignLog2.toString()),r.push("]"),e==u.bool&&r.push(" != 0")}}makeLowerToMemory(e,r=this.sb,i=null,s=null){let a=!0;if((!i||!s)&&(r.push("(pointer, value) => { "),i="pointer",s="value",a=!1),e.isInternalReference)r.push("new Uint32Array(memory.buffer)[");else if(e==u.i8)r.push("new Int8Array(memory.buffer)[");else if(e==u.u8||e==u.bool)r.push("new Uint8Array(memory.buffer)[");else if(e==u.i16)r.push("new Int16Array(memory.buffer)[");else if(e==u.u16)r.push("new Uint16Array(memory.buffer)[");else if(e==u.i32||e==u.isize32)r.push("new Int32Array(memory.buffer)[");else if(e==u.u32||e==u.usize32)r.push("new Uint32Array(memory.buffer)[");else if(e==u.i64||e==u.isize64)r.push("new BigInt64Array(memory.buffer)[");else if(e==u.u64||e==u.usize64)r.push("new BigUint64Array(memory.buffer)[");else if(e==u.f32)r.push("new Float32Array(memory.buffer)[");else if(e==u.f64)r.push("new Float64Array(memory.buffer)[");else{a?r.push('(() => { throw Error("unsupported type") })()'):r.push('throw Error("unsupported type"); }');return}r.push(i),r.push(" >>> "),r.push(e.alignLog2.toString()),r.push("] = "),this.makeLowerToValue(s,e,r),a||r.push("; }")}makeLiftRecord(e){assert(this.isPlainObject(e));var r=new Array;z(r,this.indentLevel),r.push("function __liftRecord"),r.push(e.id.toString()),r.push(`(pointer) {
`),z(r,++this.indentLevel),r.push("// "),r.push(e.type.toString()),r.push(`
`),z(r,this.indentLevel),r.push(`// Hint: Opt-out from lifting as a record by providing an empty constructor
`),z(r,this.indentLevel),r.push(`if (!pointer) return null;
`),z(r,this.indentLevel++),r.push(`return {
`);var i=e.members;if(i)for(let s=Map_keys(i),a=0,o=s.length;a<o;++a){let l=s[a],p=assert(i.get(l));if(p.kind!=11)continue;let c=p;z(r,this.indentLevel),r.push(c.name),r.push(": "),this.makeLiftFromMemory(c.type,r,"pointer + "+c.memoryOffset.toString()),r.push(`,
`)}return z(r,--this.indentLevel),r.push(`};
`),z(r,--this.indentLevel),r.push(`}
`),r.join("")}makeLowerRecord(e){assert(this.isPlainObject(e));var r=new Array;z(r,this.indentLevel),r.push("function __lowerRecord"),r.push(e.id.toString()),r.push(`(value) {
`),z(r,++this.indentLevel),r.push("// "),r.push(e.type.toString()),r.push(`
`),z(r,this.indentLevel),r.push(`// Hint: Opt-out from lowering as a record by providing an empty constructor
`),z(r,this.indentLevel),r.push(`if (value == null) return 0;
`),z(r,this.indentLevel),r.push("const pointer = exports.__pin(exports.__new("),r.push(e.nextMemoryOffset.toString()),r.push(", "),r.push(e.id.toString()),r.push(`));
`);var i=e.members;if(i)for(let s=Map_keys(i),a=0,o=s.length;a<o;++a){let l=s[a],p=assert(i.get(l));if(p.kind!=11)continue;let c=p;z(r,this.indentLevel),this.makeLowerToMemory(c.type,r,"pointer + "+c.memoryOffset.toString(),"value."+l),r.push(`;
`)}return z(r,this.indentLevel),r.push(`exports.__unpin(pointer);
`),z(r,this.indentLevel),r.push(`return pointer;
`),z(r,--this.indentLevel),r.push(`}
`),r.join("")}},kt=(e=>(e[e.IMPORT=0]="IMPORT",e[e.EXPORT=1]="EXPORT",e))(kt||{});function wr(t,n){if(n==0){if(t.isIntegerValue&&t.size==64||t==u.bool)return!1}else if(t.isUnsignedIntegerValue&&t.size==32||t==u.bool)return!1;return!t.isInternalReference}function Hu(t,n){var e=t.parameterTypes,r=n==0?1:0;for(let i=0,s=e.length;i<s;++i)if(!wr(e[i],r))return!1;return!!wr(t.returnType,n)}function Kh(t,n,e,r=!1){for(var i=0,s=t.length,a=0;a<s;)t.charCodeAt(a)==10&&(r?r=!1:z(e,n),e.push(t.substring(i,i=a+1))),++a;i<s&&(r||z(e,n),e.push(t.substring(i)))}var tr=class extends bi{constructor(e,r,i=!1){super(e,i);this.sb=[];this.indentLevel=0;this.seenObjectTypes=new Map;this.deferredTypings=new Array;this.esm=r}static build(e,r=!0){return new tr(e,r).build()}visitGlobal(e,r){var i=this.sb,s=r.type,a=this.toTypeScriptType(s,Ii.EXPORT);z(i,this.indentLevel),i.push("/** "),i.push(r.internalName),i.push(` */
`),z(i,this.indentLevel),i.push("export "),this.esm&&i.push("declare "),i.push("const "),i.push(e),i.push(`: {
`),z(i,++this.indentLevel),i.push("/** @type `"),i.push(s.toString()),i.push("` */\n"),z(i,this.indentLevel),i.push("get value(): "),i.push(a),r.is(8)?i.push(`
`):(i.push(`;
`),z(i,this.indentLevel),i.push("set value(value: "),i.push(a),i.push(`);
`)),z(i,--this.indentLevel),i.push(`};
`)}visitEnum(e,r){var i=this.sb;z(i,this.indentLevel),i.push("/** "),i.push(r.internalName),i.push(` */
`),z(i,this.indentLevel++),i.push("export "),this.esm&&i.push("declare "),i.push("enum "),i.push(e),i.push(` {
`);var s=r.members;if(s)for(let a=Map_keys(s),o=0,l=a.length;o<l;++o){let p=unchecked(a[o]);assert(s.get(p)).kind==3&&(z(i,this.indentLevel),i.push("/** @type `i32` */\n"),z(i,this.indentLevel),i.push(p),i.push(`,
`))}z(i,--this.indentLevel),i.push(`}
`)}visitFunction(e,r){var i=this.sb,s=r.signature;z(i,this.indentLevel),i.push(`/**
`),z(i,this.indentLevel),i.push(" * "),i.push(r.internalName),i.push(`
`);var a=s.parameterTypes,o=a.length;for(let c=0;c<o;++c)z(i,this.indentLevel),i.push(" * @param "),i.push(r.getParameterName(c)),i.push(" `"),i.push(a[c].toString()),i.push("`\n");var l=s.returnType;l!=u.void&&(z(i,this.indentLevel),i.push(" * @returns `"),i.push(l.toString()),i.push("`\n")),z(i,this.indentLevel),i.push(` */
`),z(i,this.indentLevel),i.push("export "),this.esm&&i.push("declare "),i.push("function "),i.push(e),i.push("(");var p=s.requiredParameters;for(let c=0;c<o;++c)c&&i.push(", "),i.push(r.getParameterName(c)),c>=p&&i.push("?"),i.push(": "),i.push(this.toTypeScriptType(a[c],Ii.IMPORT));i.push("): "),i.push(this.toTypeScriptType(l,Ii.EXPORT)),i.push(`;
`)}visitClass(e,r){}visitInterface(e,r){}visitField(e,r){}visitNamespace(e,r){}visitAlias(e,r,i){}build(){var e=this.sb;this.esm||(e.push(`declare namespace __AdaptedExports {
`),++this.indentLevel),this.walk(),this.esm||(--this.indentLevel,e.push(`}
`));var r=this.deferredTypings;for(let i=0,s=r.length;i<s;++i)e.push(r[i]);if(!this.esm){e.push(`/** Instantiates the compiled WebAssembly module with the given imports. */
`),e.push(`export declare function instantiate(module: WebAssembly.Module, imports: {
`);let i=this.program.moduleImports;for(let s=Map_keys(i),a=0,o=s.length;a<o;++a){let l=s[a];e.push("  "),we(l)?e.push(l):(e.push('"'),e.push(de(l,34)),e.push('"')),e.push(`: unknown,
`)}e.push(`}): Promise<typeof __AdaptedExports>;
`)}return e.join("")}isPlainObject(e){if(e.base)return!1;var r=e.members;if(r)for(let i=Map_values(r),s=0,a=i.length;s<a;++s){let o=i[s];if(o.isAny(1536)||o.is(262144)&&o.declaration.range!=this.program.nativeRange)return!1}return!0}toTypeScriptType(e,r){if(e.isInternalReference){let i=new Array,s=assert(e.getClassOrWrapper(this.program));if(s.extends(this.program.arrayBufferInstance.prototype))i.push("ArrayBuffer");else if(s.extends(this.program.stringInstance.prototype))i.push("string");else if(s.extends(this.program.arrayPrototype)||s.extends(this.program.staticArrayPrototype)){let a=s.getArrayValueType();i.push("Array<"),i.push(this.toTypeScriptType(a,r)),i.push(">")}else if(s.extends(this.program.arrayBufferViewInstance.prototype)){let a=s.getArrayValueType();a==u.i8?i.push("Int8Array"):a==u.u8?s.extends(this.program.uint8ClampedArrayPrototype)?i.push("Uint8ClampedArray"):i.push("Uint8Array"):a==u.i16?i.push("Int16Array"):a==u.u16?i.push("Uint16Array"):a==u.i32?i.push("Int32Array"):a==u.u32?i.push("Uint32Array"):a==u.i64?i.push("BigInt64Array"):a==u.u64?i.push("BigUint64Array"):a==u.f32?i.push("Float32Array"):a==u.f64?i.push("Float64Array"):i.push("unknown")}else{let a=this.seenObjectTypes,o;a.has(s)?(o=assert(a.get(s)),i.push(o),this.isPlainObject(s)&&i.push(r==Ii.EXPORT?"<never>":"<undefined>")):(this.isPlainObject(s)?(o="__Record"+s.id.toString(),i.push(o),i.push(r==Ii.EXPORT?"<never>":"<undefined>"),this.deferredTypings.push(this.makeRecordType(s,r))):(o="__Internref"+s.id.toString(),i.push(o),this.deferredTypings.push(this.makeInternrefType(s))),a.set(s,o))}return e.is(512)&&i.push(" | null"),i.join("")}else{if(e==u.bool)return"boolean";if(e==u.void)return"void";if(e.isNumericValue)return e.isLongIntegerValue?"bigint":"number"}return"unknown"}makeRecordType(e,r){var i=new Array,s=e.members;if(i.push("/** "),i.push(e.internalName),i.push(` */
declare interface __Record`),i.push(e.id.toString()),i.push(`<TOmittable> {
`),s)for(let a=Map_keys(s),o=0,l=a.length;o<l;++o){let p=a[o],c=assert(s.get(p));if(c.kind!=11)continue;let _=c;i.push("  /** @type `"),i.push(_.type.toString()),i.push("` */\n  "),i.push(_.name),i.push(": "),i.push(this.toTypeScriptType(_.type,r)),this.fieldAcceptsUndefined(_.type)&&i.push(" | TOmittable"),i.push(`;
`)}return i.push(`}
`),i.join("")}fieldAcceptsUndefined(e){return e.isInternalReference?e.is(512):!0}makeInternrefType(e){var r=new Array;r.push("/** "),r.push(e.internalName),r.push(` */
`),r.push("declare class __Internref"),r.push(e.id.toString()),r.push(` extends Number {
`);var i=e;do r.push("  private __nominal"),r.push(i.id.toString()),r.push(`: symbol;
`),i=i.base;while(i);return r.push(`}
`),r.join("")}},Ii=(e=>(e[e.IMPORT=0]="IMPORT",e[e.EXPORT=1]="EXPORT",e))(Ii||{});function eS(){return new kn}function tS(t,n){t.target=n}function rS(t,n){t.runtime=n}function iS(t,n){t.noAssert=n}function nS(t,n){t.exportMemory=n}function sS(t,n){t.importMemory=n}function aS(t,n){t.initialMemory=n}function oS(t,n){t.maximumMemory=n}function lS(t,n){t.sharedMemory=n}function uS(t,n){t.importTable=n}function pS(t,n){t.exportTable=n}function cS(t,n){t.sourceMap=n}function _S(t,n){t.memoryBase=n}function fS(t,n){t.tableBase=n}function hS(t,n,e){var r=t.globalAliases;r||(t.globalAliases=r=new Map),r.set(n,e)}function mS(t,n){var e=t.globalAliases;e&&e.delete(n)}function dS(t,n){t.exportStart=n}function ES(t,n){t.noUnsafe=n}function yS(t,n){t.lowMemoryLimit=n}function gS(t,n){t.exportRuntime=n}var TS=16384;function bS(t,n){t.stackSize=n}function IS(t,n,e,r){t.bundleMajorVersion=n,t.bundleMinorVersion=e,t.bundlePatchVersion=r}var vS=1,xS=2,SS=4,RS=8,AS=16,NS=32,LS=64,CS=128,FS=256,kS=512,PS=1024,OS=2048,wS=4096,MS=8192,US=16384;function BS(t,n){t.features|=n}function DS(t,n){t.features&=~n}function GS(t,n,e){t.optimizeLevelHint=n,t.shrinkLevelHint=e}function VS(t,n){t.basenameHint=n}function zS(t,n){t.pedantic=n}function WS(t){return new In(t)}function YS(t){return t.diagnosticsOffset<t.diagnostics.length?t.diagnostics[t.diagnosticsOffset++]:null}function HS(t,n){return t.getSource(n)}function XS(t){return t.code}function KS(t){return t.category}function qS(t){return t.message}function QS(t){return t.range}function ZS(t){return t.relatedRange}function jS(t){return t.start}function JS(t){return t.end}function $S(t){return t.source}function eR(t){return t.normalizedPath}function tR(t){return t.category==1}function rR(t){return t.category==2}function iR(t){return t.category==3}function nR(t,n,e,r=!1){t.parser.parseFile(n,e,r)}function sR(t){return t.parser.nextFile()}function aR(t,n){return t.parser.getDependee(n)}function oR(t){t.initialize()}function lR(t){return t.parser.finish(),new gr(t).compile()}function uR(t,n){return tr.build(t,n)}function pR(t,n){return er.build(t,n)}function cR(t){return t.ref}function _R(t){return t.validate()}function fR(t,n,e,r=!1,i=!1){t.optimize(n,e,r,i)}var $n=class{constructor(){this.sb=[];this.indentLevel=0}static build(n){var e=new $n;return e.visitNode(n),e.finish()}visitNode(n){switch(n.kind){case 0:{this.visitSource(n);break}case 1:{this.visitNamedTypeNode(n);break}case 2:{this.visitFunctionTypeNode(n);break}case 4:{this.visitTypeParameter(n);break}case 13:case 18:case 23:case 24:case 25:case 26:case 6:{this.visitIdentifierExpression(n);break}case 7:{this.visitAssertionExpression(n);break}case 8:{this.visitBinaryExpression(n);break}case 9:{this.visitCallExpression(n);break}case 10:{this.visitClassExpression(n);break}case 11:{this.visitCommaExpression(n);break}case 12:{this.visitElementAccessExpression(n);break}case 14:{this.visitFunctionExpression(n);break}case 15:{this.visitInstanceOfExpression(n);break}case 16:{this.visitLiteralExpression(n);break}case 17:{this.visitNewExpression(n);break}case 20:{this.visitParenthesizedExpression(n);break}case 21:{this.visitPropertyAccessExpression(n);break}case 22:{this.visitTernaryExpression(n);break}case 27:{this.visitUnaryPostfixExpression(n);break}case 28:{this.visitUnaryPrefixExpression(n);break}case 30:{this.visitBlockStatement(n);break}case 31:{this.visitBreakStatement(n);break}case 32:{this.visitContinueStatement(n);break}case 33:{this.visitDoStatement(n);break}case 34:{this.visitEmptyStatement(n);break}case 35:{this.visitExportStatement(n);break}case 36:{this.visitExportDefaultStatement(n);break}case 37:{this.visitExportImportStatement(n);break}case 38:{this.visitExpressionStatement(n);break}case 39:{this.visitForStatement(n);break}case 40:{this.visitForOfStatement(n);break}case 41:{this.visitIfStatement(n);break}case 42:{this.visitImportStatement(n);break}case 43:{this.visitReturnStatement(n);break}case 44:{this.visitSwitchStatement(n);break}case 45:{this.visitThrowStatement(n);break}case 46:{this.visitTryStatement(n);break}case 47:{this.visitVariableStatement(n);break}case 49:{this.visitWhileStatement(n);break}case 50:{this.visitModuleDeclaration(n);break}case 51:{this.visitClassDeclaration(n);break}case 52:{this.visitEnumDeclaration(n);break}case 53:{this.visitEnumValueDeclaration(n);break}case 54:{this.visitFieldDeclaration(n);break}case 55:{this.visitFunctionDeclaration(n);break}case 56:{this.visitImportDeclaration(n);break}case 57:{this.visitInterfaceDeclaration(n);break}case 58:{this.visitMethodDeclaration(n);break}case 59:{this.visitNamespaceDeclaration(n);break}case 60:{this.visitTypeDeclaration(n);break}case 61:{this.visitVariableDeclaration(n);break}case 62:{this.serializeDecorator(n);break}case 63:{this.visitExportMember(n);break}case 5:{this.serializeParameter(n);break}case 64:{this.visitSwitchCase(n);break}case 65:{this.visitIndexSignature(n);break}default:assert(!1)}}visitSource(n){var e=n.statements;for(let r=0,i=e.length;r<i;++r)this.visitNodeAndTerminate(e[r])}visitTypeNode(n){switch(n.kind){case 1:{this.visitNamedTypeNode(n);break}case 2:{this.visitFunctionTypeNode(n);break}default:assert(!1)}}visitTypeName(n){this.visitIdentifierExpression(n.identifier);for(var e=this.sb,r=n.next;r;)e.push("."),this.visitIdentifierExpression(r.identifier),r=r.next}visitNamedTypeNode(n){this.visitTypeName(n.name);var e=n.typeArguments;if(e){let r=e.length,i=this.sb;if(r){i.push("<"),this.visitTypeNode(e[0]);for(let s=1;s<r;++s)i.push(", "),this.visitTypeNode(e[s]);i.push(">")}n.isNullable&&i.push(" | null")}}visitFunctionTypeNode(n){var e=n.isNullable,r=this.sb;r.push(e?"((":"(");var i=n.explicitThisType;i&&(r.push("this: "),this.visitTypeNode(i));var s=n.parameters,a=s.length;if(a){i&&r.push(", "),this.serializeParameter(s[0]);for(let l=1;l<a;++l)r.push(", "),this.serializeParameter(s[l])}var o=n.returnType;o?(r.push(") => "),this.visitTypeNode(o)):r.push(") => void"),e&&r.push(") | null")}visitTypeParameter(n){this.visitIdentifierExpression(n.name);var e=n.extendsType;e&&(this.sb.push(" extends "),this.visitTypeNode(e));var r=n.defaultType;r&&(this.sb.push("="),this.visitTypeNode(r))}visitIdentifierExpression(n){n.isQuoted?this.visitStringLiteral(n.text):this.sb.push(n.text)}visitArrayLiteralExpression(n){var e=this.sb;e.push("[");var r=n.elementExpressions,i=r.length;if(i){let s=r[0];s&&this.visitNode(s);for(let a=1;a<i;++a)s=r[a],e.push(", "),s&&this.visitNode(s)}e.push("]")}visitObjectLiteralExpression(n){var e=this.sb,r=n.names,i=n.values,s=r.length;if(assert(s==i.length),s){e.push(`{
`),z(e,++this.indentLevel),this.visitNode(r[0]),e.push(": "),this.visitNode(i[0]);for(let a=1;a<s;++a){e.push(`,
`),z(e,this.indentLevel);let o=r[a],l=i[a];o==l?this.visitNode(o):(this.visitNode(o),e.push(": "),this.visitNode(l))}e.push(`
`),z(e,--this.indentLevel),e.push("}")}else e.push("{}")}visitAssertionExpression(n){var e=this.sb;switch(n.assertionKind){case 0:{e.push("<"),this.visitTypeNode(assert(n.toType)),e.push(">"),this.visitNode(n.expression);break}case 1:{this.visitNode(n.expression),e.push(" as "),this.visitTypeNode(assert(n.toType));break}case 2:{this.visitNode(n.expression),e.push("!");break}case 3:{this.visitNode(n.expression),e.push(" as const");break}default:assert(!1)}}visitBinaryExpression(n){var e=this.sb;this.visitNode(n.left),e.push(" "),e.push(Te(n.operator)),e.push(" "),this.visitNode(n.right)}visitCallExpression(n){this.visitNode(n.expression),this.visitArguments(n.typeArguments,n.args)}visitArguments(n,e){var r=this.sb;if(n){let s=n.length;if(s){r.push("<"),this.visitTypeNode(n[0]);for(let a=1;a<s;++a)r.push(", "),this.visitTypeNode(n[a]);r.push(">(")}}else r.push("(");var i=e.length;if(i){this.visitNode(e[0]);for(let s=1;s<i;++s)r.push(", "),this.visitNode(e[s])}r.push(")")}visitClassExpression(n){var e=n.declaration;this.visitClassDeclaration(e)}visitCommaExpression(n){var e=n.expressions,r=assert(e.length);this.visitNode(e[0]);var i=this.sb;for(let s=1;s<r;++s)i.push(","),this.visitNode(e[s])}visitElementAccessExpression(n){var e=this.sb;this.visitNode(n.expression),e.push("["),this.visitNode(n.elementExpression),e.push("]")}visitFunctionExpression(n){var e=n.declaration;e.arrowKind?assert(e.name.text.length==0):e.name.text.length?this.sb.push("function "):this.sb.push("function"),this.visitFunctionCommon(e)}visitLiteralExpression(n){switch(n.literalKind){case 0:{this.visitFloatLiteralExpression(n);break}case 1:{this.visitIntegerLiteralExpression(n);break}case 2:{this.visitStringLiteralExpression(n);break}case 3:{this.visitTemplateLiteralExpression(n);break}case 4:{this.visitRegexpLiteralExpression(n);break}case 5:{this.visitArrayLiteralExpression(n);break}case 6:{this.visitObjectLiteralExpression(n);break}default:{assert(!1);break}}}visitFloatLiteralExpression(n){this.sb.push(n.value.toString())}visitInstanceOfExpression(n){this.visitNode(n.expression),this.sb.push(" instanceof "),this.visitTypeNode(n.isType)}visitIntegerLiteralExpression(n){this.sb.push(i64_to_string(n.value))}visitStringLiteral(n){var e=this.sb;e.push('"'),e.push(de(n,34)),e.push('"')}visitStringLiteralExpression(n){this.visitStringLiteral(n.value)}visitTemplateLiteralExpression(n){var e=this.sb,r=n.tag,i=n.parts,s=n.expressions;r&&this.visitNode(r),e.push("`"),e.push(de(i[0],96)),assert(i.length==s.length+1);for(let a=0,o=s.length;a<o;++a)e.push("${"),this.visitNode(s[a]),e.push("}"),e.push(de(i[a+1],96));e.push("`")}visitRegexpLiteralExpression(n){var e=this.sb;e.push("/"),e.push(n.pattern),e.push("/"),e.push(n.patternFlags)}visitNewExpression(n){this.sb.push("new "),this.visitTypeName(n.typeName),this.visitArguments(n.typeArguments,n.args)}visitParenthesizedExpression(n){var e=this.sb;e.push("("),this.visitNode(n.expression),e.push(")")}visitPropertyAccessExpression(n){this.visitNode(n.expression),this.sb.push("."),this.visitIdentifierExpression(n.property)}visitTernaryExpression(n){var e=this.sb;this.visitNode(n.condition),e.push(" ? "),this.visitNode(n.ifThen),e.push(" : "),this.visitNode(n.ifElse)}visitUnaryExpression(n){switch(n.kind){case 27:{this.visitUnaryPostfixExpression(n);break}case 28:{this.visitUnaryPrefixExpression(n);break}default:assert(!1)}}visitUnaryPostfixExpression(n){this.visitNode(n.operand),this.sb.push(Te(n.operator))}visitUnaryPrefixExpression(n){this.sb.push(Te(n.operator)),this.visitNode(n.operand)}visitNodeAndTerminate(n){this.visitNode(n);var e=this.sb;if(!e.length||n.kind==47||n.kind==38)e.push(`;
`);else{let r=e[e.length-1],i=r.length-1;i>=0&&(r.charCodeAt(i)==125||r.charCodeAt(i)==59)?e.push(`
`):e.push(`;
`)}}visitBlockStatement(n){var e=this.sb,r=n.statements,i=r.length;if(i){e.push(`{
`);let s=++this.indentLevel;for(let a=0;a<i;++a)z(e,s),this.visitNodeAndTerminate(r[a]);z(e,--this.indentLevel),e.push("}")}else e.push("{}")}visitBreakStatement(n){var e=n.label;e?(this.sb.push("break "),this.visitIdentifierExpression(e)):this.sb.push("break")}visitContinueStatement(n){var e=n.label;e?(this.sb.push("continue "),this.visitIdentifierExpression(e)):this.sb.push("continue")}visitClassDeclaration(n,e=!1){var r=n.decorators;if(r)for(let _=0,f=r.length;_<f;++_)this.serializeDecorator(r[_]);var i=this.sb;e?i.push("export default "):this.serializeExternalModifiers(n),n.is(128)&&i.push("abstract "),n.name.text.length?(i.push("class "),this.visitIdentifierExpression(n.name)):i.push("class");var s=n.typeParameters;if(s!=null&&s.length>0){i.push("<"),this.visitTypeParameter(s[0]);for(let _=1,f=s.length;_<f;++_)i.push(", "),this.visitTypeParameter(s[_]);i.push(">")}var a=n.extendsType;a&&(i.push(" extends "),this.visitTypeNode(a));var o=n.implementsTypes;if(o){let _=o.length;if(_){i.push(" implements "),this.visitTypeNode(o[0]);for(let f=1;f<_;++f)i.push(", "),this.visitTypeNode(o[f])}}var l=n.indexSignature,p=n.members,c=p.length;if(l||c){i.push(` {
`);let _=++this.indentLevel;l&&(z(i,_),this.visitNodeAndTerminate(l));for(let f=0,d=p.length;f<d;++f){let y=p[f];(y.kind!=54||y.parameterIndex<0)&&(z(i,_),this.visitNodeAndTerminate(y))}z(i,--this.indentLevel),i.push("}")}else i.push(" {}")}visitDoStatement(n){var e=this.sb;e.push("do "),this.visitNode(n.statement),n.statement.kind==30?e.push(" while ("):(e.push(`;
`),z(e,this.indentLevel),e.push("while (")),this.visitNode(n.condition),e.push(")")}visitEmptyStatement(n){}visitEnumDeclaration(n,e=!1){var r=this.sb;e?r.push("export default "):this.serializeExternalModifiers(n),n.is(8)&&r.push("const "),r.push("enum "),this.visitIdentifierExpression(n.name);var i=n.values,s=i.length;if(s){r.push(` {
`);let a=++this.indentLevel;z(r,a),this.visitEnumValueDeclaration(n.values[0]);for(let o=1;o<s;++o)r.push(`,
`),z(r,a),this.visitEnumValueDeclaration(n.values[o]);r.push(`
`),z(r,--this.indentLevel),r.push("}")}else r.push(" {}")}visitEnumValueDeclaration(n){this.visitIdentifierExpression(n.name);var e=n.initializer;e&&(this.sb.push(" = "),this.visitNode(e))}visitExportImportStatement(n){var e=this.sb;e.push("export import "),this.visitIdentifierExpression(n.externalName),e.push(" = "),this.visitIdentifierExpression(n.name)}visitExportMember(n){this.visitIdentifierExpression(n.localName),n.exportedName.text!=n.localName.text&&(this.sb.push(" as "),this.visitIdentifierExpression(n.exportedName))}visitExportStatement(n){var e=this.sb;n.isDeclare&&e.push("declare ");var r=n.members;if(r==null)e.push("export *");else if(r.length>0){let s=r.length;e.push(`export {
`);let a=++this.indentLevel;z(e,a),this.visitExportMember(r[0]);for(let o=1;o<s;++o)e.push(`,
`),z(e,a),this.visitExportMember(r[o]);--this.indentLevel,e.push(`
}`)}else e.push("export {}");var i=n.path;i&&(e.push(" from "),this.visitStringLiteralExpression(i)),e.push(";")}visitExportDefaultStatement(n){var e=n.declaration;switch(e.kind){case 52:{this.visitEnumDeclaration(e,!0);break}case 55:{this.visitFunctionDeclaration(e,!0);break}case 51:{this.visitClassDeclaration(e,!0);break}case 57:{this.visitInterfaceDeclaration(e,!0);break}case 59:{this.visitNamespaceDeclaration(e,!0);break}default:assert(!1)}}visitExpressionStatement(n){this.visitNode(n.expression)}visitFieldDeclaration(n){var e=n.decorators;if(e)for(let a=0,o=e.length;a<o;++a)this.serializeDecorator(e[a]);this.serializeAccessModifiers(n),this.visitIdentifierExpression(n.name);var r=this.sb;n.flags&8192&&r.push("!");var i=n.type;i&&(r.push(": "),this.visitTypeNode(i));var s=n.initializer;s&&(r.push(" = "),this.visitNode(s))}visitForStatement(n){var e=this.sb;e.push("for (");var r=n.initializer;r&&this.visitNode(r);var i=n.condition;i?(e.push("; "),this.visitNode(i)):e.push(";");var s=n.incrementor;s?(e.push("; "),this.visitNode(s)):e.push(";"),e.push(") "),this.visitNode(n.statement)}visitForOfStatement(n){var e=this.sb;e.push("for ("),this.visitNode(n.variable),e.push(" of "),this.visitNode(n.iterable),e.push(") "),this.visitNode(n.statement)}visitFunctionDeclaration(n,e=!1){var r=this.sb,i=n.decorators;if(i)for(let s=0,a=i.length;s<a;++s)this.serializeDecorator(i[s]);e?r.push("export default "):(this.serializeExternalModifiers(n),this.serializeAccessModifiers(n)),n.name.text.length?r.push("function "):r.push("function"),this.visitFunctionCommon(n)}visitFunctionCommon(n){var e=this.sb;this.visitIdentifierExpression(n.name);var r=n.signature,i=n.typeParameters;if(i){let o=i.length;if(o){e.push("<"),this.visitTypeParameter(i[0]);for(let l=1;l<o;++l)e.push(", "),this.visitTypeParameter(i[l]);e.push(">")}}if(n.arrowKind==2){let o=r.parameters;assert(o.length==1),assert(!r.explicitThisType),this.serializeParameter(o[0])}else{e.push("(");let o=r.parameters,l=o.length,p=r.explicitThisType;if(p&&(e.push("this: "),this.visitTypeNode(p)),l){p&&e.push(", "),this.serializeParameter(o[0]);for(let c=1;c<l;++c)e.push(", "),this.serializeParameter(o[c])}}var s=n.body,a=r.returnType;n.arrowKind?s?(n.arrowKind==2?assert(Se(a)):Se(a)?e.push(")"):(e.push("): "),this.visitTypeNode(a)),e.push(" => "),this.visitNode(s)):(assert(!Se(a)),e.push(" => "),this.visitTypeNode(a)):(!Se(a)&&!n.isAny(266240)?(e.push("): "),this.visitTypeNode(a)):e.push(")"),s&&(e.push(" "),this.visitNode(s)))}visitIfStatement(n){var e=this.sb;e.push("if ("),this.visitNode(n.condition),e.push(") ");var r=n.ifTrue;this.visitNode(r),r.kind!=30&&e.push(`;
`);var i=n.ifFalse;i&&(r.kind==30?e.push(" else "):e.push("else "),this.visitNode(i))}visitImportDeclaration(n){var e=n.foreignName,r=n.name;this.visitIdentifierExpression(e),e.text!=r.text&&(this.sb.push(" as "),this.visitIdentifierExpression(r))}visitImportStatement(n){var e=this.sb;e.push("import ");var r=n.declarations,i=n.namespaceName;if(r){let s=r.length;if(s){e.push(`{
`);let a=++this.indentLevel;z(e,a),this.visitImportDeclaration(r[0]);for(let o=1;o<s;++o)e.push(`,
`),z(e,a),this.visitImportDeclaration(r[o]);--this.indentLevel,e.push(`
} from `)}else e.push("{} from ")}else i&&(e.push("* as "),this.visitIdentifierExpression(i),e.push(" from "));this.visitStringLiteralExpression(n.path)}visitIndexSignature(n){var e=this.sb;e.push("[key: "),this.visitTypeNode(n.keyType),e.push("]: "),this.visitTypeNode(n.valueType)}visitInterfaceDeclaration(n,e=!1){var r=n.decorators;if(r)for(let p=0,c=r.length;p<c;++p)this.serializeDecorator(r[p]);var i=this.sb;e?i.push("export default "):this.serializeExternalModifiers(n),i.push("interface "),this.visitIdentifierExpression(n.name);var s=n.typeParameters;if(s!=null&&s.length>0){i.push("<"),this.visitTypeParameter(s[0]);for(let p=1,c=s.length;p<c;++p)i.push(", "),this.visitTypeParameter(s[p]);i.push(">")}var a=n.extendsType;a&&(i.push(" extends "),this.visitTypeNode(a)),i.push(` {
`);var o=++this.indentLevel,l=n.members;for(let p=0,c=l.length;p<c;++p)z(i,o),this.visitNodeAndTerminate(l[p]);--this.indentLevel,i.push("}")}visitMethodDeclaration(n){var e=n.decorators;if(e)for(let r=0,i=e.length;r<i;++r)this.serializeDecorator(e[r]);this.serializeAccessModifiers(n),n.is(2048)?this.sb.push("get "):n.is(4096)&&this.sb.push("set "),this.visitFunctionCommon(n)}visitNamespaceDeclaration(n,e=!1){var r=n.decorators;if(r)for(let o=0,l=r.length;o<l;++o)this.serializeDecorator(r[o]);var i=this.sb;e?i.push("export default "):this.serializeExternalModifiers(n),i.push("namespace "),this.visitIdentifierExpression(n.name);var s=n.members,a=s.length;if(a){i.push(` {
`);let o=++this.indentLevel;for(let l=0,p=s.length;l<p;++l)z(i,o),this.visitNodeAndTerminate(s[l]);z(i,--this.indentLevel),i.push("}")}else i.push(" {}")}visitReturnStatement(n){var e=n.value;e?(this.sb.push("return "),this.visitNode(e)):this.sb.push("return")}visitSwitchCase(n){var e=this.sb,r=n.label;r?(e.push("case "),this.visitNode(r),e.push(`:
`)):e.push(`default:
`);var i=n.statements,s=i.length;if(s){let a=++this.indentLevel;z(e,a),this.visitNodeAndTerminate(i[0]);for(let o=1;o<s;++o)z(e,a),this.visitNodeAndTerminate(i[o]);--this.indentLevel}}visitSwitchStatement(n){var e=this.sb;e.push("switch ("),this.visitNode(n.condition),e.push(`) {
`);var r=++this.indentLevel,i=n.cases;for(let s=0,a=i.length;s<a;++s)z(e,r),this.visitSwitchCase(i[s]),e.push(`
`);--this.indentLevel,e.push("}")}visitThrowStatement(n){this.sb.push("throw "),this.visitNode(n.value)}visitTryStatement(n){var e=this.sb;e.push(`try {
`);var r=++this.indentLevel,i=n.statements;for(let o=0,l=i.length;o<l;++o)z(e,r),this.visitNodeAndTerminate(i[o]);var s=n.catchVariable;if(s){z(e,r-1),e.push("} catch ("),this.visitIdentifierExpression(s),e.push(`) {
`);let o=n.catchStatements;if(o)for(let l=0,p=o.length;l<p;++l)z(e,r),this.visitNodeAndTerminate(o[l])}var a=n.finallyStatements;if(a){z(e,r-1),e.push(`} finally {
`);for(let o=0,l=a.length;o<l;++o)z(e,r),this.visitNodeAndTerminate(a[o])}z(e,r-1),e.push("}")}visitTypeDeclaration(n){var e=n.decorators;if(e)for(let s=0,a=e.length;s<a;++s)this.serializeDecorator(e[s]);var r=this.sb;this.serializeExternalModifiers(n),r.push("type "),this.visitIdentifierExpression(n.name);var i=n.typeParameters;if(i){let s=i.length;if(s){r.push("<");for(let a=0;a<s;++a)this.visitTypeParameter(i[a]);r.push(">")}}r.push(" = "),this.visitTypeNode(n.type)}visitModuleDeclaration(n){var e=this.sb;n.flags&4&&e.push("declare "),e.push('module "'),e.push(de(n.moduleName,34)),e.push('"')}visitVariableDeclaration(n){this.visitIdentifierExpression(n.name);var e=n.type,r=this.sb;n.flags&8192&&r.push("!"),e&&(r.push(": "),this.visitTypeNode(e));var i=n.initializer;i&&(r.push(" = "),this.visitNode(i))}visitVariableStatement(n){var e=n.decorators;if(e)for(let o=0,l=e.length;o<l;++o)this.serializeDecorator(e[o]);var r=this.sb,i=n.declarations,s=assert(i.length),a=i[0];this.serializeExternalModifiers(a),r.push(a.is(8)?"const ":a.is(16)?"let ":"var "),this.visitVariableDeclaration(n.declarations[0]);for(let o=1;o<s;++o)r.push(", "),this.visitVariableDeclaration(n.declarations[o])}visitWhileStatement(n){var e=this.sb;e.push("while ("),this.visitNode(n.condition);var r=n.statement;r.kind==34?e.push(")"):(e.push(") "),this.visitNode(n.statement))}serializeDecorator(n){var e=this.sb;e.push("@"),this.visitNode(n.name);var r=n.args;if(r){e.push("(");let i=r.length;if(i){this.visitNode(r[0]);for(let s=1;s<i;++s)e.push(", "),this.visitNode(r[s])}e.push(`)
`)}else e.push(`
`);z(e,this.indentLevel)}serializeParameter(n){var e=this.sb,r=n.parameterKind,i=n.implicitFieldDeclaration;i&&this.serializeAccessModifiers(i),r==2&&e.push("..."),this.visitIdentifierExpression(n.name);var s=n.type,a=n.initializer;s&&(r==1&&!a&&e.push("?"),Se(s)||(e.push(": "),this.visitTypeNode(s))),a&&(e.push(" = "),this.visitNode(a))}serializeExternalModifiers(n){var e=this.sb;n.is(2)?e.push("export "):n.is(1)?e.push("import "):n.is(4)&&e.push("declare ")}serializeAccessModifiers(n){var e=this.sb;n.is(4)&&e.push("declare "),n.is(256)?e.push("public "):n.is(512)?e.push("private "):n.is(1024)&&e.push("protected "),n.is(32)?e.push("static "):n.is(128)&&e.push("abstract "),n.is(64)&&e.push("readonly ")}finish(){var n=this.sb.join("");return this.sb=[],n}};var iV=Xu;export{$n as ASTBuilder,ys as ArrayLiteralExpression,Bi as ArrowKind,gs as AssertionExpression,Zr as AssertionKind,Mu as AtomicRMWOp,Ts as BinaryExpression,mo as BinaryModule,oi as BinaryOp,qs as BlockStatement,e_ as BrOnOp,Qs as BreakStatement,bs as CallExpression,$r as Class,Mi as ClassDeclaration,Is as ClassExpression,An as ClassPrototype,vs as CommaExpression,Bo as CommentKind,Es as CommentNode,Me as CommonFlags,w as CommonNames,Xs as CompiledExpression,gr as Compiler,Vl as ConditionKind,Ql as ConstantValueKind,tu as Constraints,xs as ConstructorExpression,Zs as ContinueStatement,TS as DEFAULT_STACK_SIZE,Ge as DeclarationStatement,vt as DeclaredElement,j as DecoratorFlags,Tt as DecoratorKind,ds as DecoratorNode,ps as DiagnosticCategory,nt as DiagnosticCode,Ue as DiagnosticEmitter,Xr as DiagnosticMessage,js as DoStatement,vn as Element,Ss as ElementAccessExpression,J as ElementKind,Js as EmptyStatement,Ha as Enum,$s as EnumDeclaration,Xa as EnumValue,ea as EnumValueDeclaration,na as ExportDefaultStatement,ta as ExportImportStatement,ra as ExportMember,Fn as ExportNames,ia as ExportStatement,_e as Expression,cr as ExpressionId,uo as ExpressionRunnerFlags,sa as ExpressionStatement,$l as ExternalKind,RS as FEATURE_BULK_MEMORY,LS as FEATURE_EXCEPTION_HANDLING,US as FEATURE_EXTENDED_CONST,wS as FEATURE_FUNCTION_REFERENCES,PS as FEATURE_GC,OS as FEATURE_MEMORY64,kS as FEATURE_MULTI_VALUE,xS as FEATURE_MUTABLE_GLOBALS,SS as FEATURE_NONTRAPPING_F2I,FS as FEATURE_REFERENCE_TYPES,MS as FEATURE_RELAXED_SIMD,vS as FEATURE_SIGN_EXTENSION,AS as FEATURE_SIMD,CS as FEATURE_TAIL_CALLS,NS as FEATURE_THREADS,Ws as FalseExpression,Ut as Feature,iu as FeatureFlags,zi as Field,aa as FieldDeclaration,Gl as FieldFlags,Ka as FieldPrototype,Sn as File,Rs as FloatLiteralExpression,Pe as Flow,Va as FlowFlags,la as ForOfStatement,oa as ForStatement,Xe as Function,ur as FunctionDeclaration,As as FunctionExpression,We as FunctionPrototype,fs as FunctionTypeNode,is as GETTER_PREFIX,dr as Global,Ce as INDEX_SUFFIX,Co as INNER_DELIMITER,Ci as INSTANCE_DELIMITER,$e as IdentifierExpression,Go as IdentifierHandling,ua as IfStatement,pa as ImportDeclaration,Ui as ImportStatement,Yi as IndexSignature,Ks as IndexSignatureNode,Ns as InstanceOfExpression,Ls as IntegerLiteralExpression,Hi as Interface,ca as InterfaceDeclaration,qa as InterfacePrototype,er as JSBuilder,Je as LIBRARY_PREFIX,ss as LIBRARY_SUBST,at as LiteralExpression,De as LiteralKind,Oe as Local,za as LocalFlags,_i as MemorySegment,_a as MethodDeclaration,tt as Module,ga as ModuleDeclaration,Oi as NamedTypeNode,Rn as Namespace,fa as NamespaceDeclaration,Cs as NewExpression,O as Node,gt as NodeKind,Fs as NullExpression,ks as ObjectLiteralExpression,Ps as OmittedExpression,Fe as OperatorKind,kn as Options,jd as PARENT_SUBST,je as PATH_DELIMITER,ql as Parameter,Qr as ParameterKind,ms as ParameterNode,Os as ParenthesizedExpression,bn as Parser,he as Precedence,In as Program,Wi as Property,ws as PropertyAccessExpression,Er as PropertyPrototype,se as Range,$c as RefAsOp,lo as RefIsOp,Ms as RegexpLiteralExpression,gi as Relooper,Ra as ReportMode,Vi as Resolver,ha as ReturnStatement,rs as Runtime,ru as RuntimeFeatures,ns as SETTER_PREFIX,Uu as SIMDExtractOp,Gu as SIMDLoadOp,Vu as SIMDLoadStoreLaneOp,Bu as SIMDReplaceOp,Du as SIMDShiftOp,zu as SIMDTernaryOp,Fi as STATIC_DELIMITER,Fo as STUB_DELIMITER,On as SideEffects,ge as Signature,lr as Source,jr as SourceKind,Sa as State,ue as Statement,Bs as StringLiteralExpression,Ds as SuperExpression,Pn as SwitchBuilder,ma as SwitchCase,da as SwitchStatement,tr as TSDBuilder,Wr as Target,Gs as TemplateLiteralExpression,Us as TernaryExpression,Vs as ThisExpression,Ea as ThrowStatement,Jr as Token,Gi as Tokenizer,zs as TrueExpression,ya as TryStatement,u as Type,Ta as TypeDeclaration,ct as TypeDefinition,Bt as TypeFlags,or as TypeKind,_s as TypeName,Pi as TypeNode,hs as TypeParameterNode,F as TypeRef,xt as TypedElement,Yr as Typeinfo,Li as TypeinfoFlags,wi as UnaryExpression,mn as UnaryOp,Ys as UnaryPostfixExpression,Hs as UnaryPrefixExpression,ba as VariableDeclaration,qr as VariableLikeDeclarationStatement,Wt as VariableLikeElement,Ia as VariableStatement,va as VoidStatement,xa as WhileStatement,hS as addGlobalAlias,me as allocPtrArray,pR as buildJS,uR as buildTSD,lR as compile,Be as createType,iV as default,ip as diagnosticCategoryToColor,us as diagnosticCategoryToString,es as diagnosticCodeToString,DS as disableFeature,BS as enableFeature,eu as expandType,zr as featureToString,bt as findDecorator,lt as findUsedLocals,np as formatDiagnostic,np as formatDiagnosticMessage,Ve as getBinaryLeft,ai as getBinaryOp,Re as getBinaryRight,cR as getBinaryenModuleRef,gn as getBlockChildAt,yn as getBlockChildCount,En as getBlockName,L2 as getBreakCondition,N2 as getBreakName,ke as getCallOperandAt,ut as getCallOperandCount,hn as getCallTarget,Ke as getConstValueF32,qe as getConstValueF64,ie as getConstValueI32,rt as getConstValueI64High,ze as getConstValueI64Low,nu as getConstValueV128,Fc as getDefaultParameterName,aR as getDependee,KS as getDiagnosticCategory,XS as getDiagnosticCode,qS as getDiagnosticMessage,QS as getDiagnosticRange,ZS as getDiagnosticRelatedRange,F2 as getDropValue,te as getExpressionId,oe as getExpressionType,O2 as getFunctionBody,w2 as getFunctionName,M2 as getFunctionParams,U2 as getFunctionResults,B2 as getFunctionVars,dn as getGlobalGetName,V2 as getGlobalInit,D2 as getGlobalName,G2 as getGlobalType,Ga as getIfCondition,si as getIfFalse,fn as getIfTrue,zl as getLoadBytes,T2 as getLoadOffset,b2 as getLoadPtr,pt as getLocalGetIndex,Ba as getLocalSetIndex,mr as getLocalSetValue,A2 as getLoopBody,R2 as getLoopName,P2 as getMemoryGrowDelta,JS as getRangeEnd,$S as getRangeSource,jS as getRangeStart,k2 as getReturnValue,C2 as getSelectCondition,Hl as getSelectElse,Yl as getSelectThen,fi as getSideEffects,HS as getSource,eR as getSourceNormalizedPath,I2 as getStoreBytes,v2 as getStoreOffset,x2 as getStorePtr,S2 as getStoreValue,z2 as getTagName,W2 as getTagParams,Y2 as getTagResults,_n as getUnaryOp,Da as getUnaryValue,oR as initializeProgram,et as isConstNonZero,be as isConstZero,xn as isDeclaredElement,iR as isError,su as isGlobalMutable,Vo as isIllegalVariableIdentifier,tR as isInfo,Wl as isLoadSigned,cn as isLocalTee,Se as isTypeOmitted,zo as isTypedElement,rR as isWarning,Ie as mangleInternalName,Di as mangleInternalPath,fo as mustPreserveSideEffects,po as needsExplicitUnreachable,eS as newOptions,WS as newProgram,YS as nextDiagnostic,sR as nextFile,Te as operatorTokenToString,fR as optimize,nR as parse,He as readString,mS as removeGlobalAlias,VS as setBasenameHint,IS as setBundleVersion,nS as setExportMemory,gS as setExportRuntime,dS as setExportStart,pS as setExportTable,sS as setImportMemory,uS as setImportTable,aS as setInitialMemory,yS as setLowMemoryLimit,oS as setMaximumMemory,_S as setMemoryBase,iS as setNoAssert,ES as setNoUnsafe,GS as setOptimizeLevelHints,zS as setPedantic,rS as setRuntime,lS as setSharedMemory,cS as setSourceMap,bS as setStackSize,fS as setTableBase,tS as setTarget,sp as tokenFromKeyword,ap as tokenIsAlsoIdentifier,Kr as typesToRefs,cs as typesToString,Uo as util,_R as validate};
//# sourceMappingURL=assemblyscript.js.map
